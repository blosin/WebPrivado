(self.webpackChunkfront_app=self.webpackChunkfront_app||[]).push([[179],{8255:Ze=>{function De(U){return Promise.resolve().then(()=>{var c=new Error("Cannot find module '"+U+"'");throw c.code="MODULE_NOT_FOUND",c})}De.keys=()=>[],De.resolve=De,De.id=8255,Ze.exports=De},7716:(Ze,De,U)=>{"use strict";U.d(De,{deG:()=>Df,tb:()=>rv,AFp:()=>Tw,ip1:()=>nv,CZH:()=>Wl,hGG:()=>UM,z2F:()=>Sh,sBO:()=>VN,Sil:()=>Ch,_Vd:()=>Ku,EJc:()=>pc,SBq:()=>as,qLn:()=>D,vpe:()=>Vo,gxx:()=>Vu,tBr:()=>ml,XFs:()=>Je,OlP:()=>Tn,zs3:()=>sn,ZZ4:()=>Iy,aQg:()=>Qd,soG:()=>Ug,YKP:()=>z1,v3s:()=>xM,h0i:()=>Ll,PXZ:()=>Fw,R0b:()=>fr,FiY:()=>zs,Lbi:()=>Iw,g9A:()=>Ua,Qsj:()=>vn,FYo:()=>og,JOm:()=>Li,Tiy:()=>V1,q3G:()=>pn,tp0:()=>es,EAV:()=>PM,Rgc:()=>th,dDg:()=>Mw,DyG:()=>ua,q4F:()=>B1,GfV:()=>U1,s_b:()=>Ns,ifc:()=>Fe,eFA:()=>Lw,G48:()=>Rw,Gpc:()=>z,X6Q:()=>uv,_c5:()=>_v,VLi:()=>MI,c2e:()=>iv,zSh:()=>Cp,wAp:()=>lt,vHH:()=>Ie,EiD:()=>fd,mCW:()=>Nu,qzn:()=>bl,JVY:()=>Uf,pB0:()=>f0,eBb:()=>ud,L6k:()=>h_,LAX:()=>h0,cg1:()=>dy,Tjo:()=>VM,kL8:()=>hy,yhl:()=>Vf,dqk:()=>zt,sIi:()=>Ap,CqO:()=>CT,QGY:()=>Q_,F4k:()=>ET,RDi:()=>tf,AaK:()=>J,z3N:()=>xr,qOj:()=>mb,TTD:()=>Mr,_Bn:()=>ED,xp6:()=>Pu,uIk:()=>bb,Tol:()=>Xb,DjV:()=>ly,ekj:()=>Jb,Suo:()=>pw,Xpm:()=>Nt,lG2:()=>Rc,Yz7:()=>bt,cJS:()=>Mn,oAB:()=>za,Yjl:()=>Wh,Y36:()=>Hu,_UZ:()=>bT,BQk:()=>J_,ynx:()=>Lp,qZA:()=>Pp,TgZ:()=>$u,EpF:()=>wT,n5z:()=>Cf,Ikx:()=>cy,SDv:()=>qd,QtT:()=>by,pQV:()=>tg,LFG:()=>hn,$8M:()=>aa,NdJ:()=>X_,CRH:()=>nI,oxw:()=>tN,ALo:()=>lc,lcZ:()=>hw,Hsn:()=>Zb,F$t:()=>ST,Q6J:()=>kp,s9C:()=>qb,MGl:()=>Vp,VKq:()=>fh,WLB:()=>uw,kEZ:()=>WD,iGM:()=>Er,MAs:()=>Mb,CHM:()=>cf,LSH:()=>xu,kYT:()=>zh,Udp:()=>ry,d8E:()=>$p,YNc:()=>Nb,W1O:()=>iI,_uU:()=>sy,Oqu:()=>i1,hij:()=>oy,Gf:()=>An});var c=U(9765),le=U(5319),Z=U(7574),oe=U(6682),ge=U(8819);function Q(a){for(let l in a)if(a[l]===Q)return l;throw Error("Could not find renamed property on target object.")}function ae(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function J(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(J).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function $(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const V=Q({__forward_ref__:Q});function z(a){return a.__forward_ref__=z,a.toString=function(){return J(this())},a}function B(a){return Y(a)?a():a}function Y(a){return"function"==typeof a&&a.hasOwnProperty(V)&&a.__forward_ref__===z}class Ie extends Error{constructor(l,d){super(function(a,l){return`${a?`NG0${a}: `:""}${l}`}(l,d)),this.code=l}}function ie(a){return"string"==typeof a?a:null==a?"":String(a)}function ue(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():ie(a)}function St(a,l){const d=l?` in ${l}`:"";throw new Ie("201",`No provider for ${ue(a)} found${d}`)}function ut(a,l,d,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${d} ${f} ${l} <=Actual]`))}function bt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Mn(a){return{providers:a.providers||[],imports:a.imports||[]}}function lr(a){return mr(a,Gi)||mr(a,qo)}function mr(a,l){return a.hasOwnProperty(l)?a[l]:null}function Za(a){return a&&(a.hasOwnProperty(oo)||a.hasOwnProperty(zo))?a[oo]:null}const Gi=Q({\u0275prov:Q}),oo=Q({\u0275inj:Q}),qo=Q({ngInjectableDef:Q}),zo=Q({ngInjectorDef:Q});var Je=(()=>((Je=Je||{})[Je.Default=0]="Default",Je[Je.Host=1]="Host",Je[Je.Self=2]="Self",Je[Je.SkipSelf=4]="SkipSelf",Je[Je.Optional=8]="Optional",Je))();let ur;function Gn(a){const l=ur;return ur=a,l}function Tt(a,l,d){const f=lr(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&Je.Optional?null:void 0!==l?l:void St(J(a),"Injector")}function Lt(a){return{toString:a}.toString()}var Ot=(()=>((Ot=Ot||{})[Ot.OnPush=0]="OnPush",Ot[Ot.Default=1]="Default",Ot))(),Fe=(()=>((Fe=Fe||{})[Fe.Emulated=0]="Emulated",Fe[Fe.None=2]="None",Fe[Fe.ShadowDom=3]="ShadowDom",Fe))();const at="undefined"!=typeof globalThis&&globalThis,Mc="undefined"!=typeof window&&window,qa="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ai="undefined"!=typeof global&&global,zt=at||Ai||Mc||qa,Jt={},G=[],H=Q({\u0275cmp:Q}),ne=Q({\u0275dir:Q}),de=Q({\u0275pipe:Q}),ee=Q({\u0275mod:Q}),ke=Q({\u0275loc:Q}),We=Q({\u0275fac:Q}),Vt=Q({__NG_ELEMENT_ID__:Q});let Ht=0;function Nt(a){return Lt(()=>{const d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||G,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Fe.Emulated,id:"c",styles:a.styles||G,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.directives,_=a.features,b=a.pipes;return f.id+=Ht++,f.inputs=Wa(a.inputs,d),f.outputs=Wa(a.outputs),_&&_.forEach(E=>E(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(Ar):null,f.pipeDefs=b?()=>("function"==typeof b?b():b).map(Nr):null,f})}function Ar(a){return Cn(a)||function(a){return a[ne]||null}(a)}function Nr(a){return function(a){return a[de]||null}(a)}const Fs={};function za(a){return Lt(()=>{const l={type:a.type,bootstrap:a.bootstrap||G,declarations:a.declarations||G,imports:a.imports||G,exports:a.exports||G,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(Fs[a.id]=a.type),l})}function zh(a,l){return Lt(()=>{const d=Ni(a,!0);d.declarations=l.declarations||G,d.imports=l.imports||G,d.exports=l.exports||G})}function Wa(a,l){if(null==a)return Jt;const d={};for(const f in a)if(a.hasOwnProperty(f)){let g=a[f],_=g;Array.isArray(g)&&(_=g[1],g=g[0]),d[g]=f,l&&(l[g]=_)}return d}const Rc=Nt;function Wh(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function Cn(a){return a[H]||null}function Ni(a,l){const d=a[ee]||null;if(!d&&!0===l)throw new Error(`Type ${J(a)} does not have '\u0275mod' property.`);return d}function Wi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Mi(a){return Array.isArray(a)&&!0===a[1]}function ou(a){return 0!=(8&a.flags)}function co(a){return 2==(2&a.flags)}function _n(a){return 1==(1&a.flags)}function Ri(a){return null!==a.template}function Yi(a){return 0!=(512&a[2])}function Jo(a,l){return a.hasOwnProperty(We)?a[We]:null}class Ja{constructor(l,d,f){this.previousValue=l,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Mr(){return au}function au(a){return a.type.prototype.ngOnChanges&&(a.setInput=Rm),Mm}function Mm(){const a=hi(this),l=null==a?void 0:a.current;if(l){const d=a.previous;if(d===Jt)a.previous=l;else for(let f in l)d[f]=l[f];a.current=null,this.ngOnChanges(l)}}function Rm(a,l,d,f){const g=hi(a)||function(a,l){return a[kc]=l}(a,{previous:Jt,current:null}),_=g.current||(g.current={}),b=g.previous,E=this.declaredInputs[d],I=b[E];_[E]=new Ja(I&&I.currentValue,l,b===Jt),a[f]=l}Mr.ngInherit=!0;const kc="__ngSimpleChanges__";function hi(a){return a[kc]||null}let Pc;function tf(a){Pc=a}function Fc(){return void 0!==Pc?Pc:"undefined"!=typeof document?document:void 0}function ln(a){return!!a.listen}const Qo={createRenderer:(a,l)=>Fc()};function dn(a){for(;Array.isArray(a);)a=a[0];return a}function Qa(a,l){return dn(l[a])}function fi(a,l){return dn(l[a.index])}function Uc(a,l){return a.data[l]}function fo(a,l){return a[l]}function pi(a,l){const d=l[a];return Wi(d)?d:d[0]}function of(a){return 4==(4&a[2])}function Om(a){return 128==(128&a[2])}function ys(a,l){return null==l?null:a[l]}function Bc(a){a[18]=0}function el(a,l){a[5]+=l;let d=a,f=a[3];for(;null!==f&&(1===l&&1===d[5]||-1===l&&0===d[5]);)f[5]+=l,d=f,f=f[3]}const _t={lFrame:zv(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function uf(){return _t.bindingsEnabled}function Se(){return _t.lFrame.lView}function xt(){return _t.lFrame.tView}function cf(a){return _t.lFrame.contextLView=a,a[8]}function un(){let a=df();for(;null!==a&&64===a.type;)a=a.parent;return a}function df(){return _t.lFrame.currentTNode}function ea(){const a=_t.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}function Jr(a,l){const d=_t.lFrame;d.currentTNode=a,d.isParent=l}function jc(){return _t.lFrame.isParent}function Hc(){_t.lFrame.isParent=!1}function tl(){return _t.isInCheckNoChangesMode}function $c(a){_t.isInCheckNoChangesMode=a}function xn(){const a=_t.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function Ki(){return _t.lFrame.bindingIndex}function Hs(){return _t.lFrame.bindingIndex++}function gi(a){const l=_t.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}function Gc(a){_t.lFrame.inI18n=a}function Lm(a,l){const d=_t.lFrame;d.bindingIndex=d.bindingRootIndex=a,pf(l)}function pf(a){_t.lFrame.currentDirectiveIndex=a}function gf(a){const l=_t.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function mf(){return _t.lFrame.currentQueryIndex}function ta(a){_t.lFrame.currentQueryIndex=a}function Vm(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function na(a,l,d){if(d&Je.SkipSelf){let g=l,_=a;for(;!(g=g.parent,null!==g||d&Je.Host||(g=Vm(_),null===g||(_=_[15],10&g.type))););if(null===g)return!1;l=g,a=_}const f=_t.lFrame=Um();return f.currentTNode=l,f.lView=a,!0}function uu(a){const l=Um(),d=a[1];_t.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function Um(){const a=_t.lFrame,l=null===a?null:a.child;return null===l?zv(a):l}function zv(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Bm(){const a=_t.lFrame;return _t.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Wv=Bm;function cu(){const a=Bm();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Rr(){return _t.lFrame.selectedIndex}function nl(a){_t.lFrame.selectedIndex=a}function kn(){const a=_t.lFrame;return Uc(a.tView,a.selectedIndex)}function Zc(a,l){for(let d=l.directiveStart,f=l.directiveEnd;d<f;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:A,ngOnDestroy:M}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-d,b),E&&((a.contentHooks||(a.contentHooks=[])).push(d,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,E)),I&&(a.viewHooks||(a.viewHooks=[])).push(-d,I),A&&((a.viewHooks||(a.viewHooks=[])).push(d,A),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,A)),null!=M&&(a.destroyHooks||(a.destroyHooks=[])).push(d,M)}}function rl(a,l,d){zc(a,l,3,d)}function qc(a,l,d,f){(3&a[2])===d&&zc(a,l,d,f)}function du(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function zc(a,l,d,f){const _=null!=f?f:-1,b=l.length-1;let E=0;for(let I=void 0!==f?65535&a[18]:0;I<b;I++)if("number"==typeof l[I+1]){if(E=l[I],null!=f&&E>=f)break}else l[I]<0&&(a[18]+=65536),(E<_||-1==_)&&(Yv(a,d,l,I),a[18]=(4294901760&a[18])+I+2),I++}function Yv(a,l,d,f){const g=d[f]<0,_=d[f+1],E=a[g?-d[f]:d[f]];if(g){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class hu{constructor(l,d,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function bf(a,l,d){const f=ln(a);let g=0;for(;g<d.length;){const _=d[g];if("number"==typeof _){if(0!==_)break;g++;const b=d[g++],E=d[g++],I=d[g++];f?a.setAttribute(l,E,I,b):l.setAttributeNS(b,E,I)}else{const b=_,E=d[++g];vs(b)?f&&a.setProperty(l,b,E):f?a.setAttribute(l,b,E):l.setAttribute(b,E),g++}}return g}function sl(a){return 3===a||4===a||6===a}function vs(a){return 64===a.charCodeAt(0)}function yn(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let f=0;f<l.length;f++){const g=l[f];"number"==typeof g?d=g:0===d||Hm(a,d,g,null,-1===d||2===d?l[++f]:null)}}return a}function Hm(a,l,d,f,g){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const E=a[_++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=_-1;break}}}for(;_<a.length;){const E=a[_];if("number"==typeof E)break;if(E===d){if(null===f)return void(null!==g&&(a[_+1]=g));if(f===a[_+1])return void(a[_+2]=g)}_++,null!==f&&_++,null!==g&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,d),null!==f&&a.splice(_++,0,f),null!==g&&a.splice(_++,0,g)}function ol(a){return-1!==a}function sa(a){return 32767&a}function pu(a,l){let d=function(a){return a>>16}(a),f=l;for(;d>0;)f=f[15],d--;return f}let Gm=!0;function gu(a){const l=Gm;return Gm=a,l}let Wc=0;function _u(a,l){const d=yu(a,l);if(-1!==d)return d;const f=l[1];f.firstCreatePass&&(a.injectorIndex=l.length,Yc(f.data,a),Yc(l,null),Yc(f.blueprint,null));const g=al(a,l),_=a.injectorIndex;if(ol(g)){const b=sa(g),E=pu(g,l),I=E[1].data;for(let A=0;A<8;A++)l[_+A]=E[b+A]|I[b+A]}return l[_+8]=g,_}function Yc(a,l){a.push(0,0,0,0,0,0,0,0,l)}function yu(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function al(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,f=null,g=l;for(;null!==g;){const _=g[1],b=_.type;if(f=2===b?_.declTNode:1===b?g[6]:null,null===f)return-1;if(d++,g=g[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function xi(a,l,d){!function(a,l,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Vt)&&(f=d[Vt]),null==f&&(f=d[Vt]=Wc++);const g=255&f;l.data[a+(g>>5)]|=1<<g}(a,l,d)}function dr(a,l,d){if(d&Je.Optional)return a;St(l,"NodeInjector")}function ul(a,l,d,f){if(d&Je.Optional&&void 0===f&&(f=null),0==(d&(Je.Self|Je.Host))){const g=a[9],_=Gn(void 0);try{return g?g.get(l,f,d&Je.Optional):Tt(l,f,d&Je.Optional)}finally{Gn(_)}}return dr(f,l,d)}function Ef(a,l,d,f=Je.Default,g){if(null!==a){const _=function(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Vt)?a[Vt]:void 0;return"number"==typeof l?l>=0?255&l:Kc:l}(d);if("function"==typeof _){if(!na(l,a,f))return f&Je.Host?dr(g,d,f):ul(l,d,f,g);try{const b=_(f);if(null!=b||f&Je.Optional)return b;St(d)}finally{Wv()}}else if("number"==typeof _){let b=null,E=yu(a,l),I=-1,A=f&Je.Host?l[16][6]:null;for((-1===E||f&Je.SkipSelf)&&(I=-1===E?al(a,l):l[E+8],-1!==I&&$t(f,!1)?(b=l[1],E=sa(I),l=pu(I,l)):E=-1);-1!==E;){const M=l[1];if(Jv(_,E,M.data)){const k=JE(E,l,d,b,f,A);if(k!==Ut)return k}I=l[E+8],-1!==I&&$t(f,l[1].data[E+8]===A)&&Jv(_,E,l)?(b=M,E=sa(I),l=pu(I,l)):E=-1}}}return ul(l,d,f,g)}const Ut={};function Kc(){return new oa(un(),Se())}function JE(a,l,d,f,g,_){const b=l[1],E=b.data[a+8],M=ki(E,b,d,null==f?co(E)&&Gm:f!=b&&0!=(3&E.type),g&Je.Host&&_===E);return null!==M?vu(l,b,M,E):Ut}function ki(a,l,d,f,g){const _=a.providerIndexes,b=l.data,E=1048575&_,I=a.directiveStart,M=_>>20,P=g?E+M:a.directiveEnd;for(let j=f?E:E+M;j<P;j++){const W=b[j];if(j<I&&d===W||j>=I&&W.type===d)return j}if(g){const j=b[I];if(j&&Ri(j)&&j.type===d)return I}return null}function vu(a,l,d,f){let g=a[d];const _=l.data;if(function(a){return a instanceof hu}(g)){const b=g;b.resolving&&function(a,l){throw new Ie("200",`Circular dependency in DI detected for ${a}`)}(ue(_[d]));const E=gu(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?Gn(b.injectImpl):null;na(a,f,Je.Default);try{g=a[d]=b.factory(void 0,_,a,f),l.firstCreatePass&&d>=f.directiveStart&&function(a,l,d){const{ngOnChanges:f,ngOnInit:g,ngDoCheck:_}=l.type.prototype;if(f){const b=au(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,b)}g&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,g),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],l)}finally{null!==I&&Gn(I),gu(E),b.resolving=!1,Wv()}}return g}function Jv(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function $t(a,l){return!(a&Je.Self||a&Je.Host&&l)}class oa{constructor(l,d){this._tNode=l,this._lView=d}get(l,d){return Ef(this._tNode,this._lView,l,void 0,d)}}function Cf(a){return Lt(()=>{const l=a.prototype.constructor,d=l[We]||po(l),f=Object.prototype;let g=Object.getPrototypeOf(a.prototype).constructor;for(;g&&g!==f;){const _=g[We]||po(g);if(_&&_!==d)return _;g=Object.getPrototypeOf(g)}return _=>new _})}function po(a){return Y(a)?()=>{const l=po(B(a));return l&&l()}:Jo(a)}function aa(a){return function(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const f=d.length;let g=0;for(;g<f;){const _=d[g];if(sl(_))break;if(0===_)g+=2;else if("number"==typeof _)for(g++;g<f&&"string"==typeof d[g];)g++;else{if(_===l)return d[g+1];g+=2}}}return null}(un(),a)}const la="__parameters__";function $s(a,l,d){return Lt(()=>{const f=function(a){return function(...d){if(a){const f=a(...d);for(const g in f)this[g]=f[g]}}}(l);function g(..._){if(this instanceof g)return f.apply(this,_),this;const b=new g(..._);return E.annotation=b,E;function E(I,A,M){const k=I.hasOwnProperty(la)?I[la]:Object.defineProperty(I,la,{value:[]})[la];for(;k.length<=M;)k.push(null);return(k[M]=k[M]||[]).push(b),I}}return d&&(g.prototype=Object.create(d.prototype)),g.prototype.ngMetadataName=a,g.annotationCls=g,g})}class Tn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=bt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Df=new Tn("AnalyzeForEntryComponents"),ua=Function;function Xr(a,l){void 0===l&&(l=a);for(let d=0;d<a.length;d++){let f=a[d];Array.isArray(f)?(l===a&&(l=a.slice(0,d)),Xr(f,l)):l!==a&&l.push(f)}return l}function _i(a,l){a.forEach(d=>Array.isArray(d)?_i(d,l):l(d))}function da(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function hl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Zs(a,l){const d=[];for(let f=0;f<a;f++)d.push(l);return d}function qn(a,l,d){let f=Qi(a,l);return f>=0?a[1|f]=d:(f=~f,function(a,l,d,f){let g=a.length;if(g==l)a.push(d,f);else if(1===g)a.push(f,a[0]),a[0]=d;else{for(g--,a.push(a[g-1],a[g]);g>l;)a[g]=a[g-2],g--;a[l]=d,a[l+1]=f}}(a,f,l,d)),f}function Af(a,l){const d=Qi(a,l);if(d>=0)return a[1|d]}function Qi(a,l){return function(a,l,d){let f=0,g=a.length>>d;for(;g!==f;){const _=f+(g-f>>1),b=a[_<<d];if(l===b)return _<<d;b>l?g=_:f=_+1}return~(g<<d)}(a,l,1)}const bs={},Rf="__NG_DI_FLAG__",vo="ngTempTokenPath",t_=/\n/gm,zn="__source",fa=Q({provide:String,useValue:Q});let pa;function pl(a){const l=pa;return pa=a,l}function n_(a,l=Je.Default){if(void 0===pa)throw new Error("inject() must be called from an injection context");return null===pa?Tt(a,void 0,l):pa.get(a,l&Je.Optional?null:void 0,l)}function hn(a,l=Je.Default){return(ur||n_)(B(a),l)}function qs(a){const l=[];for(let d=0;d<a.length;d++){const f=B(a[d]);if(Array.isArray(f)){if(0===f.length)throw new Error("Arguments array must have arguments.");let g,_=Je.Default;for(let b=0;b<f.length;b++){const E=f[b],I=kf(E);"number"==typeof I?-1===I?g=E.token:_|=I:g=E}l.push(hn(g,_))}else l.push(hn(f))}return l}function ga(a,l){return a[Rf]=l,a.prototype[Rf]=l,a}function kf(a){return a[Rf]}function Of(a,l,d,f){const g=a[vo];throw l[zn]&&g.unshift(l[zn]),a.message=function(a,l,d,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let g=J(l);if(Array.isArray(l))g=l.map(J).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):J(E)))}g=`{${_.join(", ")}}`}return`${d}${f?"("+f+")":""}[${g}]: ${a.replace(t_,"\n  ")}`}("\n"+a.message,g,d,f),a.ngTokenPath=g,a[vo]=null,a}const ml=ga($s("Inject",a=>({token:a})),-1),zs=ga($s("Optional"),8),es=ga($s("SkipSelf"),4);let od;function wo(a){var l;return(null===(l=function(){if(void 0===od&&(od=null,zt.trustedTypes))try{od=zt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return od}())||void 0===l?void 0:l.createHTML(a))||a}class ma{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class a0 extends ma{getTypeName(){return"HTML"}}class l0 extends ma{getTypeName(){return"Style"}}class u0 extends ma{getTypeName(){return"Script"}}class c0 extends ma{getTypeName(){return"URL"}}class d0 extends ma{getTypeName(){return"ResourceURL"}}function xr(a){return a instanceof ma?a.changingThisBreaksApplicationSecurity:a}function bl(a,l){const d=Vf(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===l}function Vf(a){return a instanceof ma&&a.getTypeName()||null}function Uf(a){return new a0(a)}function h_(a){return new l0(a)}function ud(a){return new u0(a)}function h0(a){return new c0(a)}function f0(a){return new d0(a)}function cd(a){const l=new p0(a);return function(){try{return!!(new window.DOMParser).parseFromString(wo(""),"text/html")}catch(a){return!1}}()?new f_(l):l}class f_{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(wo(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class p0{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=wo(l),d;const f=this.inertDocument.createElement("body");return f.innerHTML=wo(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(l){const d=l.attributes;for(let g=d.length-1;0<g;g--){const b=d.item(g).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let f=l.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Bf=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,jf=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Nu(a){return(a=String(a)).match(Bf)||a.match(jf)?a:"unsafe:"+a}function p_(a){return(a=String(a)).split(",").map(l=>Nu(l.trim())).join(", ")}function yi(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function _a(...a){const l={};for(const d of a)for(const f in d)d.hasOwnProperty(f)&&(l[f]=!0);return l}const g_=yi("area,br,col,hr,img,wbr"),Mu=yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hd=yi("rp,rt"),Ws=_a(g_,_a(Mu,yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_a(hd,yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_a(hd,Mu)),m_=yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ti=yi("srcset"),__=_a(m_,ti,yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),y_=yi("script,style,template");class y0{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let g=this.checkClobberedElement(d,d.nextSibling);if(g){d=g;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!Ws.hasOwnProperty(d))return this.sanitizedSomething=!0,!y_.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=l.attributes;for(let g=0;g<f.length;g++){const _=f.item(g),b=_.name,E=b.toLowerCase();if(!__.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=_.value;m_[E]&&(I=Nu(I)),ti[E]&&(I=p_(I)),this.buf.push(" ",b,'="',$f(I),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();Ws.hasOwnProperty(d)&&!g_.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push($f(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const v_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ya=/([^\#-~ |!])/g;function $f(a){return a.replace(/&/g,"&amp;").replace(v_,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(ya,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ws;function fd(a,l){let d=null;try{ws=ws||cd(a);let f=l?String(l):"";d=ws.getInertBodyElement(f);let g=5,_=f;do{if(0===g)throw new Error("Failed to sanitize html because the input is unstable");g--,f=_,_=d.innerHTML,d=ws.getInertBodyElement(f)}while(f!==_);return wo((new y0).sanitizeChildren(Gf(d)||d))}finally{if(d){const f=Gf(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Gf(a){return"content"in a&&function(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var pn=(()=>((pn=pn||{})[pn.NONE=0]="NONE",pn[pn.HTML=1]="HTML",pn[pn.STYLE=2]="STYLE",pn[pn.SCRIPT=3]="SCRIPT",pn[pn.URL=4]="URL",pn[pn.RESOURCE_URL=5]="RESOURCE_URL",pn))();function xu(a){const l=function(){const a=Se();return a&&a[12]}();return l?l.sanitize(pn.URL,a)||"":bl(a,"URL")?xr(a):Nu(ie(a))}const Ys="__ngContext__";function hr(a,l){a[Ys]=l}function _d(a){const l=function(a){return a[Ys]||null}(a);return l?Array.isArray(l)?l:l.lView:null}function T(a){return a.ngOriginalError}function w(a,...l){a.error(...l)}class D{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l),f=this._findContext(l),g=(a=l)&&a.ngErrorLogger||w;var a;g(this._console,"ERROR",l),d&&g(this._console,"ORIGINAL ERROR",d),f&&g(this._console,"ERROR CONTEXT",f)}_findContext(l){return l?l.ngDebugContext||this._findContext(T(l)):null}_findOriginalError(l){let d=l&&T(l);for(;d&&T(d);)d=T(d);return d||null}}const K=/^>|^->|<!--|-->|--!>|<!-$/g,Ee=/(<|>)/;const en=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt))();function fn(a){return a instanceof Function?a():a}var Li=(()=>((Li=Li||{})[Li.Important=1]="Important",Li[Li.DashCase=2]="DashCase",Li))();let tp;function D_(a,l){return tp(a,l)}function np(a){const l=a[3];return Mi(l)?l[3]:l}function Ed(a){return ip(a[13])}function D0(a){return ip(a[4])}function ip(a){for(;null!==a&&!Mi(a);)a=a[4];return a}function Ou(a,l,d,f,g){if(null!=f){let _,b=!1;Mi(f)?_=f:Wi(f)&&(b=!0,f=f[0]);const E=dn(f);0===a&&null!==d?null==g?iC(l,d,E):ts(l,d,E,g||null,!0):1===a&&null!==d?ts(l,d,E,g||null,!0):2===a?x0(l,E,b):3===a&&l.destroyNode(E),null!=_&&function(a,l,d,f,g){const _=d[7];_!==dn(d)&&Ou(l,a,f,_,g);for(let E=10;E<d.length;E++){const I=d[E];Js(I[1],I,a,l,f,_)}}(l,a,_,d,g)}}function I0(a,l){return ln(a)?a.createText(l):a.createTextNode(l)}function nt(a,l,d){ln(a)?a.setValue(l,d):l.textContent=d}function Cs(a,l){return a.createComment(function(a){return a.replace(K,l=>l.replace(Ee,"\u200b$1\u200b"))}(l))}function jn(a,l,d){return ln(a)?a.createElement(l,d):null===d?a.createElement(l):a.createElementNS(d,l)}function tC(a,l){const d=a[9],f=d.indexOf(l),g=l[3];1024&l[2]&&(l[2]&=-1025,el(g,-1)),d.splice(f,1)}function wa(a,l){if(a.length<=10)return;const d=10+l,f=a[d];if(f){const g=f[17];null!==g&&g!==a&&tC(g,f),l>0&&(a[d-1][4]=f[4]);const _=hl(a,10+l);!function(a,l){Js(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(f[1],f);const b=_[19];null!==b&&b.detachView(_[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Cd(a,l){if(!(256&l[2])){const d=l[11];ln(d)&&d.destroyNode&&Js(a,l,d,3,null,null),function(a){let l=a[13];if(!l)return S0(a[1],a);for(;l;){let d=null;if(Wi(l))d=l[13];else{const f=l[10];f&&(d=f)}if(!d){for(;l&&!l[4]&&l!==a;)Wi(l)&&S0(l[1],l),l=l[3];null===l&&(l=a),Wi(l)&&S0(l[1],l),d=l&&l[4]}l=d}}(l)}}function S0(a,l){if(!(256&l[2])){l[2]&=-129,l[2]|=256,function(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let f=0;f<d.length;f+=2){const g=l[d[f]];if(!(g instanceof hu)){const _=d[f+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=g[_[b]],I=_[b+1];try{I.call(E)}finally{}}else try{_.call(g)}finally{}}}}(a,l),function(a,l){const d=a.cleanup,f=l[7];let g=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+1],E="function"==typeof b?b(l):dn(l[b]),I=f[g=d[_+2]],A=d[_+3];"boolean"==typeof A?E.removeEventListener(d[_],I,A):A>=0?f[g=A]():f[g=-A].unsubscribe(),_+=2}else{const b=f[g=d[_+1]];d[_].call(b)}if(null!==f){for(let _=g+1;_<f.length;_++)f[_]();l[7]=null}}(a,l),1===l[1].type&&ln(l[11])&&l[11].destroy();const d=l[17];if(null!==d&&Mi(l[3])){d!==l[3]&&tC(d,l);const f=l[19];null!==f&&f.detachView(a)}}}function nC(a,l,d){return rC(a,l.parent,d)}function rC(a,l,d){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return d[0];if(2&f.flags){const g=a.data[f.directiveStart].encapsulation;if(g===Fe.None||g===Fe.Emulated)return null}return fi(f,d)}function ts(a,l,d,f,g){ln(a)?a.insertBefore(l,d,f,g):l.insertBefore(d,f,g)}function iC(a,l,d){ln(a)?a.appendChild(l,d):l.appendChild(d)}function sC(a,l,d,f,g){null!==f?ts(a,l,d,f,g):iC(a,l,d)}function Ea(a,l){return ln(a)?a.parentNode(l):l.parentNode}function oC(a,l,d){return N0(a,l,d)}function aC(a,l,d){return 40&a.type?fi(a,d):null}let M0,N0=aC;function lC(a,l){N0=a,M0=l}function I_(a,l,d,f){const g=nC(a,f,l),_=l[11],E=oC(f.parent||l[6],f,l);if(null!=g)if(Array.isArray(d))for(let I=0;I<d.length;I++)sC(_,g,d[I],E,!1);else sC(_,g,d,E,!1);void 0!==M0&&M0(_,f,l,d,g)}function sp(a,l){if(null!==l){const d=l.type;if(3&d)return fi(l,a);if(4&d)return R0(-1,a[l.index]);if(8&d){const f=l.child;if(null!==f)return sp(a,f);{const g=a[l.index];return Mi(g)?R0(-1,g):dn(g)}}if(32&d)return D_(l,a)()||dn(a[l.index]);{const f=uC(a,l);return null!==f?Array.isArray(f)?f[0]:sp(np(a[16]),f):sp(a,l.next)}}return null}function uC(a,l){return null!==l?a[16][6].projection[l.projection]:null}function R0(a,l){const d=10+a+1;if(d<l.length){const f=l[d],g=f[1].firstChild;if(null!==g)return sp(f,g)}return l[7]}function x0(a,l,d){const f=Ea(a,l);f&&function(a,l,d,f){ln(a)?a.removeChild(l,d,f):l.removeChild(d)}(a,f,l,d)}function k0(a,l,d,f,g,_,b){for(;null!=d;){const E=f[d.index],I=d.type;if(b&&0===l&&(E&&hr(dn(E),f),d.flags|=4),64!=(64&d.flags))if(8&I)k0(a,l,d.child,f,g,_,!1),Ou(l,a,g,E,_);else if(32&I){const A=D_(d,f);let M;for(;M=A();)Ou(l,a,g,M,_);Ou(l,a,g,E,_)}else 16&I?cC(a,l,f,d,g,_):Ou(l,a,g,E,_);d=b?d.projectionNext:d.next}}function Js(a,l,d,f,g,_){k0(d,f,a.firstChild,l,g,_,!1)}function cC(a,l,d,f,g,_){const b=d[16],I=b[6].projection[f.projection];if(Array.isArray(I))for(let A=0;A<I.length;A++)Ou(l,a,g,I[A],_);else k0(a,l,I,b[3],g,_,!0)}function hC(a,l,d){ln(a)?a.setAttribute(l,"style",d):l.style.cssText=d}function O0(a,l,d){ln(a)?""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d):l.className=d}function Eo(a,l,d){let f=a.length;for(;;){const g=a.indexOf(l,d);if(-1===g)return g;if(0===g||a.charCodeAt(g-1)<=32){const _=l.length;if(g+_===f||a.charCodeAt(g+_)<=32)return g}d=g+1}}const Td="ng-template";function fC(a,l,d){let f=0;for(;f<a.length;){let g=a[f++];if(d&&"class"===g){if(g=a[f],-1!==Eo(g.toLowerCase(),l,0))return!0}else if(1===g){for(;f<a.length&&"string"==typeof(g=a[f++]);)if(g.toLowerCase()===l)return!0;return!1}}return!1}function pC(a){return 4===a.type&&a.value!==Td}function zS(a,l,d){return l===(4!==a.type||d?a.value:Td)}function WS(a,l,d){let f=4;const g=a.attrs||[],_=function(a){for(let l=0;l<a.length;l++)if(sl(a[l]))return l;return a.length}(g);let b=!1;for(let E=0;E<l.length;E++){const I=l[E];if("number"!=typeof I){if(!b)if(4&f){if(f=2|1&f,""!==I&&!zS(a,I,d)||""===I&&1===l.length){if(Qs(f))return!1;b=!0}}else{const A=8&f?I:l[++E];if(8&f&&null!==a.attrs){if(!fC(a.attrs,A,d)){if(Qs(f))return!1;b=!0}continue}const k=YS(8&f?"class":I,g,pC(a),d);if(-1===k){if(Qs(f))return!1;b=!0;continue}if(""!==A){let P;P=k>_?"":g[k+1].toLowerCase();const j=8&f?P:null;if(j&&-1!==Eo(j,A,0)||2&f&&A!==P){if(Qs(f))return!1;b=!0}}}}else{if(!b&&!Qs(f)&&!Qs(I))return!1;if(b&&Qs(I))continue;b=!1,f=I|1&f}}return Qs(f)||b}function Qs(a){return 0==(1&a)}function YS(a,l,d,f){if(null===l)return-1;let g=0;if(f||!d){let _=!1;for(;g<l.length;){const b=l[g];if(b===a)return g;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=l[++g];for(;"string"==typeof E;)E=l[++g];continue}if(4===b)break;if(0===b){g+=4;continue}}g+=_?1:2}return-1}return function(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const f=a[d];if("number"==typeof f)return-1;if(f===l)return d;d++}return-1}(l,a)}function gC(a,l,d=!1){for(let f=0;f<l.length;f++)if(WS(a,l[f],d))return!0;return!1}function JS(a,l){e:for(let d=0;d<l.length;d++){const f=l[d];if(a.length===f.length){for(let g=0;g<a.length;g++)if(a[g]!==f[g])continue e;return!0}}return!1}function yC(a,l){return a?":not("+l.trim()+")":l}function QS(a){let l=a[0],d=1,f=2,g="",_=!1;for(;d<a.length;){let b=a[d];if("string"==typeof b)if(2&f){const E=a[++d];g+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&f?g+="."+b:4&f&&(g+=" "+b);else""!==g&&!Qs(b)&&(l+=yC(_,g),g=""),f=b,_=_||!Qs(f);d++}return""!==g&&(l+=yC(_,g)),l}const Et={};function Pu(a){F0(xt(),Se(),Rr()+a,tl())}function F0(a,l,d,f){if(!f)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&rl(l,_,d)}else{const _=a.preOrderHooks;null!==_&&qc(l,_,0,d)}nl(d)}function Dd(a,l){return a<<17|l<<2}function Xs(a){return a>>17&32767}function Ts(a){return 2|a}function Co(a){return(131068&a)>>2}function S_(a,l){return-131069&a|l<<2}function wC(a){return 1|a}function To(a,l){const d=a.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const g=d[f],_=d[f+1];if(-1!==_){const b=a.data[_];ta(g),b.contentQueries(2,l[_],_)}}}function Ad(a,l,d,f,g,_,b,E,I,A){const M=l.blueprint.slice();return M[0]=g,M[2]=140|f,Bc(M),M[3]=M[15]=a,M[8]=d,M[10]=b||a&&a[10],M[11]=E||a&&a[11],M[12]=I||a&&a[12]||null,M[9]=A||a&&a[9]||null,M[6]=_,M[16]=2==l.type?a[16]:M,M}function Nd(a,l,d,f,g){let _=a.data[l];if(null===_)_=Il(a,l,d,f,g),_t.lFrame.inI18n&&(_.flags|=64);else if(64&_.type){_.type=d,_.value=f,_.attrs=g;const b=ea();_.injectorIndex=null===b?-1:b.injectorIndex}return Jr(_,!0),_}function Il(a,l,d,f,g){const _=df(),b=jc(),I=a.data[l]=function(a,l,d,f,g,_){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:g,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,l,f,g);return null===a.firstChild&&(a.firstChild=I),null!==_&&(b?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I)),I}function Fu(a,l,d,f){if(0===d)return-1;const g=l.length;for(let _=0;_<d;_++)l.push(f),a.blueprint.push(f),a.data.push(null);return g}function dp(a,l,d){uu(l);try{const f=a.viewQuery;null!==f&&F_(1,f,d);const g=a.template;null!==g&&R_(a,l,g,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&To(a,l),a.staticViewQueries&&F_(2,a.viewQuery,d);const _=a.components;null!==_&&function(a,l){for(let d=0;d<l.length;d++)Ds(a,l[d])}(l,_)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[2]&=-5,cu()}}function Ia(a,l,d,f){const g=l[2];if(256==(256&g))return;uu(l);const _=tl();try{Bc(l),function(a){_t.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&R_(a,l,d,2,f);const b=3==(3&g);if(!_)if(b){const A=a.preOrderCheckHooks;null!==A&&rl(l,A,null)}else{const A=a.preOrderHooks;null!==A&&qc(l,A,0,null),du(l,0)}if(function(a){for(let l=Ed(a);null!==l;l=D0(l)){if(!l[2])continue;const d=l[9];for(let f=0;f<d.length;f++){const g=d[f],_=g[3];0==(1024&g[2])&&el(_,1),g[2]|=1024}}}(l),function(a){for(let l=Ed(a);null!==l;l=D0(l))for(let d=10;d<l.length;d++){const f=l[d],g=f[1];Om(f)&&Ia(g,f,g.template,f[8])}}(l),null!==a.contentQueries&&To(a,l),!_)if(b){const A=a.contentCheckHooks;null!==A&&rl(l,A)}else{const A=a.contentHooks;null!==A&&qc(l,A,1),du(l,1)}!function(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const g=d[f];if(g<0)nl(~g);else{const _=g,b=d[++f],E=d[++f];Lm(b,_),E(2,l[_])}}}finally{nl(-1)}}(a,l);const E=a.components;null!==E&&function(a,l){for(let d=0;d<l.length;d++)mA(a,l[d])}(l,E);const I=a.viewQuery;if(null!==I&&F_(2,I,f),!_)if(b){const A=a.viewCheckHooks;null!==A&&rl(l,A)}else{const A=a.viewHooks;null!==A&&qc(l,A,2),du(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),_||(l[2]&=-73),1024&l[2]&&(l[2]&=-1025,el(l[3],-1))}finally{cu()}}function SC(a,l,d,f){const g=l[10],_=!tl(),b=of(l);try{_&&!b&&g.begin&&g.begin(),b&&dp(a,l,f),Ia(a,l,d,f)}finally{_&&!b&&g.end&&g.end()}}function R_(a,l,d,f,g){const _=Rr(),b=2&f;try{nl(-1),b&&l.length>20&&F0(a,l,20,tl()),d(f,g)}finally{nl(_)}}function q0(a,l,d){if(ou(l)){const g=l.directiveEnd;for(let _=l.directiveStart;_<g;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function hp(a,l,d){!uf()||(function(a,l,d,f){const g=d.directiveStart,_=d.directiveEnd;a.firstCreatePass||_u(d,l),hr(f,l);const b=d.initialInputs;for(let E=g;E<_;E++){const I=a.data[E],A=Ri(I);A&&fA(l,d,I);const M=vu(l,a,E,d);hr(M,l),null!==b&&pA(0,E-g,M,I,0,b),A&&(pi(d.index,l)[8]=M)}}(a,l,d,fi(d,l)),128==(128&d.flags)&&function(a,l,d){const f=d.directiveStart,g=d.directiveEnd,b=d.index,E=_t.lFrame.currentDirectiveIndex;try{nl(b);for(let I=f;I<g;I++){const A=a.data[I],M=l[I];pf(I),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&LC(A,M)}}finally{nl(-1),pf(E)}}(a,l,d))}function fp(a,l,d=fi){const f=l.localNames;if(null!==f){let g=l.index+1;for(let _=0;_<f.length;_+=2){const b=f[_+1],E=-1===b?d(l,a):a[b];a[g++]=E}}}function AC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Lu(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Lu(a,l,d,f,g,_,b,E,I,A){const M=20+f,k=M+g,P=function(a,l){const d=[];for(let f=0;f<l;f++)d.push(f<a?null:Et);return d}(M,k),j="function"==typeof A?A():A;return P[1]={type:a,blueprint:P,template:d,queries:null,viewQuery:E,declTNode:l,data:P.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:j,incompleteFirstPass:!1}}function pp(a,l,d,f){const g=tb(l);null===d?g.push(f):(g.push(d),a.firstCreatePass&&wp(a).push(f,g.length-1))}function x_(a,l,d){for(let f in a)if(a.hasOwnProperty(f)){const g=a[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(l,g):d[f]=[l,g]}return d}function ns(a,l,d,f,g,_,b,E){const I=fi(l,d);let M,A=l.inputs;!E&&null!=A&&(M=A[f])?(ZC(a,d,M,f,g),co(l)&&function(a,l){const d=pi(l,a);16&d[2]||(d[2]|=64)}(d,l.index)):3&l.type&&(f=function(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),g=null!=b?b(g,l.value||"",f):g,ln(_)?_.setProperty(I,f,g):vs(f)||(I.setProperty?I.setProperty(f,g):I[f]=g))}function mp(a,l,d,f){let g=!1;if(uf()){const _=function(a,l,d){const f=a.directiveRegistry;let g=null;if(f)for(let _=0;_<f.length;_++){const b=f[_];gC(d,b.selectors,!1)&&(g||(g=[]),xi(_u(d,l),a,b.type),Ri(b)?(UC(a,d),g.unshift(b)):g.push(b))}return g}(a,l,d),b=null===f?null:{"":-1};if(null!==_){g=!0,BC(d,a.data.length,_.length);for(let M=0;M<_.length;M++){const k=_[M];k.providersResolver&&k.providersResolver(k)}let E=!1,I=!1,A=Fu(a,l,_.length,null);for(let M=0;M<_.length;M++){const k=_[M];d.mergedAttrs=yn(d.mergedAttrs,k.hostAttrs),Al(a,d,l,A,k),Sl(A,k,b),null!==k.contentQueries&&(d.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(d.flags|=128);const P=k.type.prototype;!E&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),E=!0),!I&&(P.ngOnChanges||P.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),I=!0),A++}!function(a,l){const f=l.directiveEnd,g=a.data,_=l.attrs,b=[];let E=null,I=null;for(let A=l.directiveStart;A<f;A++){const M=g[A],k=M.inputs,P=null===_||pC(l)?null:_p(k,_);b.push(P),E=x_(k,A,E),I=x_(M.outputs,A,I)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=b,l.inputs=E,l.outputs=I}(a,d)}b&&function(a,l,d){if(l){const f=a.localNames=[];for(let g=0;g<l.length;g+=2){const _=d[l[g+1]];if(null==_)throw new Ie("301",`Export of name '${l[g+1]}' not found!`);f.push(l[g],_)}}}(d,f,b)}return d.mergedAttrs=yn(d.mergedAttrs,d.attrs),g}function OC(a,l,d,f,g,_){const b=_.hostBindings;if(b){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const I=~l.index;(function(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(E)!=I&&E.push(I),E.push(f,g,b)}}function LC(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function UC(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Sl(a,l,d){if(d){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)d[l.exportAs[f]]=a;Ri(l)&&(d[""]=a)}}function BC(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}function Al(a,l,d,f,g){a.data[f]=g;const _=g.factory||(g.factory=Jo(g.type)),b=new hu(_,Ri(g),null);a.blueprint[f]=b,d[f]=b,OC(a,l,0,f,Fu(a,d,g.hostVars,Et),g)}function fA(a,l,d){const f=fi(l,a),g=AC(d),_=a[10],b=vp(a,Ad(a,g,null,d.onPush?64:16,f,l,_,_.createRenderer(f,d),null,null));a[l.index]=b}function J0(a,l,d,f,g,_,b){if(null==_)ln(a)?a.removeAttribute(l,g,d):l.removeAttribute(g);else{const E=null==b?ie(_):b(_,f||"",g);ln(a)?a.setAttribute(l,g,E,d):d?l.setAttributeNS(d,g,E):l.setAttribute(g,E)}}function pA(a,l,d,f,g,_){const b=_[l];if(null!==b){const E=f.setInput;for(let I=0;I<b.length;){const A=b[I++],M=b[I++],k=b[I++];null!==E?f.setInput(d,k,A,M):d[M]=k}}}function _p(a,l){let d=null,f=0;for(;f<l.length;){const g=l[f];if(0!==g)if(5!==g){if("number"==typeof g)break;a.hasOwnProperty(g)&&(null===d&&(d=[]),d.push(g,a[g],l[f+1])),f+=2}else f+=2;else f+=4}return d}function Q0(a,l,d,f){return new Array(a,!0,!1,l,null,0,f,d,null,null)}function mA(a,l){const d=pi(l,a);if(Om(d)){const f=d[1];80&d[2]?Ia(f,d,f.template,d[8]):d[5]>0&&yp(d)}}function yp(a){for(let f=Ed(a);null!==f;f=D0(f))for(let g=10;g<f.length;g++){const _=f[g];if(1024&_[2]){const b=_[1];Ia(b,_,b.template,_[8])}else _[5]>0&&yp(_)}const d=a[1].components;if(null!==d)for(let f=0;f<d.length;f++){const g=pi(d[f],a);Om(g)&&g[5]>0&&yp(g)}}function Ds(a,l){const d=pi(l,a),f=d[1];(function(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(f,d),dp(f,d,d[8])}function vp(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Md(a){for(;a;){a[2]|=64;const l=np(a);if(Yi(a)&&!l)return a;a=l}return null}function eb(a,l,d){const f=l[10];f.begin&&f.begin();try{Ia(a,l,a.template,d)}catch(g){throw GC(l,g),g}finally{f.end&&f.end()}}function $C(a){!function(a){for(let l=0;l<a.components.length;l++){const d=a.components[l],f=_d(d),g=f[1];SC(g,f,g.template,d)}}(a[8])}function F_(a,l,d){ta(0),l(a,d)}const bp=(()=>Promise.resolve(null))();function tb(a){return a[7]||(a[7]=[])}function wp(a){return a.cleanup||(a.cleanup=[])}function GC(a,l){const d=a[9],f=d?d.get(D,null):null;f&&f.handleError(l)}function ZC(a,l,d,f,g){for(let _=0;_<d.length;){const b=d[_++],E=d[_++],I=l[b],A=a.data[b];null!==A.setInput?A.setInput(I,g,f,E):I[E]=g}}function L_(a,l,d){let f=d?a.styles:null,g=d?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?_=E:1==_?g=$(g,E):2==_&&(f=$(f,E+": "+l[++b]+";"))}d?a.styles=f:a.stylesWithoutHost=f,d?a.classes=g:a.classesWithoutHost=g}const Vu=new Tn("INJECTOR",-1);class Ep{get(l,d=bs){if(d===bs){const f=new Error(`NullInjectorError: No provider for ${J(l)}!`);throw f.name="NullInjectorError",f}return d}}const Cp=new Tn("Set Injector scope."),Tp={},V_={};let ib;function Rd(){return void 0===ib&&(ib=new Ep),ib}function qC(a,l=null,d=null,f){return new Dp(a,d,l||Rd(),f)}class Dp{constructor(l,d,f,g=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const _=[];d&&_i(d,E=>this.processProvider(E,l,d)),_i([l],E=>this.processInjectorType(E,[],_)),this.records.set(Vu,xd(void 0,this));const b=this.records.get(Cp);this.scope=null!=b?b.value:null,this.source=g||("object"==typeof l?null:J(l))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(l=>l.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(l,d=bs,f=Je.Default){this.assertNotDestroyed();const g=pl(this),_=Gn(void 0);try{if(!(f&Je.SkipSelf)){let E=this.records.get(l);if(void 0===E){const I=("function"==typeof(a=l)||"object"==typeof a&&a instanceof Tn)&&lr(l);E=I&&this.injectableDefInScope(I)?xd(sb(l),Tp):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(f&Je.Self?Rd():this.parent).get(l,d=f&Je.Optional&&d===bs?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[vo]=b[vo]||[]).unshift(J(l)),g)throw b;return Of(b,l,"R3InjectorError",this.source)}throw b}finally{Gn(_),pl(g)}var a}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(l=>this.get(l))}toString(){const l=[];return this.records.forEach((f,g)=>l.push(J(g))),`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(l,d,f){if(!(l=B(l)))return!1;let g=Za(l);const _=null==g&&l.ngModule||void 0,b=void 0===_?l:_,E=-1!==f.indexOf(b);if(void 0!==_&&(g=Za(_)),null==g)return!1;if(null!=g.imports&&!E){let M;f.push(b);try{_i(g.imports,k=>{this.processInjectorType(k,d,f)&&(void 0===M&&(M=[]),M.push(k))})}finally{}if(void 0!==M)for(let k=0;k<M.length;k++){const{ngModule:P,providers:j}=M[k];_i(j,W=>this.processProvider(W,P,j||G))}}this.injectorDefTypes.add(b);const I=Jo(b)||(()=>new b);this.records.set(b,xd(I,Tp));const A=g.providers;if(null!=A&&!E){const M=l;_i(A,k=>this.processProvider(k,M,A))}return void 0!==_&&void 0!==l.providers}processProvider(l,d,f){let g=kd(l=B(l))?l:B(l&&l.provide);const _=WC(a=l)?xd(void 0,a.useValue):xd(zC(a),Tp);var a;if(kd(l)||!0!==l.multi)this.records.get(g);else{let b=this.records.get(g);b||(b=xd(void 0,Tp,!0),b.factory=()=>qs(b.multi),this.records.set(g,b)),g=l,b.multi.push(l)}this.records.set(g,_)}hydrate(l,d){return d.value===Tp&&(d.value=V_,d.value=d.factory()),"object"==typeof d.value&&d.value&&null!==(a=d.value)&&"object"==typeof a&&"function"==typeof a.ngOnDestroy&&this.onDestroy.add(d.value),d.value;var a}injectableDefInScope(l){if(!l.providedIn)return!1;const d=B(l.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function sb(a){const l=lr(a),d=null!==l?l.factory:Jo(a);if(null!==d)return d;if(a instanceof Tn)throw new Error(`Token ${J(a)} is missing a \u0275prov definition.`);if(a instanceof Function)return function(a){const l=a.length;if(l>0){const f=Zs(l,"?");throw new Error(`Can't resolve all parameters for ${J(a)}: (${f.join(", ")}).`)}const d=function(a){const l=a&&(a[Gi]||a[qo]);if(l){const d=function(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new Error("unreachable")}function zC(a,l,d){let f;if(kd(a)){const g=B(a);return Jo(g)||sb(g)}if(WC(a))f=()=>B(a.useValue);else if(function(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...qs(a.deps||[]));else if(function(a){return!(!a||!a.useExisting)}(a))f=()=>hn(B(a.useExisting));else{const g=B(a&&(a.useClass||a.provide));if(!function(a){return!!a.deps}(a))return Jo(g)||sb(g);f=()=>new g(...qs(a.deps))}return f}function xd(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function WC(a){return null!==a&&"object"==typeof a&&fa in a}function kd(a){return"function"==typeof a}const ob=function(a,l,d){return function(a,l=null,d=null,f){const g=qC(a,l,d,f);return g._resolveInjectorDefTypes(),g}({name:d},l,a,d)};class sn{static create(l,d){return Array.isArray(l)?ob(l,d,""):ob(l.providers,l.parent,l.name||"")}}function VA(a,l){Zc(_d(a)[1],un())}function mb(a){let l=function(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const f=[a];for(;l;){let g;if(Ri(a))g=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new Error("Directives cannot inherit Components");g=l.\u0275dir}if(g){if(d){f.push(g);const b=a;b.inputs=_b(a.inputs),b.declaredInputs=_b(a.declaredInputs),b.outputs=_b(a.outputs);const E=g.hostBindings;E&&jA(a,E);const I=g.viewQuery,A=g.contentQueries;if(I&&oT(a,I),A&&BA(a,A),ae(a.inputs,g.inputs),ae(a.declaredInputs,g.declaredInputs),ae(a.outputs,g.outputs),Ri(g)&&g.data.animation){const M=a.data;M.animation=(M.animation||[]).concat(g.data.animation)}}const _=g.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(a),E===mb&&(d=!1)}}l=Object.getPrototypeOf(l)}!function(a){let l=0,d=null;for(let f=a.length-1;f>=0;f--){const g=a[f];g.hostVars=l+=g.hostVars,g.hostAttrs=yn(g.hostAttrs,d=yn(d,g.hostAttrs))}}(f)}function _b(a){return a===Jt?{}:a===G?[]:a}function oT(a,l){const d=a.viewQuery;a.viewQuery=d?(f,g)=>{l(f,g),d(f,g)}:l}function BA(a,l){const d=a.contentQueries;a.contentQueries=d?(f,g,_)=>{l(f,g,_),d(f,g,_)}:l}function jA(a,l){const d=a.hostBindings;a.hostBindings=d?(f,g)=>{l(f,g),d(f,g)}:l}sn.THROW_IF_NOT_FOUND=bs,sn.NULL=new Ep,sn.\u0275prov=bt({token:sn,providedIn:"any",factory:()=>hn(Vu)}),sn.__NG_ELEMENT_ID__=-1;let $_=null;function Bu(){if(!$_){const a=zt.Symbol;if(a&&a.iterator)$_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const f=l[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&($_=f)}}}return $_}class So{constructor(l){this.wrapped=l}static wrap(l){return new So(l)}static unwrap(l){return So.isWrapped(l)?l.wrapped:l}static isWrapped(l){return l instanceof So}}function Ap(a){return!!vb(a)&&(Array.isArray(a)||!(a instanceof Map)&&Bu()in a)}function vb(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function rs(a,l,d){return a[l]=d}function Pn(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function In(a,l,d,f){const g=Pn(a,l,d);return Pn(a,l+1,f)||g}function bb(a,l,d,f){const g=Se();return Pn(g,Hs(),l)&&(xt(),function(a,l,d,f,g,_){const b=fi(a,l);J0(l[11],b,_,a.value,d,f,g)}(kn(),g,a,l,d,f)),bb}function Ld(a,l,d,f){return Pn(a,Hs(),d)?l+ie(d)+f:Et}function ju(a,l,d,f,g,_,b,E,I,A){const k=function(a,l,d,f,g,_){const b=In(a,l,d,f);return In(a,l+2,g,_)||b}(a,Ki(),d,g,b,I);return gi(4),k?l+ie(d)+f+ie(g)+_+ie(b)+E+ie(I)+A:Et}function Nb(a,l,d,f,g,_,b,E){const I=Se(),A=xt(),M=a+20,k=A.firstCreatePass?function(a,l,d,f,g,_,b,E,I){const A=l.consts,M=Nd(l,a,4,b||null,ys(A,E));mp(l,d,M,ys(A,I)),Zc(l,M);const k=M.tViews=Lu(2,M,f,g,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,A);return null!==l.queries&&(l.queries.template(l,M),k.queries=l.queries.embeddedTView(M)),M}(M,A,I,l,d,f,g,_,b):A.data[M];Jr(k,!1);const P=I[11].createComment("");I_(A,I,P,k),hr(P,I),vp(I,I[M]=Q0(P,I,P,k)),_n(k)&&hp(A,I,k),null!=b&&fp(I,k,E)}function Mb(a){return fo(_t.lFrame.contextLView,20+a)}function Hu(a,l=Je.Default){const d=Se();return null===d?hn(a,l):Ef(un(),d,B(a),l)}function kp(a,l,d){const f=Se();return Pn(f,Hs(),l)&&ns(xt(),kn(),f,a,l,f[11],d,!1),kp}function Op(a,l,d,f,g){const b=g?"class":"style";ZC(a,d,l.inputs[b],b,f)}function $u(a,l,d,f){const g=Se(),_=xt(),b=20+a,E=g[11],I=g[b]=jn(E,l,_t.lFrame.currentNamespace),A=_.firstCreatePass?function(a,l,d,f,g,_,b){const E=l.consts,A=Nd(l,a,2,g,ys(E,_));return mp(l,d,A,ys(E,b)),null!==A.attrs&&L_(A,A.attrs,!1),null!==A.mergedAttrs&&L_(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(b,_,g,0,l,d,f):_.data[b];Jr(A,!0);const M=A.mergedAttrs;null!==M&&bf(E,I,M);const k=A.classes;null!==k&&O0(E,I,k);const P=A.styles;null!==P&&hC(E,I,P),64!=(64&A.flags)&&I_(_,g,I,A),0===_t.lFrame.elementDepthCount&&hr(I,g),_t.lFrame.elementDepthCount++,_n(A)&&(hp(_,g,A),q0(_,A,g)),null!==f&&fp(g,A)}function Pp(){let a=un();jc()?Hc():(a=a.parent,Jr(a,!1));const l=a;_t.lFrame.elementDepthCount--;const d=xt();d.firstCreatePass&&(Zc(d,a),ou(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function(a){return 0!=(16&a.flags)}(l)&&Op(d,l,Se(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function(a){return 0!=(32&a.flags)}(l)&&Op(d,l,Se(),l.stylesWithoutHost,!1)}function bT(a,l,d,f){$u(a,l,d,f),Pp()}function Lp(a,l,d){const f=Se(),g=xt(),_=a+20,b=g.firstCreatePass?function(a,l,d,f,g){const _=l.consts,b=ys(_,f),E=Nd(l,a,8,"ng-container",b);return null!==b&&L_(E,b,!0),mp(l,d,E,ys(_,g)),null!==l.queries&&l.queries.elementStart(l,E),E}(_,g,f,l,d):g.data[_];Jr(b,!0);const E=f[_]=f[11].createComment("");I_(g,f,E,b),hr(E,f),_n(b)&&(hp(g,f,b),q0(g,b,f)),null!=d&&fp(f,b)}function J_(){let a=un();const l=xt();jc()?Hc():(a=a.parent,Jr(a,!1)),l.firstCreatePass&&(Zc(l,a),ou(a)&&l.queries.elementEnd(a))}function wT(){return Se()}function Q_(a){return!!a&&"function"==typeof a.then}function ET(a){return!!a&&"function"==typeof a.subscribe}const CT=ET;function X_(a,l,d,f){const g=Se(),_=xt(),b=un();return function(a,l,d,f,g,_,b,E){const I=_n(f),M=a.firstCreatePass&&wp(a),k=l[8],P=tb(l);let j=!0;if(3&f.type||E){const te=fi(f,l),Re=E?E(te):te,Te=P.length,ze=E?pt=>E(dn(pt[f.index])):f.index;if(ln(d)){let pt=null;if(!E&&I&&(pt=function(a,l,d,f){const g=a.cleanup;if(null!=g)for(let _=0;_<g.length-1;_+=2){const b=g[_];if(b===d&&g[_+1]===f){const E=l[7],I=g[_+2];return E.length>I?E[I]:null}"string"==typeof b&&(_+=2)}return null}(a,l,g,f.index)),null!==pt)(pt.__ngLastListenerFn__||pt).__ngNextListenerFn__=_,pt.__ngLastListenerFn__=_,j=!1;else{_=Gb(f,l,k,_,!1);const kt=d.listen(Re,g,_);P.push(_,kt),M&&M.push(g,ze,Te,Te+1)}}else _=Gb(f,l,k,_,!0),Re.addEventListener(g,_,b),P.push(_),M&&M.push(g,ze,Te,b)}else _=Gb(f,l,k,_,!1);const W=f.outputs;let ce;if(j&&null!==W&&(ce=W[g])){const te=ce.length;if(te)for(let Re=0;Re<te;Re+=2){const rr=l[ce[Re]][ce[Re+1]].subscribe(_),gs=P.length;P.push(_,rr),M&&M.push(g,f.index,gs,-(gs+1))}}}(_,g,g[11],b,a,l,!!d,f),X_}function $b(a,l,d,f){try{return!1!==d(f)}catch(g){return GC(a,g),!1}}function Gb(a,l,d,f,g){return function _(b){if(b===Function)return f;const E=2&a.flags?pi(a.index,l):l;0==(32&l[2])&&Md(E);let I=$b(l,0,f,b),A=_.__ngNextListenerFn__;for(;A;)I=$b(l,0,A,b)&&I,A=A.__ngNextListenerFn__;return g&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function tN(a=1){return function(a){return(_t.lFrame.contextLView=function(a,l){for(;a>0;)l=l[15],a--;return l}(a,_t.lFrame.contextLView))[8]}(a)}function IT(a,l){let d=null;const f=function(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(0==(1&d))return l[d+1]}return null}(a);for(let g=0;g<l.length;g++){const _=l[g];if("*"!==_){if(null===f?gC(a,_,!0):JS(f,_))return g}else d=g}return d}function ST(a){const l=Se()[16][6];if(!l.projection){const f=l.projection=Zs(a?a.length:1,null),g=f.slice();let _=l.child;for(;null!==_;){const b=a?IT(_,a):0;null!==b&&(g[b]?g[b].projectionNext=_:f[b]=_,g[b]=_),_=_.next}}}function Zb(a,l=0,d){const f=Se(),g=xt(),_=Nd(g,20+a,16,null,d||null);null===_.projection&&(_.projection=l),Hc(),64!=(64&_.flags)&&function(a,l,d){cC(l[11],0,l,d,nC(a,d,l),oC(d.parent||l[6],d,l))}(g,f,_)}function qb(a,l,d){return Vp(a,"",l,"",d),qb}function Vp(a,l,d,f,g){const _=Se(),b=Ld(_,l,d,f);return b!==Et&&ns(xt(),kn(),_,a,b,_[11],g,!1),Vp}function ny(a,l,d,f,g){const _=a[d+1],b=null===l;let E=f?Xs(_):Co(_),I=!1;for(;0!==E&&(!1===I||b);){const M=a[E+1];rN(a[E],l)&&(I=!0,a[E+1]=f?wC(M):Ts(M)),E=f?Xs(M):Co(M)}I&&(a[d+1]=f?Ts(_):wC(_))}function rN(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Qi(a,l)>=0}const Yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function OT(a){return a.substring(Yn.key,Yn.keyEnd)}function FT(a,l){const d=Yn.textEnd;return d===l?-1:(l=Yn.keyEnd=function(a,l,d){for(;l<d&&a.charCodeAt(l)>32;)l++;return l}(a,Yn.key=l,d),xl(a,l,d))}function xl(a,l,d){for(;l<d&&a.charCodeAt(l)<=32;)l++;return l}function ry(a,l,d){return As(a,l,d,!1),ry}function Jb(a,l){return As(a,l,null,!0),Jb}function Xb(a){to(qn,No,a,!0)}function No(a,l){for(let d=function(a){return function(a){Yn.key=0,Yn.keyEnd=0,Yn.value=0,Yn.valueEnd=0,Yn.textEnd=a.length}(a),FT(a,xl(a,0,Yn.textEnd))}(l);d>=0;d=FT(l,d))qn(a,OT(l),!0)}function As(a,l,d,f){const g=Se(),_=xt(),b=gi(2);_.firstUpdatePass&&jT(_,a,b,f),l!==Et&&Pn(g,b,l)&&zT(_,_.data[Rr()],g,g[11],a,g[b+1]=function(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=J(xr(a)))),a}(l,d),f,b)}function to(a,l,d,f){const g=xt(),_=gi(2);g.firstUpdatePass&&jT(g,null,_,f);const b=Se();if(d!==Et&&Pn(b,_,d)){const E=g.data[Rr()];if(Fr(E,f)&&!e1(g,_)){let I=f?E.classesWithoutHost:E.stylesWithoutHost;null!==I&&(d=$(I,d||"")),Op(g,E,b,d,f)}else!function(a,l,d,f,g,_,b,E){g===Et&&(g=G);let I=0,A=0,M=0<g.length?g[0]:null,k=0<_.length?_[0]:null;for(;null!==M||null!==k;){const P=I<g.length?g[I+1]:void 0,j=A<_.length?_[A+1]:void 0;let ce,W=null;M===k?(I+=2,A+=2,P!==j&&(W=k,ce=j)):null===k||null!==M&&M<k?(I+=2,W=M):(A+=2,W=k,ce=j),null!==W&&zT(a,l,d,f,W,ce,b,E),M=I<g.length?g[I]:null,k=A<_.length?_[A]:null}}(g,E,b,b[11],b[_+1],b[_+1]=function(a,l,d){if(null==d||""===d)return G;const f=[],g=xr(d);if(Array.isArray(g))for(let _=0;_<g.length;_++)a(f,g[_],!0);else if("object"==typeof g)for(const _ in g)g.hasOwnProperty(_)&&a(f,_,g[_]);else"string"==typeof g&&l(f,g);return f}(a,l,d),f,_)}}function e1(a,l){return l>=a.expandoStartIndex}function jT(a,l,d,f){const g=a.data;if(null===g[d+1]){const _=g[Rr()],b=e1(a,d);Fr(_,f)&&null===l&&!b&&(l=!1),l=function(a,l,d,f){const g=gf(a);let _=f?l.residualClasses:l.residualStyles;if(null===g)0===(f?l.classBindings:l.styleBindings)&&(d=iy(d=GT(null,a,l,d,f),l.attrs,f),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==g)if(d=GT(g,a,l,d,f),null===_){let I=function(a,l,d){const f=d?l.classBindings:l.styleBindings;if(0!==Co(f))return a[Xs(f)]}(a,l,f);void 0!==I&&Array.isArray(I)&&(I=GT(null,a,l,I[1],f),I=iy(I,l.attrs,f),function(a,l,d,f){a[Xs(d?l.classBindings:l.styleBindings)]=f}(a,l,f,I))}else _=function(a,l,d){let f;const g=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<g;_++)f=iy(f,a[_].hostAttrs,d);return iy(f,l.attrs,d)}(a,l,f)}return void 0!==_&&(f?l.residualClasses=_:l.residualStyles=_),d}(g,_,l,f),function(a,l,d,f,g,_){let b=_?l.classBindings:l.styleBindings,E=Xs(b),I=Co(b);a[f]=d;let M,A=!1;if(Array.isArray(d)){const k=d;M=k[1],(null===M||Qi(k,M)>0)&&(A=!0)}else M=d;if(g)if(0!==I){const P=Xs(a[E+1]);a[f+1]=Dd(P,E),0!==P&&(a[P+1]=S_(a[P+1],f)),a[E+1]=function(a,l){return 131071&a|l<<17}(a[E+1],f)}else a[f+1]=Dd(E,0),0!==E&&(a[E+1]=S_(a[E+1],f)),E=f;else a[f+1]=Dd(I,0),0===E?E=f:a[I+1]=S_(a[I+1],f),I=f;A&&(a[f+1]=Ts(a[f+1])),ny(a,M,f,!0),ny(a,M,f,!1),function(a,l,d,f,g){const _=g?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&Qi(_,l)>=0&&(d[f+1]=wC(d[f+1]))}(l,M,a,f,_),b=Dd(E,I),_?l.classBindings=b:l.styleBindings=b}(g,_,l,d,b,f)}}function GT(a,l,d,f,g){let _=null;const b=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<b&&(_=l[E],f=iy(f,_.hostAttrs,g),_!==a);)E++;return null!==a&&(d.directiveStylingLast=E),f}function iy(a,l,d){const f=d?1:2;let g=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?g=b:g===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),qn(a,b,!!d||l[++_]))}return void 0===a?null:a}function zT(a,l,d,f,g,_,b,E){if(!(3&l.type))return;const I=a.data,A=I[E+1];n1(function(a){return 1==(1&a)}(A)?WT(I,l,d,g,Co(A),b):void 0)||(n1(_)||function(a){return 2==(2&a)}(A)&&(_=WT(I,null,d,g,E,b)),function(a,l,d,f,g){const _=ln(a);if(l)g?_?a.addClass(d,f):d.classList.add(f):_?a.removeClass(d,f):d.classList.remove(f);else{let b=-1===f.indexOf("-")?void 0:Li.DashCase;if(null==g)_?a.removeStyle(d,f,b):d.style.removeProperty(f);else{const E="string"==typeof g&&g.endsWith("!important");E&&(g=g.slice(0,-10),b|=Li.Important),_?a.setStyle(d,f,g,b):d.style.setProperty(f,g,E?"important":"")}}}(f,b,Qa(Rr(),d),g,_))}function WT(a,l,d,f,g,_){const b=null===l;let E;for(;g>0;){const I=a[g],A=Array.isArray(I),M=A?I[1]:I,k=null===M;let P=d[g+1];P===Et&&(P=k?G:void 0);let j=k?Af(P,f):M===f?P:void 0;if(A&&!n1(j)&&(j=Af(I,f)),n1(j)&&(E=j,b))return E;const W=a[g+1];g=b?Xs(W):Co(W)}if(null!==l){let I=_?l.residualClasses:l.residualStyles;null!=I&&(E=Af(I,f))}return E}function n1(a){return void 0!==a}function Fr(a,l){return 0!=(a.flags&(l?16:32))}function sy(a,l=""){const d=Se(),f=xt(),g=a+20,_=f.firstCreatePass?Nd(f,g,1,l,null):f.data[g],b=d[g]=I0(d[11],l);I_(f,d,b,_),Jr(_,!1)}function i1(a){return oy("",a,""),i1}function oy(a,l,d){const f=Se(),g=Ld(f,a,l,d);return g!==Et&&function(a,l,d){const f=Qa(l,a);nt(a[11],f,d)}(f,Rr(),g),oy}function ly(a,l,d,f,g,_,b,E,I){to(qn,No,ju(Se(),a,l,d,f,g,_,b,E,I),!0)}function cy(a,l,d){const f=Se();return Pn(f,Hs(),l)&&ns(xt(),kn(),f,a,l,f[11],d,!0),cy}function $p(a,l,d){const f=Se();if(Pn(f,Hs(),l)){const _=xt(),b=kn();ns(_,b,f,a,l,function(a,l,d){return(null===a||Ri(a))&&(d=function(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(d[l.index])),d[11]}(gf(_.data),b,f),d,!0)}return $p}const Ro=void 0;var bi=["en",[["a","p"],["AM","PM"],Ro],[["AM","PM"],Ro,Ro],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ro,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ro,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ro,"{1} 'at' {0}",Ro],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(a){const l=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===l&&0===d?1:5}];let kl={};function dy(a){const l=function(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=c1(l);if(d)return d;const f=l.split("-")[0];if(d=c1(f),d)return d;if("en"===f)return bi;throw new Error(`Missing locale data for the locale "${a}".`)}function hy(a){return dy(a)[lt.PluralCase]}function c1(a){return a in kl||(kl[a]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[a]),kl[a]}var lt=(()=>((lt=lt||{})[lt.LocaleId=0]="LocaleId",lt[lt.DayPeriodsFormat=1]="DayPeriodsFormat",lt[lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",lt[lt.DaysFormat=3]="DaysFormat",lt[lt.DaysStandalone=4]="DaysStandalone",lt[lt.MonthsFormat=5]="MonthsFormat",lt[lt.MonthsStandalone=6]="MonthsStandalone",lt[lt.Eras=7]="Eras",lt[lt.FirstDayOfWeek=8]="FirstDayOfWeek",lt[lt.WeekendRange=9]="WeekendRange",lt[lt.DateFormat=10]="DateFormat",lt[lt.TimeFormat=11]="TimeFormat",lt[lt.DateTimeFormat=12]="DateTimeFormat",lt[lt.NumberSymbols=13]="NumberSymbols",lt[lt.NumberFormats=14]="NumberFormats",lt[lt.CurrencyCode=15]="CurrencyCode",lt[lt.CurrencySymbol=16]="CurrencySymbol",lt[lt.CurrencyName=17]="CurrencyName",lt[lt.Currencies=18]="Currencies",lt[lt.Directionality=19]="Directionality",lt[lt.PluralCase=20]="PluralCase",lt[lt.ExtraData=21]="ExtraData",lt))();const mN=["zero","one","two","few","many"],xa="en-US",Hd={marker:"element"},Gp={marker:"ICU"};var Ln=(()=>((Ln=Ln||{})[Ln.SHIFT=2]="SHIFT",Ln[Ln.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ln[Ln.COMMENT=2]="COMMENT",Ln))();let Zp=xa;function qp(a){(function(a,l){null==a&&ut(l,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(Zp=a.toLowerCase().replace(/_/g,"-"))}function fy(a,l,d){const f=l.insertBeforeIndex,g=Array.isArray(f)?f[0]:f;return null===g?aC(a,0,d):dn(d[g])}function sD(a,l,d,f,g){const _=l.insertBeforeIndex;if(Array.isArray(_)){let b=f,E=null;if(3&l.type||(E=b,b=g),null!==b&&0==(2&l.flags))for(let I=1;I<_.length;I++)ts(a,b,d[_[I]],E,!1)}}function oD(a,l){if(a.push(l),a.length>1)for(let d=a.length-2;d>=0;d--){const f=a[d];py(f)||aD(f,l)&&null===vN(f)&&bN(f,l.index)}}function py(a){return!(64&a.type)}function aD(a,l){return py(l)||a.index>l.index}function vN(a){const l=a.insertBeforeIndex;return Array.isArray(l)?l[0]:l}function bN(a,l){const d=a.insertBeforeIndex;Array.isArray(d)?d[0]=l:(lC(fy,sD),a.insertBeforeIndex=l)}function Kn(a,l){const d=a.data[l];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function Wp(a,l,d){const f=Il(a,d,64,null,null);return oD(l,f),f}function gy(a,l){const d=l[a.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function lD(a){return a>>>17}function Yp(a){return(131070&a)>>>1}let qu=0,zu=0;function dD(a,l,d,f){const g=d[11];let b,_=null;for(let E=0;E<l.length;E++){const I=l[E];if("string"==typeof I){const A=l[++E];null===d[A]&&(d[A]=I0(g,I))}else if("number"==typeof I)switch(1&I){case 0:const A=lD(I);let M,k;if(null===_&&(_=A,b=Ea(g,f)),A===_?(M=f,k=b):(M=null,k=dn(d[A])),null!==k){const ce=Yp(I);ts(g,k,d[ce],M,!1);const Re=Kn(a,ce);if(null!==Re&&"object"==typeof Re){const Te=gy(Re,d);null!==Te&&dD(a,Re.create[Te],d,d[Re.anchorIdx])}}break;case 1:const j=l[++E],W=l[++E];J0(g,Qa(I>>>1,d),null,null,j,W,null);break;default:throw new Error(`Unable to determine the type of mutate operation for "${I}"`)}else switch(I){case Gp:const A=l[++E],M=l[++E];null===d[M]&&hr(d[M]=Cs(g,A),d);break;case Hd:const k=l[++E],P=l[++E];null===d[P]&&hr(d[P]=jn(g,k,null),d)}}}function g1(a,l,d,f,g){for(let _=0;_<d.length;_++){const b=d[_],E=d[++_];if(b&g){let I="";for(let A=_+1;A<=_+E;A++){const M=d[A];if("string"==typeof M)I+=M;else if("number"==typeof M)if(M<0)I+=ie(l[f-M]);else{const k=M>>>2;switch(3&M){case 1:const P=d[++A],j=d[++A],W=a.data[k];"string"==typeof W?J0(l[11],l[k],null,W,P,I,j):ns(a,W,l,P,I,l[11],j,!1);break;case 0:const ce=l[k];null!==ce&&nt(l[11],ce,I);break;case 2:_1(a,Kn(a,k),l,I);break;case 3:m1(a,Kn(a,k),f,l)}}}}else{const I=d[_+1];if(I>0&&3==(3&I)){const M=Kn(a,I>>>2);l[M.currentCaseLViewIndex]<0&&m1(a,M,f,l)}}_+=E}}function m1(a,l,d,f){let g=f[l.currentCaseLViewIndex];if(null!==g){let _=qu;g<0&&(g=f[l.currentCaseLViewIndex]=~g,_=-1),g1(a,f,l.update[g],d,_)}}function _1(a,l,d,f){const g=function(a,l){let d=a.cases.indexOf(l);if(-1===d)switch(a.type){case 1:{const f=function(a,l){const d=hy(l)(parseInt(a,10)),f=mN[d];return void 0!==f?f:"other"}(l,Zp);d=a.cases.indexOf(f),-1===d&&"other"!==f&&(d=a.cases.indexOf("other"));break}case 0:d=a.cases.indexOf("other")}return-1===d?null:d}(l,f);if(gy(l,d)!==g&&(y1(a,l,d),d[l.currentCaseLViewIndex]=null===g?null:~g,null!==g)){const b=d[l.anchorIdx];b&&dD(a,l.create[g],d,b)}}function y1(a,l,d){let f=gy(l,d);if(null!==f){const g=l.remove[f];for(let _=0;_<g.length;_++){const b=g[_];if(b>0){const E=Qa(b,d);null!==E&&x0(d[11],E)}else y1(a,Kn(a,~b),d)}}}function v1(){const a=[];let d,f,l=-1;function _(E,I){l=0;const A=gy(E,I);f=null!==A?E.remove[A]:G}function b(){if(l<f.length){const E=f[l++];return E>0?d[E]:(a.push(l,f),_(d[1].data[~E],d),b())}return 0===a.length?null:(f=a.pop(),l=a.pop(),b())}return function(E,I){for(d=I;a.length;)a.pop();return _(E.value,I),b}}const $d=/\ufffd(\d+):?\d*\ufffd/gi,TN=/\ufffd(\d+)\ufffd/,b1=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,DN=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,w1=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,E1=/\uE500/g;function T1(a,l,d,f,g,_,b){const E=Fu(a,f,1,null);let I=E<<Ln.SHIFT,A=ea();l===A&&(A=null),null===A&&(I|=Ln.APPEND_EAGERLY),b&&(I|=Ln.COMMENT,function(a){void 0===tp&&(tp=a())}(v1)),g.push(I,null===_?"":_);const M=Il(a,E,b?32:1,null===_?"":_,null);oD(d,M);const k=M.index;return Jr(M,!1),null!==A&&l!==A&&function(a,l){let d=a.insertBeforeIndex;null===d?(lC(fy,sD),d=a.insertBeforeIndex=[null,l]):(function(a,l,d){a!=l&&ut(d,a,l,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(l))}(A,k),M}function SN(a,l,d,f,g,_,b){const E=b.match($d),I=T1(a,l,d,_,f,E?null:b,!1);E&&Ol(g,b,I.index,null,0,null)}function Ol(a,l,d,f,g,_){const b=a.length,E=b+1;a.push(null,null);const I=b+2,A=l.split($d);let M=0;for(let k=0;k<A.length;k++){const P=A[k];if(1&k){const j=g+parseInt(P,10);a.push(-1-j),M|=I1(j)}else""!==P&&a.push(P)}return a.push(d<<2|(f?1:0)),f&&a.push(f,_),a[b]=M,a[E]=a.length-I,M}function I1(a){return 1<<Math.min(a,31)}function Gd(a){let l,_,d="",f=0,g=!1;for(;null!==(l=DN.exec(a));)g?l[0]===`\ufffd/*${_}\ufffd`&&(f=l.index,g=!1):(d+=a.substring(f,l.index+l[0].length),_=l[1],g=!0);return d+=a.substr(f),d}function S1(a,l,d,f,g,_){let b=0;const E={type:g.type,currentCaseLViewIndex:Fu(a,l,1,null),anchorIdx:_,cases:[],create:[],remove:[],update:[]};(function(a,l,d){a.push(I1(l.mainBinding),2,-1-l.mainBinding,d<<2|2)})(d,g,_),function(a,l,d){const f=a.data[l];null===f?a.data[l]=d:f.value=d}(a,_,E);const I=g.values;for(let A=0;A<I.length;A++){const M=I[A],k=[];for(let P=0;P<M.length;P++){const j=M[P];if("string"!=typeof j){const W=k.push(j)-1;M[P]=`\x3c!--\ufffd${W}\ufffd--\x3e`}}b=NN(a,E,l,d,f,g.cases[A],M.join(""),k)|b}b&&function(a,l,d){a.push(l,1,d<<2|3)}(d,b,_)}function gD(a){const l=[],d=[];let f=1,g=0;const _=Zd(a=a.replace(b1,function(b,E,I){return f="select"===I?0:1,g=parseInt(E.substr(1),10),""}));for(let b=0;b<_.length;){let E=_[b++].trim();1===f&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&l.push(E);const I=Zd(_[b++]);l.length>d.length&&d.push(I)}return{type:f,mainBinding:g,cases:l,values:d}}function Zd(a){if(!a)return[];let l=0;const d=[],f=[],g=/[{}]/g;let _;for(g.lastIndex=0;_=g.exec(a);){const E=_.index;if("}"==_[0]){if(d.pop(),0==d.length){const I=a.substring(l,E);b1.test(I)?f.push(gD(I)):f.push(I),l=E+1}}else{if(0==d.length){const I=a.substring(l,E);f.push(I),l=E+1}d.push("{")}}const b=a.substring(l);return f.push(b),f}function NN(a,l,d,f,g,_,b,E){const I=[],A=[],M=[];l.cases.push(_),l.create.push(I),l.remove.push(A),l.update.push(M);const P=cd(Fc()).getInertBodyElement(b),j=Gf(P)||P;return j?mD(a,l,d,f,I,A,M,j,g,E,0):0}function mD(a,l,d,f,g,_,b,E,I,A,M){let k=0,P=E.firstChild;for(;P;){const j=Fu(a,d,1,null);switch(P.nodeType){case Node.ELEMENT_NODE:const W=P,ce=W.tagName.toLowerCase();if(Ws.hasOwnProperty(ce)){_y(g,Hd,ce,I,j),a.data[j]=ce;const ze=W.attributes;for(let pt=0;pt<ze.length;pt++){const kt=ze.item(pt),rr=kt.name.toLowerCase();kt.value.match($d)?__.hasOwnProperty(rr)&&Ol(b,kt.value,j,kt.name,0,m_[rr]?Nu:ti[rr]?p_:null):yy(g,j,kt)}k=mD(a,l,d,f,g,_,b,P,j,A,M+1)|k,Wu(_,j,M)}break;case Node.TEXT_NODE:const te=P.textContent||"",Re=te.match($d);_y(g,null,Re?"":te,I,j),Wu(_,j,M),Re&&(k=Ol(b,te,j,null,0,null)|k);break;case Node.COMMENT_NODE:const Te=TN.exec(P.textContent||"");if(Te){const pt=A[parseInt(Te[1],10)];_y(g,Gp,"",I,j),S1(a,d,f,I,pt,j),MN(_,j,M)}}P=P.nextSibling}return k}function Wu(a,l,d){0===d&&a.push(l)}function MN(a,l,d){0===d&&(a.push(~l),a.push(l))}function _y(a,l,d,f,g){null!==l&&a.push(l),a.push(d,g,function(a,l,d){return 0|l<<17|d<<1}(0,f,g))}function yy(a,l,d){a.push(l<<1|1,d.name,d.value)}function M1(a,l,d=-1){const f=xt(),g=Se(),_=20+a,b=ys(f.consts,l),E=ea();f.firstCreatePass&&function(a,l,d,f,g,_){const b=ea(),E=[],I=[],A=[[]],M=function(a){return a.replace(E1," ")}(g=function(a,l){if(function(a){return-1===a}(l))return Gd(a);{const d=a.indexOf(`:${l}\ufffd`)+2+l.toString().length,f=a.search(new RegExp(`\ufffd\\/\\*\\d+:${l}\ufffd`));return Gd(a.substring(d,f))}}(g,_)).split(w1);for(let k=0;k<M.length;k++){let P=M[k];if(0==(1&k)){const j=Zd(P);for(let W=0;W<j.length;W++){let ce=j[W];if(0==(1&W)){const te=ce;""!==te&&SN(a,b,A[0],E,I,d,te)}else{const te=ce;if("object"!=typeof te)throw new Error(`Unable to parse ICU expression in "${g}" message.`);S1(a,d,I,l,te,T1(a,b,A[0],d,E,"",!0).index)}}}else{const j=47===P.charCodeAt(0),ce=(P.charCodeAt(j?1:0),20+Number.parseInt(P.substring(j?2:1)));if(j)A.shift(),Jr(ea(),!1);else{const te=Wp(a,A[0],ce);A.unshift([]),Jr(te,!0)}}}a.data[f]={create:E,update:I}}(f,null===E?0:E.index,g,_,b,d);const I=f.data[_],M=rC(f,E===g[6]?null:E,g);(function(a,l,d,f){const g=a[11];for(let _=0;_<l.length;_++){const b=l[_++],E=l[_],I=(b&Ln.COMMENT)===Ln.COMMENT,A=(b&Ln.APPEND_EAGERLY)===Ln.APPEND_EAGERLY,M=b>>>Ln.SHIFT;let k=a[M];null===k&&(k=a[M]=I?g.createComment(E):I0(g,E)),A&&null!==d&&ts(g,d,k,f,!1)}})(g,I.create,M,E&&8&E.type?g[E.index]:null),Gc(!0)}function qd(a,l,d){M1(a,l,d),Gc(!1)}function tg(a){return function(a){a&&(qu|=1<<Math.min(zu,31)),zu++}(Pn(Se(),Hs(),a)),tg}function by(a){!function(a,l,d){if(zu>0){const f=a.data[d];g1(a,l,Array.isArray(f)?f:f.update,Ki()-zu-1,qu)}qu=0,zu=0}(xt(),Se(),a+20)}function Ey(a,l,d,f,g){if(a=B(a),Array.isArray(a))for(let _=0;_<a.length;_++)Ey(a[_],l,d,f,g);else{const _=xt(),b=Se();let E=kd(a)?a:B(a.provide),I=zC(a);const A=un(),M=1048575&A.providerIndexes,k=A.directiveStart,P=A.providerIndexes>>20;if(kd(a)||!a.multi){const j=new hu(I,g,Hu),W=zd(E,l,g?M:M+P,k);-1===W?(xi(_u(A,b),_,E),k1(_,a,l.length),l.push(E),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),d.push(j),b.push(j)):(d[W]=j,b[W]=j)}else{const j=zd(E,l,M+P,k),W=zd(E,l,M,M+P),ce=j>=0&&d[j],te=W>=0&&d[W];if(g&&!te||!g&&!ce){xi(_u(A,b),_,E);const Re=function(a,l,d,f,g){const _=new hu(a,d,Hu);return _.multi=[],_.index=l,_.componentProviders=0,Cy(_,g,f&&!d),_}(g?bD:O1,d.length,g,f,I);!g&&te&&(d[W].providerFactory=Re),k1(_,a,l.length,0),l.push(E),A.directiveStart++,A.directiveEnd++,g&&(A.providerIndexes+=1048576),d.push(Re),b.push(Re)}else k1(_,a,j>-1?j:W,Cy(d[g?W:j],I,!g&&f));!g&&f&&te&&d[W].componentProviders++}}}function k1(a,l,d,f){const g=kd(l);if(g||function(a){return!!a.useClass}(l)){const b=(l.useClass||l).prototype.ngOnDestroy;if(b){const E=a.destroyHooks||(a.destroyHooks=[]);if(!g&&l.multi){const I=E.indexOf(d);-1===I?E.push(d,[f,b]):E[I+1].push(f,b)}else E.push(d,b)}}}function Cy(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function zd(a,l,d,f){for(let g=d;g<f;g++)if(l[g]===a)return g;return-1}function O1(a,l,d,f){return Ty(this.multi,[])}function bD(a,l,d,f){const g=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=vu(d,d[1],this.providerFactory.index,f);_=E.slice(0,b),Ty(g,_);for(let I=b;I<E.length;I++)_.push(E[I])}else _=[],Ty(g,_);return _}function Ty(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function ED(a,l=[]){return d=>{d.providersResolver=(f,g)=>function(a,l,d){const f=xt();if(f.firstCreatePass){const g=Ri(a);Ey(d,f.data,f.blueprint,g,!0),Ey(l,f.data,f.blueprint,g,!1)}}(f,g?g(a):a,l)}}class P1{}const Wd="ngComponent";class F1{resolveComponentFactory(l){throw function(a){const l=Error(`No component factory found for ${J(a)}. Did you add it to @NgModule.entryComponents?`);return l[Wd]=a,l}(l)}}class Ku{}function Kd(...a){}function Qu(a,l){return new as(fi(a,l))}Ku.NULL=new F1;const ka=function(){return Qu(un(),Se())};let as=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=ka,a})();function sg(a){return a instanceof as?a.nativeElement:a}class og{}let vn=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>kN(),a})();const kN=function(){const a=Se(),d=pi(un().index,a);return function(a){return a[11]}(Wi(d)?d:a)};let V1=(()=>{class a{}return a.\u0275prov=bt({token:a,providedIn:"root",factory:()=>null}),a})();class U1{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const B1=new U1("12.2.2");class TD{constructor(){}supports(l){return Ap(l)}create(l){return new ug(l)}}const ON=(a,l)=>l;class ug{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||ON}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,f=this._removalsHead,g=0,_=null;for(;d||f;){const b=!f||d&&d.currentIndex<H1(f,g,_)?d:f,E=H1(b,g,_),I=b.currentIndex;if(b===f)g--,f=f._nextRemoved;else if(d=d._next,null==b.previousIndex)g++;else{_||(_=[]);const A=E-g,M=I-g;if(A!=M){for(let P=0;P<A;P++){const j=P<_.length?_[P]:_[P]=0,W=j+P;M<=W&&W<A&&(_[P]=j+1)}_[b.previousIndex]=M-A}}E!==I&&l(b,E,I)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!Ap(l))throw new Error(`Error trying to diff '${J(l)}'. Only arrays and iterables are allowed`);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let g,_,b,d=this._itHead,f=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)_=l[E],b=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,_,b,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,E),f=!0),d=d._next}else g=0,function(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Bu()]();let f;for(;!(f=d.next()).done;)l(f.value)}}(l,E=>{b=this._trackByFn(g,E),null!==d&&Object.is(d.trackById,b)?(f&&(d=this._verifyReinsertion(d,E,b,g)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,b,g),f=!0),d=d._next,g++}),this.length=g;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,f,g){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,_,g)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(f,g))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,_,g)):l=this._addAfter(new Fl(d,f),_,g),l}_verifyReinsertion(l,d,f,g){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==_?l=this._reinsertAfter(_,l._prev,g):l.currentIndex!=g&&(l.currentIndex=g,this._addToMoves(l,g)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const g=l._prevRemoved,_=l._nextRemoved;return null===g?this._removalsHead=_:g._nextRemoved=_,null===_?this._removalsTail=g:_._prevRemoved=g,this._insertAfter(l,d,f),this._addToMoves(l,f),l}_moveAfter(l,d,f){return this._unlink(l),this._insertAfter(l,d,f),this._addToMoves(l,f),l}_addAfter(l,d,f){return this._insertAfter(l,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,f){const g=null===d?this._itHead:d._next;return l._next=g,l._prev=d,null===g?this._itTail=l:g._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new j1),this._linkedRecords.put(l),l.currentIndex=f,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,f=l._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new j1),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class Fl{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,l))return f;return null}remove(l){const d=l._prevDup,f=l._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class j1{constructor(){this.map=new Map}put(l){const d=l.trackById;let f=this.map.get(d);f||(f=new DD,this.map.set(d,f)),f.add(l)}get(l,d){const g=this.map.get(l);return g?g.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function H1(a,l,d){const f=a.previousIndex;if(null===f)return f;let g=0;return d&&f<d.length&&(g=d[f]),f+l+g}class Xu{constructor(){}supports(l){return l instanceof Map||vb(l)}create(){return new PN}}class PN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||vb(l)))throw new Error(`Error trying to diff '${J(l)}'. Only maps and objects are allowed`)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(f,g)=>{if(d&&d.key===g)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(g,f);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const f=l._prev;return d._next=l,d._prev=f,l._prev=d,f&&(f._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const g=this._records.get(l);this._maybeAddToChanges(g,d);const _=g._prev,b=g._next;return _&&(_._next=b),b&&(b._prev=_),g._next=null,g._prev=null,g}const f=new FN(l);return this._records.set(l,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(f=>d(l[f],f))}}class FN{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $1(){return new Iy([new TD])}let Iy=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(null!=f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||$1()),deps:[[a,new es,new zs]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(null!=f)return f;throw new Error(`Cannot find a differ supporting object '${d}' of type '${function(a){return a.name||typeof a}(d)}'`)}}return a.\u0275prov=bt({token:a,providedIn:"root",factory:$1}),a})();function G1(){return new Qd([new Xu])}let Qd=(()=>{class a{constructor(d){this.factories=d}static create(d,f){if(f){const g=f.factories.slice();d=d.concat(g)}return new a(d)}static extend(d){return{provide:a,useFactory:f=>a.create(d,f||G1()),deps:[[a,new es,new zs]]}}find(d){const f=this.factories.find(g=>g.supports(d));if(f)return f;throw new Error(`Cannot find a differ supporting object '${d}'`)}}return a.\u0275prov=bt({token:a,providedIn:"root",factory:G1}),a})();function Xd(a,l,d,f,g=!1){for(;null!==d;){const _=l[d.index];if(null!==_&&f.push(dn(_)),Mi(_))for(let E=10;E<_.length;E++){const I=_[E],A=I[1].firstChild;null!==A&&Xd(I[1],I,A,f)}const b=d.type;if(8&b)Xd(a,l,d.child,f);else if(32&b){const E=D_(d,l);let I;for(;I=E();)f.push(I)}else if(16&b){const E=uC(l,d);if(Array.isArray(E))f.push(...E);else{const I=np(l[16]);Xd(I[1],I,E,f,!0)}}d=g?d.projectionNext:d.next}return f}class eh{constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,d=l[1];return Xd(d,l,d.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Mi(l)){const d=l[8],f=d?d.indexOf(this):-1;f>-1&&(wa(l,f),hl(d,f))}this._attachedToViewContainer=!1}Cd(this._lView[1],this._lView)}onDestroy(l){pp(this._lView[1],this._lView,null,l)}markForCheck(){Md(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){eb(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(a,l,d){$c(!0);try{eb(a,l,d)}finally{$c(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var l;this._appRef=null,Js(this._lView[1],l=this._lView,l[11],2,null,null)}attachToAppRef(l){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=l}}class SD extends eh{constructor(l){super(l),this._view=l}detectChanges(){$C(this._view)}checkNoChanges(){!function(a){$c(!0);try{$C(a)}finally{$c(!1)}}(this._view)}get context(){return null}}const LN=function(a){return function(a,l,d){if(co(a)&&!d){const f=pi(a.index,l);return new eh(f,f)}return 47&a.type?new eh(l[16],l):null}(un(),Se(),16==(16&a))};let VN=(()=>{class a{}return a.__NG_ELEMENT_ID__=LN,a})();const Ay=[new Xu],AD=new Iy([new TD]),dg=new Qd(Ay),Jn=function(){return Ny(un(),Se())};let th=(()=>{class a{}return a.__NG_ELEMENT_ID__=Jn,a})();const UN=th,BN=class extends UN{constructor(l,d,f){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(l){const d=this._declarationTContainer.tViews,f=Ad(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[19];return null!==_&&(f[19]=_.createEmbeddedView(d)),dp(d,f,l),new eh(f)}};function Ny(a,l){return 4&a.type?new BN(l,a,Qu(a,l)):null}class Ll{}class z1{}const MD=function(){return xy(un(),Se())};let Ns=(()=>{class a{}return a.__NG_ELEMENT_ID__=MD,a})();const HN=Ns,My=class extends HN{constructor(l,d,f){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=f}get element(){return Qu(this._hostTNode,this._hostLView)}get injector(){return new oa(this._hostTNode,this._hostLView)}get parentInjector(){const l=al(this._hostTNode,this._hostLView);if(ol(l)){const d=pu(l,this._hostLView),f=sa(l);return new oa(d[1].data[f+8],d)}return new oa(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=nh(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,f){const g=l.createEmbeddedView(d||{});return this.insert(g,f),g}createComponent(l,d,f,g,_){const b=f||this.parentInjector;if(!_&&null==l.ngModule&&b){const I=b.get(Ll,null);I&&(_=I)}const E=l.create(b,g,void 0,_);return this.insert(E.hostView,d),E}insert(l,d){const f=l._lView,g=f[1];if(Mi(f[3])){const M=this.indexOf(l);if(-1!==M)this.detach(M);else{const k=f[3],P=new My(k,k[6],k[3]);P.detach(P.indexOf(l))}}const _=this._adjustIndex(d),b=this._lContainer;!function(a,l,d,f){const g=10+f,_=d.length;f>0&&(d[g-1][4]=l),f<_-10?(l[4]=d[g],da(d,10+f,l)):(d.push(l),l[4]=null),l[3]=d;const b=l[17];null!==b&&d!==b&&function(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=128}(g,f,b,_);const E=R0(_,b),I=f[11],A=Ea(I,b[7]);return null!==A&&function(a,l,d,f,g,_){f[0]=g,f[6]=l,Js(a,f,d,1,g,_)}(g,b[6],I,f,A,E),l.attachToViewContainerRef(),da(Ry(b),_,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=nh(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),f=wa(this._lContainer,d);f&&(hl(Ry(this._lContainer),d),Cd(f[1],f))}detach(l){const d=this._adjustIndex(l,-1),f=wa(this._lContainer,d);return f&&null!=hl(Ry(this._lContainer),d)?new eh(f):null}_adjustIndex(l,d=0){return null==l?this.length+d:l}};function nh(a){return a[8]}function Ry(a){return a[8]||(a[8]=[])}function xy(a,l){let d;const f=l[a.index];if(Mi(f))d=f;else{let g;if(8&a.type)g=dn(f);else{const _=l[11];g=_.createComment("");const b=fi(a,l);ts(_,Ea(_,b),g,function(a,l){return ln(a)?a.nextSibling(l):l.nextSibling}(_,b),!1)}l[a.index]=d=Q0(f,l,g,a),vp(l,d)}return new My(d,a,l)}const ch={};class Tg extends Ku{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=Cn(l);return new Lo(d,this.ngModule)}}function oc(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}const GD=new Tn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>en});class Lo extends P1{constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=l.selectors.map(QS).join(","),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return oc(this.componentDef.inputs)}get outputs(){return oc(this.componentDef.outputs)}create(l,d,f,g){const _=(g=g||this.ngModule)?function(a,l){return{get:(d,f,g)=>{const _=a.get(d,ch,g);return _!==ch||f===ch?_:l.get(d,f,g)}}}(l,g.injector):l,b=_.get(og,Qo),E=_.get(V1,null),I=b.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=f?function(a,l,d){if(ln(a))return a.selectRootElement(l,d===Fe.ShadowDom);let f="string"==typeof l?a.querySelector(l):l;return f.textContent="",f}(I,f,this.componentDef.encapsulation):jn(b.createRenderer(null,this.componentDef),A,function(a){const l=a.toLowerCase();return"svg"===l?"http://www.w3.org/2000/svg":"math"===l?"http://www.w3.org/1998/MathML/":null}(A)),k=this.componentDef.onPush?576:528,P=function(a,l){return{components:[],scheduler:a||en,clean:bp,playerHandler:l||null,flags:0}}(),j=Lu(0,null,null,1,0,null,null,null,null,null),W=Ad(null,j,P,k,null,null,b,I,E,_);let ce,te;uu(W);try{const Re=function(a,l,d,f,g,_){const b=d[1];d[20]=a;const I=Nd(b,20,2,"#host",null),A=I.mergedAttrs=l.hostAttrs;null!==A&&(L_(I,A,!0),null!==a&&(bf(g,a,A),null!==I.classes&&O0(g,a,I.classes),null!==I.styles&&hC(g,a,I.styles)));const M=f.createRenderer(a,l),k=Ad(d,AC(l),null,l.onPush?64:16,d[20],I,f,M,_||null,null);return b.firstCreatePass&&(xi(_u(I,d),b,l.type),UC(b,I),BC(I,d.length,1)),vp(d,k),d[20]=k}(M,this.componentDef,W,b,I);if(M)if(f)bf(I,M,["ng-version",B1.full]);else{const{attrs:Te,classes:ze}=function(a){const l=[],d=[];let f=1,g=2;for(;f<a.length;){let _=a[f];if("string"==typeof _)2===g?""!==_&&l.push(_,a[++f]):8===g&&d.push(_);else{if(!Qs(g))break;g=_}f++}return{attrs:l,classes:d}}(this.componentDef.selectors[0]);Te&&bf(I,M,Te),ze&&ze.length>0&&O0(I,M,ze.join(" "))}if(te=Uc(j,20),void 0!==d){const Te=te.projection=[];for(let ze=0;ze<this.ngContentSelectors.length;ze++){const pt=d[ze];Te.push(null!=pt?Array.from(pt):null)}}ce=function(a,l,d,f,g){const _=d[1],b=function(a,l,d){const f=un();a.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),Al(a,f,l,Fu(a,l,1,null),d));const g=vu(l,a,f.directiveStart,f);hr(g,l);const _=fi(f,l);return _&&hr(_,l),g}(_,d,l);if(f.components.push(b),a[8]=b,g&&g.forEach(I=>I(b,l)),l.contentQueries){const I=un();l.contentQueries(1,b,I.directiveStart)}const E=un();return!_.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(nl(E.index),OC(d[1],E,0,E.directiveStart,E.directiveEnd,l),LC(l,b)),b}(Re,this.componentDef,W,P,[VA]),dp(j,W,null)}finally{cu()}return new $y(this.componentType,ce,Qu(te,W),W,te)}}class $y extends class{}{constructor(l,d,f,g,_){super(),this.location=f,this._rootLView=g,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new SD(g),this.componentType=l}get injector(){return new oa(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}const jl=new Map;class Ig extends Ll{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Tg(this);const f=Ni(l),g=l[ke]||null;g&&qp(g),this._bootstrapComponents=fn(f.bootstrap),this._r3Injector=qC(l,d,[{provide:Ll,useValue:this},{provide:Ku,useValue:this.componentFactoryResolver}],J(l)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(l)}get(l,d=sn.THROW_IF_NOT_FOUND,f=Je.Default){return l===sn||l===Ll||l===Vu?this:this._r3Injector.get(l,d,f)}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class qy extends z1{constructor(l){super(),this.moduleType=l,null!==Ni(l)&&function(a){const l=new Set;!function d(f){const g=Ni(f,!0),_=g.id;null!==_&&(function(a,l,d){if(l&&l!==d)throw new Error(`Duplicate module registered for ${a} - ${J(l)} vs ${J(l.name)}`)}(_,jl.get(_),f),jl.set(_,f));const b=fn(g.imports);for(const E of b)l.has(E)||(l.add(E),d(E))}(a)}(l)}create(l){return new Ig(this.moduleType,l)}}function fh(a,l,d,f){return ac(Se(),xn(),a,l,d,f)}function uw(a,l,d,f,g){return function(a,l,d,f,g,_,b){const E=l+d;return In(a,E,g,_)?rs(a,E+2,b?f.call(b,g,_):f(g,_)):ph(a,E+2)}(Se(),xn(),a,l,d,f,g)}function WD(a,l,d,f,g,_){return function(a,l,d,f,g,_,b,E){const I=l+d;return function(a,l,d,f,g){const _=In(a,l,d,f);return Pn(a,l+2,g)||_}(a,I,g,_,b)?rs(a,I+3,E?f.call(E,g,_,b):f(g,_,b)):ph(a,I+3)}(Se(),xn(),a,l,d,f,g,_)}function ph(a,l){const d=a[l];return d===Et?void 0:d}function ac(a,l,d,f,g,_){const b=l+d;return Pn(a,b,g)?rs(a,b+1,_?f.call(_,g):f(g)):ph(a,b+1)}function lc(a,l){const d=xt();let f;const g=a+20;d.firstCreatePass?(f=function(a,l){if(l)for(let d=l.length-1;d>=0;d--){const f=l[d];if(a===f.name)return f}throw new Ie("302",`The pipe '${a}' could not be found!`)}(l,d.pipeRegistry),d.data[g]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(g,f.onDestroy)):f=d.data[g];const _=f.factory||(f.factory=Jo(f.type)),b=Gn(Hu);try{const E=gu(!1),I=_();return gu(E),function(a,l,d,f){d>=a.data.length&&(a.data[d]=null,a.blueprint[d]=null),l[d]=f}(d,Se(),g,I),I}finally{Gn(b)}}function hw(a,l,d){const f=a+20,g=Se(),_=fo(g,f);return function(a,l){So.isWrapped(l)&&(l=So.unwrap(l),a[Ki()]=Et);return l}(g,function(a,l){return a[1].data[l].pure}(g,f)?ac(g,xn(),l,_.transform,d,_):_.transform(d))}function Ag(a){return l=>{setTimeout(a,void 0,l)}}const Vo=class extends c.xQ{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,f){var g,_,b;let E=l,I=d||(()=>null),A=f;if(l&&"object"==typeof l){const k=l;E=null===(g=k.next)||void 0===g?void 0:g.bind(k),I=null===(_=k.error)||void 0===_?void 0:_.bind(k),A=null===(b=k.complete)||void 0===b?void 0:b.bind(k)}this.__isAsync&&(I=Ag(I),E&&(E=Ag(E)),A&&(A=Ag(A)));const M=super.subscribe({next:E,error:I,complete:A});return l instanceof le.w&&l.add(M),M}};function XD(){return this._results[Bu()]()}class Ng{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Bu(),f=Ng.prototype;f[d]||(f[d]=XD)}get changes(){return this._changes||(this._changes=new Vo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const f=this;f.dirty=!1;const g=Xr(l);(this._changesDetected=!function(a,l,d){if(a.length!==l.length)return!1;for(let f=0;f<a.length;f++){let g=a[f],_=l[f];if(d&&(g=d(g),_=d(_)),_!==g)return!1}return!0}(f._results,g,d))&&(f._results=g,f.length=g.length,f.last=g[this.length-1],f.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Wy{constructor(l){this.queryList=l,this.matches=null}clone(){return new Wy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Yy{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const f=null!==l.contentQueries?l.contentQueries[0]:d.length,g=[];for(let _=0;_<f;_++){const b=d.getByIndex(_);g.push(this.queries[b.indexInDeclarationView].clone())}return new Yy(g)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==gw(l,d).matches&&this.queries[d].setDirty()}}class gh{constructor(l,d,f=null){this.predicate=l,this.flags=d,this.read=f}}class Rg{constructor(l=[]){this.queries=l}elementStart(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let f=0;f<this.length;f++){const g=null!==d?d.length:0,_=this.getByIndex(f).embeddedTView(l,g);_&&(_.indexInDeclarationView=f,null!==d?d.push(_):d=[_])}return null!==d?new Rg(d):null}template(l,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class fw{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new fw(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=l.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let g=0;g<f.length;g++){const _=f[g];this.matchTNodeWithReadOption(l,d,tr(d,_)),this.matchTNodeWithReadOption(l,d,ki(d,l,_,!1,!1))}else f===th?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,ki(d,l,f,!1,!1))}matchTNodeWithReadOption(l,d,f){if(null!==f){const g=this.metadata.read;if(null!==g)if(g===as||g===Ns||g===th&&4&d.type)this.addMatch(d.index,-2);else{const _=ki(d,l,g,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,f)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function tr(a,l){const d=a.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===l)return d[f+1];return null}function eI(a,l,d,f){return-1===d?function(a,l){return 11&a.type?Qu(a,l):4&a.type?Ny(a,l):null}(l,a):-2===d?function(a,l,d){return d===as?Qu(l,a):d===th?Ny(l,a):d===Ns?xy(l,a):void 0}(a,l,f):vu(a,a[1],d,l)}function nr(a,l,d,f){const g=l[19].queries[f];if(null===g.matches){const _=a.data,b=d.matches,E=[];for(let I=0;I<b.length;I+=2){const A=b[I];E.push(A<0?null:eI(l,_[A],b[I+1],d.metadata.read))}g.matches=E}return g.matches}function mh(a,l,d,f){const g=a.queries.getByIndex(d),_=g.matches;if(null!==_){const b=nr(a,l,g,d);for(let E=0;E<_.length;E+=2){const I=_[E];if(I>0)f.push(b[E/2]);else{const A=_[E+1],M=l[-I];for(let k=10;k<M.length;k++){const P=M[k];P[17]===P[3]&&mh(P[1],P,A,f)}if(null!==M[9]){const k=M[9];for(let P=0;P<k.length;P++){const j=k[P];mh(j[1],j,A,f)}}}}}return f}function Er(a){const l=Se(),d=xt(),f=mf();ta(f+1);const g=gw(d,f);if(a.dirty&&of(l)===(2==(2&g.metadata.flags))){if(null===g.matches)a.reset([]);else{const _=g.crossesNgTemplate?mh(d,l,f,[]):nr(d,l,g,f);a.reset(_,sg),a.notifyOnChanges()}return!0}return!1}function An(a,l,d){const f=xt();f.firstCreatePass&&(Ky(f,new gh(a,l,d),-1),2==(2&l)&&(f.staticViewQueries=!0)),rI(f,Se(),l)}function pw(a,l,d,f){const g=xt();if(g.firstCreatePass){const _=un();Ky(g,new gh(l,d,f),_.index),function(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(g,a),2==(2&d)&&(g.staticContentQueries=!0)}rI(g,Se(),d)}function nI(){return a=Se(),l=mf(),a[19].queries[l].queryList;var a,l}function rI(a,l,d){const f=new Ng(4==(4&d));pp(a,l,f,f.destroy),null===l[19]&&(l[19]=new Yy),l[19].queries.push(new Wy(f))}function Ky(a,l,d){null===a.queries&&(a.queries=new Rg),a.queries.track(new fw(l,d))}function gw(a,l){return a.queries.getByIndex(l)}function iI(a,l){return Ny(a,l)}const nv=new Tn("Application Initializer");let Wl=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Kd,this.reject=Kd,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,g)=>{this.resolve=f,this.reject=g})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let g=0;g<this.appInits.length;g++){const _=this.appInits[g]();if(Q_(_))d.push(_);else if(CT(_)){const b=new Promise((E,I)=>{_.subscribe({complete:E,error:I})});d.push(b)}}Promise.all(d).then(()=>{f()}).catch(g=>{this.reject(g)}),0===d.length&&f(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(hn(nv,8))},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();const Tw=new Tn("AppId"),Dw={provide:Tw,useFactory:function(){return`${Vg()}${Vg()}${Vg()}`},deps:[]};function Vg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ua=new Tn("Platform Initializer"),Iw=new Tn("Platform ID"),rv=new Tn("appBootstrapListener");let iv=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();const Ug=new Tn("LocaleId"),pc=new Tn("DefaultCurrencyCode");class SI{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}const Hg=function(a){return new qy(a)},bM=Hg,$i=function(a){return Promise.resolve(Hg(a))},$g=function(a){const l=Hg(a),f=fn(Ni(a).declarations).reduce((g,_)=>{const b=Cn(_);return b&&g.push(new Lo(b)),g},[]);return new SI(l,f)},Sw=$g,Eh=function(a){return Promise.resolve($g(a))};let Ch=(()=>{class a{constructor(){this.compileModuleSync=bM,this.compileModuleAsync=$i,this.compileModuleAndAllComponentsSync=Sw,this.compileModuleAndAllComponentsAsync=Eh}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();const Th=(()=>Promise.resolve(0))();function av(a){"undefined"==typeof Zone?Th.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class fr{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Vo(!1),this.onMicrotaskEmpty=new Vo(!1),this.onStable=new Vo(!1),this.onError=new Vo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!f&&d,g.shouldCoalesceRunChangeDetection=f,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function(){let a=zt.requestAnimationFrame,l=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function(a){const l=()=>{!function(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(zt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Nw(a),a.isCheckStableRunning=!0,lv(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Nw(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,g,_,b,E)=>{try{return AI(a),d.invokeTask(g,_,b,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),Gg(a)}},onInvoke:(d,f,g,_,b,E,I)=>{try{return AI(a),d.invoke(g,_,b,E,I)}finally{a.shouldCoalesceRunChangeDetection&&l(),Gg(a)}},onHasTask:(d,f,g,_)=>{d.hasTask(g,_),f===g&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Nw(a),lv(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,f,g,_)=>(d.handleError(g,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(g)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fr.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fr.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(l,d,f){return this._inner.run(l,d,f)}runTask(l,d,f,g){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+g,l,Aw,Kd,Kd);try{return _.runTask(b,d,f)}finally{_.cancelTask(b)}}runGuarded(l,d,f){return this._inner.runGuarded(l,d,f)}runOutsideAngular(l){return this._outer.run(l)}}const Aw={};function lv(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Nw(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function AI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Gg(a){a._nesting--,lv(a)}class Dh{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Vo,this.onMicrotaskEmpty=new Vo,this.onStable=new Vo,this.onError=new Vo}run(l,d,f){return l.apply(d,f)}runGuarded(l,d,f){return l.apply(d,f)}runOutsideAngular(l){return l()}runTask(l,d,f,g){return l.apply(d,f)}}let Mw=(()=>{class a{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fr.assertNotInAngularZone(),av(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())av(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,g){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:g})}whenStable(d,f,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,g){return[]}}return a.\u0275fac=function(d){return new(d||a)(hn(fr))},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})(),NI=(()=>{class a{constructor(){this._applications=new Map,jo.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return jo.findTestabilityInTree(this,d,f)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();class AM{addToWindow(l){}findTestabilityInTree(l,d,f){return null}}function MI(a){jo=a}let jo=new AM,Zg=!0,RI=!1;function uv(){return RI=!0,Zg}function Rw(){if(RI)throw new Error("Cannot enable prod mode after platform setup.");Zg=!1}let ps;const Pw=new Tn("AllowMultipleToken");class Fw{constructor(l,d){this.name=l,this.token=d}}function Lw(a,l,d=[]){const f=`Platform: ${l}`,g=new Tn(f);return(_=[])=>{let b=PI();if(!b||b.injector.get(Pw,!1))if(a)a(d.concat(_).concat({provide:g,useValue:!0}));else{const E=d.concat(_).concat({provide:g,useValue:!0},{provide:Cp,useValue:"platform"});!function(a){if(ps&&!ps.destroyed&&!ps.injector.get(Pw,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ps=a.get(_c);const l=a.get(Ua,null);l&&l.forEach(d=>d())}(sn.create({providers:E,name:f}))}return function(a){const l=PI();if(!l)throw new Error("No platform exists!");if(!l.injector.get(a,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return l}(g)}}function PI(){return ps&&!ps.destroyed?ps:null}let _c=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const E=function(a,l){let d;return d="noop"===a?new Dh:("zone.js"===a?void 0:a)||new fr({enableLongStackTrace:uv(),shouldCoalesceEventChangeDetection:!!(null==l?void 0:l.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==l?void 0:l.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),I=[{provide:fr,useValue:E}];return E.run(()=>{const A=sn.create({providers:I,parent:this.injector,name:d.moduleType.name}),M=d.create(A),k=M.injector.get(D,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return E.runOutsideAngular(()=>{const P=E.onError.subscribe({next:j=>{k.handleError(j)}});M.onDestroy(()=>{cv(this._modules,M),P.unsubscribe()})}),function(a,l,d){try{const f=d();return Q_(f)?f.catch(g=>{throw l.runOutsideAngular(()=>a.handleError(g)),g}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(k,E,()=>{const P=M.injector.get(Wl);return P.runInitializers(),P.donePromise.then(()=>(qp(M.injector.get(Ug,xa)||xa),this._moduleDoBootstrap(M),M))})})}bootstrapModule(d,f=[]){const g=zg({},f);return function(a,l,d){const f=new qy(d);return Promise.resolve(f)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,g))}_moduleDoBootstrap(d){const f=d.injector.get(Sh);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(g=>f.bootstrap(g));else{if(!d.instance.ngDoBootstrap)throw new Error(`The module ${J(d.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(hn(sn))},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();function zg(a,l){return Array.isArray(l)?l.reduce(zg,a):Object.assign(Object.assign({},a),l)}let Sh=(()=>{class a{constructor(d,f,g,_,b){this._zone=d,this._injector=f,this._exceptionHandler=g,this._componentFactoryResolver=_,this._initStatus=b,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new Z.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),I=new Z.y(A=>{let M;this._zone.runOutsideAngular(()=>{M=this._zone.onStable.subscribe(()=>{fr.assertNotInAngularZone(),av(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{fr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{M.unsubscribe(),k.unsubscribe()}});this.isStable=(0,oe.T)(E,I.pipe((0,ge.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let g;g=d instanceof P1?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(g.componentType);const _=function(a){return a.isBoundToModule}(g)?void 0:this._injector.get(Ll),E=g.create(sn.NULL,[],f||g.selector,_),I=E.location.nativeElement,A=E.injector.get(Mw,null),M=A&&E.injector.get(NI);return A&&M&&M.registerApplication(I,A),E.onDestroy(()=>{this.detachView(E.hostView),cv(this.components,E),M&&M.unregisterApplication(I)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;cv(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(rv,[]).concat(this._bootstrapListeners).forEach(g=>g(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(d){return new(d||a)(hn(fr),hn(sn),hn(D),hn(Ku),hn(Wl))},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();function cv(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}class xM{}class kM{}const OM={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let PM=(()=>{class a{constructor(d,f){this._compiler=d,this._config=f||OM}load(d){return this.loadAndCompile(d)}loadAndCompile(d){let[f,g]=d.split("#");return void 0===g&&(g="default"),U(8255)(f).then(_=>_[g]).then(_=>BI(_,f,g)).then(_=>this._compiler.compileModuleAsync(_))}loadFactory(d){let[f,g]=d.split("#"),_="NgFactory";return void 0===g&&(g="default",_=""),U(8255)(this._config.factoryPathPrefix+f+this._config.factoryPathSuffix).then(b=>b[g+_]).then(b=>BI(b,f,g))}}return a.\u0275fac=function(d){return new(d||a)(hn(Ch),hn(kM,8))},a.\u0275prov=bt({token:a,factory:a.\u0275fac}),a})();function BI(a,l,d){if(!a)throw new Error(`Cannot find '${d}' in '${l}'`);return a}const VM=function(a){return null},_v=Lw(null,"core",[{provide:Iw,useValue:"unknown"},{provide:_c,deps:[sn]},{provide:NI,deps:[]},{provide:iv,deps:[]}]),Kl=[{provide:Sh,useClass:Sh,deps:[fr,sn,D,Ku,Wl]},{provide:GD,deps:[fr],useFactory:function(a){let l=[];return a.onStable.subscribe(()=>{for(;l.length;)l.pop()()}),function(d){l.push(d)}}},{provide:Wl,useClass:Wl,deps:[[new zs,nv]]},{provide:Ch,useClass:Ch,deps:[]},Dw,{provide:Iy,useFactory:function(){return AD},deps:[]},{provide:Qd,useFactory:function(){return dg},deps:[]},{provide:Ug,useFactory:function(a){return qp(a=a||"undefined"!=typeof $localize&&$localize.locale||xa),a},deps:[[new ml(Ug),new zs,new es]]},{provide:pc,useValue:"USD"}];let UM=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(hn(Sh))},a.\u0275mod=za({type:a}),a.\u0275inj=Mn({providers:Kl}),a})()},9958:(Ze,De,U)=>{"use strict";U.d(De,{hO:()=>Ie,xv:()=>z,Dh:()=>V,GT:()=>J,on:()=>B,pX:()=>ae});var c=U(7716),le=U(4486);le.Z.registerVersion("firebase","9.0.0","app-compat");var ge=U(9126);Ze=U.hmd(Ze);const Q=["ngOnDestroy"],ae=(_e,Me,ie,ue={})=>new Proxy(_e,{get:(je,Le)=>ie.runOutsideAngular(()=>{var tt;if(_e[Le])return(null===(tt=null==ue?void 0:ue.spy)||void 0===tt?void 0:tt.get)&&ue.spy.get(Le,_e[Le]),_e[Le];if(Q.indexOf(Le)>-1)return()=>{};const St=Me.toPromise().then(ye=>{const At=ye&&ye[Le];return"function"==typeof At?At.bind(ye):At&&At.then?At.then(mt=>ie.run(()=>mt)):ie.run(()=>At)});return new Proxy(()=>{},{get:(ye,At)=>St[At],apply:(ye,At,mt)=>St.then(he=>{var se;const ve=he&&he(...mt);return(null===(se=null==ue?void 0:ue.spy)||void 0===se?void 0:se.apply)&&ue.spy.apply(Le,mt,ve),ve})})})}),J=(_e,Me)=>{Me.forEach(ie=>{Object.getOwnPropertyNames(ie.prototype||ie).forEach(ue=>{Object.defineProperty(_e.prototype,ue,Object.getOwnPropertyDescriptor(ie.prototype||ie,ue))})})};class ${constructor(Me){return Me}}const V=new c.OlP("angularfire2.app.options"),z=new c.OlP("angularfire2.app.name");function B(_e,Me,ie){const je="object"==typeof ie&&ie||{};je.name=je.name||"string"==typeof ie&&ie||"[DEFAULT]";const tt=le.Z.apps.filter(St=>St&&St.name===je.name)[0]||Me.runOutsideAngular(()=>le.Z.initializeApp(_e,je));try{JSON.stringify(_e)!==JSON.stringify(tt.options)&&Y("error",`${tt.name} Firebase App already initialized with different options${Ze.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(St){}return new $(tt)}const Y=(_e,...Me)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[_e](...Me)},we={provide:$,useFactory:B,deps:[V,c.R0b,[new c.FiY,z]]};let Ie=(()=>{class _e{constructor(ie){le.Z.registerVersion("angularfire",ge.q4.full,`compat-${ie.toString()}`),le.Z.registerVersion("angular",c.q4F.full)}static initializeApp(ie,ue){return{ngModule:_e,providers:[{provide:V,useValue:ie},{provide:z,useValue:ue}]}}}return _e.\u0275fac=function(ie){return new(ie||_e)(c.LFG(c.Lbi))},_e.\u0275mod=c.oAB({type:_e}),_e.\u0275inj=c.cJS({providers:[we]}),_e})()},9126:(Ze,De,U)=>{"use strict";U.d(De,{q4:()=>V,iC:()=>he,f6:()=>mt,HU:()=>Le,cc:()=>Y});var c=U(7716);(0,U(5452).registerVersion)("firebase","9.0.0","app");var ge=U(7771),Q=U(3637),ae=U(8307),J=U(9746),$=U(2639);Ze=U.hmd(Ze);const V=new c.GfV("7.0.0"),z=!!Ze.hot,B=(fe,...X)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[fe](...X)};function Y(fe,X,Ue,ot,Kt){const[,Xe,dt]=globalThis.\u0275AngularfireInstanceCache.find(ut=>ut[0]===fe)||[];if(Xe)return function(fe,X){try{return fe.toString()===X.toString()}catch(Ue){return fe===X}}(Kt,dt)||(B("error",`${X} was already initialized on the ${Ue} Firebase App with different settings.${z?" You may need to reload as Firebase is not HMR aware.":""}`),B("warn",{is:Kt,was:dt})),Xe;{const ut=ot();return globalThis.\u0275AngularfireInstanceCache.push([fe,ut,Kt]),ut}}function ie(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class ue{constructor(X,Ue=ge.N){this.zone=X,this.delegate=Ue}now(){return this.delegate.now()}schedule(X,Ue,ot){const Kt=this.zone;return this.delegate.schedule(function(dt){Kt.runGuarded(()=>{X.apply(this,[dt])})},Ue,ot)}}class je{constructor(X){this.zone=X,this.task=null}call(X,Ue){const ot=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ie,{},ie,ie)),Ue.pipe((0,ae.b)({next:ot,complete:ot,error:ot})).subscribe(X).add(ot)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Le=(()=>{class fe{constructor(Ue){this.ngZone=Ue,this.outsideAngular=Ue.runOutsideAngular(()=>new ue(Zone.current)),this.insideAngular=Ue.run(()=>new ue(Zone.current,Q.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return fe.\u0275fac=function(Ue){return new(Ue||fe)(c.LFG(c.R0b))},fe.\u0275prov=c.Yz7({token:fe,factory:fe.\u0275fac,providedIn:"root"}),fe})();function tt(){const fe=globalThis.\u0275AngularFireScheduler;if(!fe)throw new Error("AngularFireModule has not been provided");return fe}function mt(fe){return fe.pipe((0,J.QV)(tt().insideAngular))}function he(fe){return tt(),function(fe){return function(Ue){return(Ue=Ue.lift(new je(fe.ngZone))).pipe((0,$.R)(fe.outsideAngular),(0,J.QV)(fe.insideAngular))}}(tt())(fe)}},4486:(Ze,De,U)=>{"use strict";U.d(De,{Z:()=>_e});var c=U(4685),le=U(6034),Z=U(5452),oe=U(300);class ge{constructor(ie,ue){this._delegate=ie,this.firebase=ue,(0,Z._addComponent)(ie,new le.wA("app-compat",()=>this,"PUBLIC")),this.container=ie.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ie){this._delegate.automaticDataCollectionEnabled=ie}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ie=>{this._delegate.checkDestroyed(),ie()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Z.deleteApp)(this._delegate)))}_getService(ie,ue=Z._DEFAULT_ENTRY_NAME){var je;this._delegate.checkDestroyed();const Le=this._delegate.container.getProvider(ie);return!Le.isInitialized()&&"EXPLICIT"===(null===(je=Le.getComponent())||void 0===je?void 0:je.instantiationMode)&&Le.initialize(),Le.getImmediate({identifier:ue})}_removeServiceInstance(ie,ue=Z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ie).clearInstance(ue)}_addComponent(ie){(0,Z._addComponent)(this._delegate,ie)}_addOrOverwriteComponent(ie){(0,Z._addOrOverwriteComponent)(this._delegate,ie)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ae=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),V=function $(){const Me=function(Me){const ie={},ue={__esModule:!0,initializeApp:function(mt,he={}){const se=Z.initializeApp(mt,he);if((0,c.r3)(ie,se.name))return ie[se.name];const ve=new Me(se,ue);return ie[se.name]=ve,ve},app:Le,registerVersion:Z.registerVersion,setLogLevel:Z.setLogLevel,onLog:Z.onLog,apps:null,SDK_VERSION:Z.SDK_VERSION,INTERNAL:{registerComponent:function(mt){const he=mt.name,se=he.replace("-compat","");if(Z._registerComponent(mt)&&"PUBLIC"===mt.type){const ve=(pe=Le())=>{if("function"!=typeof pe[se])throw ae.create("invalid-app-argument",{appName:he});return pe[se]()};void 0!==mt.serviceProps&&(0,c.ZB)(ve,mt.serviceProps),ue[se]=ve,Me.prototype[se]=function(...pe){return this._getService.bind(this,he).apply(this,mt.multipleInstances?pe:[])}}return"PUBLIC"===mt.type?ue[se]:null},removeApp:function(mt){delete ie[mt]},useAsService:function(mt,he){return"serverAuth"===he?null:he},modularAPIs:Z}};function Le(mt){if(!(0,c.r3)(ie,mt=mt||Z._DEFAULT_ENTRY_NAME))throw ae.create("no-app",{appName:mt});return ie[mt]}return ue.default=ue,Object.defineProperty(ue,"apps",{get:function(){return Object.keys(ie).map(mt=>ie[mt])}}),Le.App=Me,ue}(ge);return Me.INTERNAL=Object.assign(Object.assign({},Me.INTERNAL),{createFirebaseNamespace:$,extendNamespace:function(ue){(0,c.ZB)(Me,ue)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Me}(),z=new oe.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Me=self.firebase.SDK_VERSION;Me&&Me.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ie=V;(0,Z.registerVersion)("@firebase/app-compat","0.1.0",undefined);const _e=Ie},5452:(Ze,De,U)=>{"use strict";U.r(De),U.d(De,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Ga,_DEFAULT_ENTRY_NAME:()=>Kt,_addComponent:()=>Nn,_addOrOverwriteComponent:()=>ks,_apps:()=>dt,_clearComponents:()=>Mn,_components:()=>ut,_getProvider:()=>bt,_registerComponent:()=>an,_removeServiceInstance:()=>Os,deleteApp:()=>qo,getApp:()=>Gi,getApps:()=>oo,initializeApp:()=>Za,onLog:()=>ur,registerVersion:()=>Je,setLogLevel:()=>Ps});var c=U(8239),le=U(6034),Z=U(300),oe=U(4685);class ge{constructor(ct){this.container=ct}getPlatformInfoString(){return this.container.getProviders().map(Lt=>{if(function(Tt){const ct=Tt.getComponent();return"VERSION"===(null==ct?void 0:ct.type)}(Lt)){const Ot=Lt.getImmediate();return`${Ot.library}/${Ot.version}`}return null}).filter(Lt=>Lt).join(" ")}}const ae="@firebase/app",$=new Z.Yd("@firebase/app"),Kt="[DEFAULT]",Xe={[ae]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},dt=new Map,ut=new Map;function Nn(Tt,ct){try{Tt.container.addComponent(ct)}catch(Lt){$.debug(`Component ${ct.name} failed to register with FirebaseApp ${Tt.name}`,Lt)}}function ks(Tt,ct){Tt.container.addOrOverwriteComponent(ct)}function an(Tt){const ct=Tt.name;if(ut.has(ct))return $.debug(`There were multiple attempts to register component ${ct}.`),!1;ut.set(ct,Tt);for(const Lt of dt.values())Nn(Lt,Tt);return!0}function bt(Tt,ct){return Tt.container.getProvider(ct)}function Os(Tt,ct,Lt=Kt){bt(Tt,ct).clearInstance(Lt)}function Mn(){ut.clear()}const mr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Zo{constructor(ct,Lt,Ot){this._isDeleted=!1,this._options=Object.assign({},ct),this._config=Object.assign({},Lt),this._name=Lt.name,this._automaticDataCollectionEnabled=Lt.automaticDataCollectionEnabled,this._container=Ot,this.container.addComponent(new le.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ct){this.checkDestroyed(),this._automaticDataCollectionEnabled=ct}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ct){this._isDeleted=ct}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Ga="9.0.0";function Za(Tt,ct={}){"object"!=typeof ct&&(ct={name:ct});const Lt=Object.assign({name:Kt,automaticDataCollectionEnabled:!1},ct),Ot=Lt.name;if("string"!=typeof Ot||!Ot)throw mr.create("bad-app-name",{appName:String(Ot)});const _r=dt.get(Ot);if(_r){if((0,oe.vZ)(Tt,_r.options)&&(0,oe.vZ)(Lt,_r.config))return _r;throw mr.create("duplicate-app",{appName:Ot})}const tn=new le.H0(Ot);for(const at of ut.values())tn.addComponent(at);const Fe=new Zo(Tt,Lt,tn);return dt.set(Ot,Fe),Fe}function Gi(Tt=Kt){const ct=dt.get(Tt);if(!ct)throw mr.create("no-app",{appName:Tt});return ct}function oo(){return Array.from(dt.values())}function qo(Tt){return zo.apply(this,arguments)}function zo(){return(zo=(0,c.Z)(function*(Tt){const ct=Tt.name;dt.has(ct)&&(dt.delete(ct),yield Promise.all(Tt.container.getProviders().map(Lt=>Lt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function Je(Tt,ct,Lt){var Ot;let _r=null!==(Ot=Xe[Tt])&&void 0!==Ot?Ot:Tt;Lt&&(_r+=`-${Lt}`);const tn=_r.match(/\s|\//),Fe=ct.match(/\s|\//);if(tn||Fe){const at=[`Unable to register library "${_r}" with version "${ct}":`];return tn&&at.push(`library name "${_r}" contains illegal characters (whitespace or "/")`),tn&&Fe&&at.push("and"),Fe&&at.push(`version name "${ct}" contains illegal characters (whitespace or "/")`),void $.warn(at.join(" "))}an(new le.wA(`${_r}-version`,()=>({library:_r,version:ct}),"VERSION"))}function ur(Tt,ct){if(null!==Tt&&"function"!=typeof Tt)throw mr.create("invalid-log-argument");(0,Z.Am)(Tt,ct)}function Ps(Tt){(0,Z.Ub)(Tt)}an(new le.wA("platform-logger",ct=>new ge(ct),"PRIVATE")),Je(ae,"0.7.0",undefined),Je("fire-js","")},6034:(Ze,De,U)=>{"use strict";U.d(De,{wA:()=>Z,H0:()=>J});var c=U(4762),le=U(4685),Z=function(){function $(V,z,B){this.name=V,this.instanceFactory=z,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return $.prototype.setInstantiationMode=function(V){return this.instantiationMode=V,this},$.prototype.setMultipleInstances=function(V){return this.multipleInstances=V,this},$.prototype.setServiceProps=function(V){return this.serviceProps=V,this},$.prototype.setInstanceCreatedCallback=function(V){return this.onInstanceCreated=V,this},$}(),oe="[DEFAULT]",ge=function(){function $(V,z){this.name=V,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return $.prototype.get=function(V){var z=this.normalizeInstanceIdentifier(V);if(!this.instancesDeferred.has(z)){var B=new le.BH;if(this.instancesDeferred.set(z,B),this.isInitialized(z)||this.shouldAutoInitialize())try{var Y=this.getOrInitializeService({instanceIdentifier:z});Y&&B.resolve(Y)}catch(we){}}return this.instancesDeferred.get(z).promise},$.prototype.getImmediate=function(V){var z,B=this.normalizeInstanceIdentifier(null==V?void 0:V.identifier),Y=null!==(z=null==V?void 0:V.optional)&&void 0!==z&&z;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(Y)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(we){if(Y)return null;throw we}},$.prototype.getComponent=function(){return this.component},$.prototype.setComponent=function(V){var z,B;if(V.name!==this.name)throw Error("Mismatching Component "+V.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=V,this.shouldAutoInitialize()){if(function($){return"EAGER"===$.instantiationMode}(V))try{this.getOrInitializeService({instanceIdentifier:oe})}catch(je){}try{for(var Y=(0,c.XA)(this.instancesDeferred.entries()),we=Y.next();!we.done;we=Y.next()){var Ie=(0,c.CR)(we.value,2),Me=Ie[1],ie=this.normalizeInstanceIdentifier(Ie[0]);try{var ue=this.getOrInitializeService({instanceIdentifier:ie});Me.resolve(ue)}catch(je){}}}catch(je){z={error:je}}finally{try{we&&!we.done&&(B=Y.return)&&B.call(Y)}finally{if(z)throw z.error}}}},$.prototype.clearInstance=function(V){void 0===V&&(V=oe),this.instancesDeferred.delete(V),this.instancesOptions.delete(V),this.instances.delete(V)},$.prototype.delete=function(){return(0,c.mG)(this,void 0,void 0,function(){var V;return(0,c.Jh)(this,function(z){switch(z.label){case 0:return V=Array.from(this.instances.values()),[4,Promise.all((0,c.ev)((0,c.ev)([],(0,c.CR)(V.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,c.CR)(V.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return z.sent(),[2]}})})},$.prototype.isComponentSet=function(){return null!=this.component},$.prototype.isInitialized=function(V){return void 0===V&&(V=oe),this.instances.has(V)},$.prototype.getOptions=function(V){return void 0===V&&(V=oe),this.instancesOptions.get(V)||{}},$.prototype.initialize=function(V){var z,B;void 0===V&&(V={});var Y=V.options,we=void 0===Y?{}:Y,Ie=this.normalizeInstanceIdentifier(V.instanceIdentifier);if(this.isInitialized(Ie))throw Error(this.name+"("+Ie+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var _e=this.getOrInitializeService({instanceIdentifier:Ie,options:we});try{for(var Me=(0,c.XA)(this.instancesDeferred.entries()),ie=Me.next();!ie.done;ie=Me.next()){var ue=(0,c.CR)(ie.value,2),Le=ue[1];Ie===this.normalizeInstanceIdentifier(ue[0])&&Le.resolve(_e)}}catch(St){z={error:St}}finally{try{ie&&!ie.done&&(B=Me.return)&&B.call(Me)}finally{if(z)throw z.error}}return _e},$.prototype.onInit=function(V,z){var B,Y=this.normalizeInstanceIdentifier(z),we=null!==(B=this.onInitCallbacks.get(Y))&&void 0!==B?B:new Set;we.add(V),this.onInitCallbacks.set(Y,we);var Ie=this.instances.get(Y);return Ie&&V(Ie,Y),function(){we.delete(V)}},$.prototype.invokeOnInitCallbacks=function(V,z){var B,Y,we=this.onInitCallbacks.get(z);if(we)try{for(var Ie=(0,c.XA)(we),_e=Ie.next();!_e.done;_e=Ie.next()){var Me=_e.value;try{Me(V,z)}catch(ie){}}}catch(ie){B={error:ie}}finally{try{_e&&!_e.done&&(Y=Ie.return)&&Y.call(Ie)}finally{if(B)throw B.error}}},$.prototype.getOrInitializeService=function(V){var z=V.instanceIdentifier,B=V.options,Y=void 0===B?{}:B,we=this.instances.get(z);if(!we&&this.component&&(we=this.component.instanceFactory(this.container,{instanceIdentifier:Q(z),options:Y}),this.instances.set(z,we),this.instancesOptions.set(z,Y),this.invokeOnInitCallbacks(we,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,we)}catch(Ie){}return we||null},$.prototype.normalizeInstanceIdentifier=function(V){return void 0===V&&(V=oe),this.component?this.component.multipleInstances?V:oe:V},$.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},$}();function Q($){return $===oe?void 0:$}var J=function(){function $(V){this.name=V,this.providers=new Map}return $.prototype.addComponent=function(V){var z=this.getProvider(V.name);if(z.isComponentSet())throw new Error("Component "+V.name+" has already been registered with "+this.name);z.setComponent(V)},$.prototype.addOrOverwriteComponent=function(V){this.getProvider(V.name).isComponentSet()&&this.providers.delete(V.name),this.addComponent(V)},$.prototype.getProvider=function(V){if(this.providers.has(V))return this.providers.get(V);var z=new ge(V,this);return this.providers.set(V,z),z},$.prototype.getProviders=function(){return Array.from(this.providers.values())},$}()},300:(Ze,De,U)=>{"use strict";function c(){for(var B=0,Y=0,we=arguments.length;Y<we;Y++)B+=arguments[Y].length;var Ie=Array(B),_e=0;for(Y=0;Y<we;Y++)for(var Me=arguments[Y],ie=0,ue=Me.length;ie<ue;ie++,_e++)Ie[_e]=Me[ie];return Ie}U.d(De,{in:()=>oe,Yd:()=>$,Ub:()=>V,Am:()=>z});var le,Z=[],oe=(()=>{return(B=oe||(oe={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",oe;var B})(),ge={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Q=oe.INFO,ae=((le={})[oe.DEBUG]="log",le[oe.VERBOSE]="log",le[oe.INFO]="info",le[oe.WARN]="warn",le[oe.ERROR]="error",le),J=function(B,Y){for(var we=[],Ie=2;Ie<arguments.length;Ie++)we[Ie-2]=arguments[Ie];if(!(Y<B.logLevel)){var _e=(new Date).toISOString(),Me=ae[Y];if(!Me)throw new Error("Attempted to log a message with an invalid logType (value: "+Y+")");console[Me].apply(console,c(["["+_e+"]  "+B.name+":"],we))}},$=function(){function B(Y){this.name=Y,this._logLevel=Q,this._logHandler=J,this._userLogHandler=null,Z.push(this)}return Object.defineProperty(B.prototype,"logLevel",{get:function(){return this._logLevel},set:function(Y){if(!(Y in oe))throw new TypeError('Invalid value "'+Y+'" assigned to `logLevel`');this._logLevel=Y},enumerable:!1,configurable:!0}),B.prototype.setLogLevel=function(Y){this._logLevel="string"==typeof Y?ge[Y]:Y},Object.defineProperty(B.prototype,"logHandler",{get:function(){return this._logHandler},set:function(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(Y){this._userLogHandler=Y},enumerable:!1,configurable:!0}),B.prototype.debug=function(){for(var Y=[],we=0;we<arguments.length;we++)Y[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,c([this,oe.DEBUG],Y)),this._logHandler.apply(this,c([this,oe.DEBUG],Y))},B.prototype.log=function(){for(var Y=[],we=0;we<arguments.length;we++)Y[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,c([this,oe.VERBOSE],Y)),this._logHandler.apply(this,c([this,oe.VERBOSE],Y))},B.prototype.info=function(){for(var Y=[],we=0;we<arguments.length;we++)Y[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,c([this,oe.INFO],Y)),this._logHandler.apply(this,c([this,oe.INFO],Y))},B.prototype.warn=function(){for(var Y=[],we=0;we<arguments.length;we++)Y[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,c([this,oe.WARN],Y)),this._logHandler.apply(this,c([this,oe.WARN],Y))},B.prototype.error=function(){for(var Y=[],we=0;we<arguments.length;we++)Y[we]=arguments[we];this._userLogHandler&&this._userLogHandler.apply(this,c([this,oe.ERROR],Y)),this._logHandler.apply(this,c([this,oe.ERROR],Y))},B}();function V(B){Z.forEach(function(Y){Y.setLogLevel(B)})}function z(B,Y){for(var we=function(ie){var ue=null;Y&&Y.level&&(ue=ge[Y.level]),ie.userLogHandler=null===B?null:function(je,Le){for(var tt=[],St=2;St<arguments.length;St++)tt[St-2]=arguments[St];var ye=tt.map(function(At){if(null==At)return null;if("string"==typeof At)return At;if("number"==typeof At||"boolean"==typeof At)return At.toString();if(At instanceof Error)return At.message;try{return JSON.stringify(At)}catch(mt){return null}}).filter(function(At){return At}).join(" ");Le>=(null!=ue?ue:je.logLevel)&&B({level:oe[Le].toLowerCase(),message:ye,args:tt,type:je.name})}},Ie=0,_e=Z;Ie<_e.length;Ie++)we(_e[Ie])}},4685:(Ze,De,U)=>{"use strict";U.d(De,{BH:()=>we,LL:()=>Ue,ZR:()=>X,tV:()=>V,r3:()=>Os,Sg:()=>Ie,ne:()=>zo,vZ:()=>Zo,ZB:()=>B,pd:()=>oo,m9:()=>Jt,z$:()=>_e,jU:()=>ue,ru:()=>je,d:()=>tt,xb:()=>lr,w1:()=>St,hl:()=>he,uI:()=>Me,UG:()=>ie,b$:()=>Le,G6:()=>mt,Mn:()=>ye,xO:()=>Za,zd:()=>Gi});var c=U(4762),ge=function(G){for(var H=[],ne=0,de=0;de<G.length;de++){var ee=G.charCodeAt(de);ee<128?H[ne++]=ee:ee<2048?(H[ne++]=ee>>6|192,H[ne++]=63&ee|128):55296==(64512&ee)&&de+1<G.length&&56320==(64512&G.charCodeAt(de+1))?(ee=65536+((1023&ee)<<10)+(1023&G.charCodeAt(++de)),H[ne++]=ee>>18|240,H[ne++]=ee>>12&63|128,H[ne++]=ee>>6&63|128,H[ne++]=63&ee|128):(H[ne++]=ee>>12|224,H[ne++]=ee>>6&63|128,H[ne++]=63&ee|128)}return H},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(G,H){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ne=H?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[],ee=0;ee<G.length;ee+=3){var ke=G[ee],We=ee+1<G.length,Vt=We?G[ee+1]:0,Ht=ee+2<G.length,Nt=Ht?G[ee+2]:0,Nr=(15&Vt)<<2|Nt>>6,Fs=63&Nt;Ht||(Fs=64,We||(Nr=64)),de.push(ne[ke>>2],ne[(3&ke)<<4|Vt>>4],ne[Nr],ne[Fs])}return de.join("")},encodeString:function(G,H){return this.HAS_NATIVE_SUPPORT&&!H?btoa(G):this.encodeByteArray(ge(G),H)},decodeString:function(G,H){return this.HAS_NATIVE_SUPPORT&&!H?atob(G):function(G){for(var H=[],ne=0,de=0;ne<G.length;){var ee=G[ne++];if(ee<128)H[de++]=String.fromCharCode(ee);else if(ee>191&&ee<224){var ke=G[ne++];H[de++]=String.fromCharCode((31&ee)<<6|63&ke)}else if(ee>239&&ee<365){var Ht=((7&ee)<<18|(63&(ke=G[ne++]))<<12|(63&(We=G[ne++]))<<6|63&G[ne++])-65536;H[de++]=String.fromCharCode(55296+(Ht>>10)),H[de++]=String.fromCharCode(56320+(1023&Ht))}else{ke=G[ne++];var We=G[ne++];H[de++]=String.fromCharCode((15&ee)<<12|(63&ke)<<6|63&We)}}return H.join("")}(this.decodeStringToByteArray(G,H))},decodeStringToByteArray:function(G,H){this.init_();for(var ne=H?this.charToByteMapWebSafe_:this.charToByteMap_,de=[],ee=0;ee<G.length;){var ke=ne[G.charAt(ee++)],Vt=ee<G.length?ne[G.charAt(ee)]:0,Nt=++ee<G.length?ne[G.charAt(ee)]:64,Ar=++ee<G.length?ne[G.charAt(ee)]:64;if(++ee,null==ke||null==Vt||null==Nt||null==Ar)throw Error();de.push(ke<<2|Vt>>4),64!==Nt&&(de.push(Vt<<4&240|Nt>>2),64!==Ar&&de.push(Nt<<6&192|Ar))}return de},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}},$=function(G){return function(G){var H=ge(G);return ae.encodeByteArray(H,!0)}(G).replace(/\./g,"")},V=function(G){try{return ae.decodeString(G,!0)}catch(H){console.error("base64Decode failed: ",H)}return null};function B(G,H){if(!(H instanceof Object))return H;switch(H.constructor){case Date:return new Date(H.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return H}for(var de in H)!H.hasOwnProperty(de)||!Y(de)||(G[de]=B(G[de],H[de]));return G}function Y(G){return"__proto__"!==G}var we=function(){function G(){var H=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ne,de){H.resolve=ne,H.reject=de})}return G.prototype.wrapCallback=function(H){var ne=this;return function(de,ee){de?ne.reject(de):ne.resolve(ee),"function"==typeof H&&(ne.promise.catch(function(){}),1===H.length?H(de):H(de,ee))}},G}();function Ie(G,H){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var de=H||"demo-project",ee=G.iat||0,ke=G.sub||G.user_id;if(!ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var We=(0,c.pi)({iss:"https://securetoken.google.com/"+de,aud:de,iat:ee,exp:ee+3600,auth_time:ee,sub:ke,user_id:ke,firebase:{sign_in_provider:"custom",identities:{}}},G);return[$(JSON.stringify({alg:"none",type:"JWT"})),$(JSON.stringify(We)),""].join(".")}function _e(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Me(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function ie(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(G){return!1}}function ue(){return"object"==typeof self&&self.self===self}function je(){var G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Le(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tt(){return _e().indexOf("Electron/")>=0}function St(){var G=_e();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function ye(){return _e().indexOf("MSAppHost/")>=0}function mt(){return!ie()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){return"indexedDB"in self&&null!=indexedDB}var X=function(G){function H(ne,de,ee){var ke=G.call(this,de)||this;return ke.code=ne,ke.customData=ee,ke.name="FirebaseError",Object.setPrototypeOf(ke,H.prototype),Error.captureStackTrace&&Error.captureStackTrace(ke,Ue.prototype.create),ke}return(0,c.ZT)(H,G),H}(Error),Ue=function(){function G(H,ne,de){this.service=H,this.serviceName=ne,this.errors=de}return G.prototype.create=function(H){for(var ne=[],de=1;de<arguments.length;de++)ne[de-1]=arguments[de];var ee=ne[0]||{},ke=this.service+"/"+H,We=this.errors[H],Vt=We?ot(We,ee):"Error",Ht=this.serviceName+": "+Vt+" ("+ke+").",Nt=new X(ke,Ht,ee);return Nt},G}();function ot(G,H){return G.replace(Kt,function(ne,de){var ee=H[de];return null!=ee?String(ee):"<"+de+"?>"})}var Kt=/\{\$([^}]+)}/g;function Os(G,H){return Object.prototype.hasOwnProperty.call(G,H)}function lr(G){for(var H in G)if(Object.prototype.hasOwnProperty.call(G,H))return!1;return!0}function Zo(G,H){if(G===H)return!0;for(var ne=Object.keys(G),de=Object.keys(H),ee=0,ke=ne;ee<ke.length;ee++){if(!de.includes(We=ke[ee]))return!1;var Vt=G[We],Ht=H[We];if(Ga(Vt)&&Ga(Ht)){if(!Zo(Vt,Ht))return!1}else if(Vt!==Ht)return!1}for(var Nt=0,En=de;Nt<En.length;Nt++){var We;if(!ne.includes(We=En[Nt]))return!1}return!0}function Ga(G){return null!==G&&"object"==typeof G}function Za(G){for(var H=[],ne=function(Ht,Nt){Array.isArray(Nt)?Nt.forEach(function(En){H.push(encodeURIComponent(Ht)+"="+encodeURIComponent(En))}):H.push(encodeURIComponent(Ht)+"="+encodeURIComponent(Nt))},de=0,ee=Object.entries(G);de<ee.length;de++){var ke=ee[de];ne(ke[0],ke[1])}return H.length?"&"+H.join("&"):""}function Gi(G){var H={};return G.replace(/^\?/,"").split("&").forEach(function(de){if(de){var ee=de.split("="),We=ee[1];H[decodeURIComponent(ee[0])]=decodeURIComponent(We)}}),H}function oo(G){var H=G.indexOf("?");if(!H)return"";var ne=G.indexOf("#",H);return G.substring(H,ne>0?ne:void 0)}function zo(G,H){var ne=new Je(G,H);return ne.subscribe.bind(ne)}!function(){function G(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var H=1;H<this.blockSize;++H)this.pad_[H]=0;this.reset()}G.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},G.prototype.compress_=function(H,ne){ne||(ne=0);var de=this.W_;if("string"==typeof H)for(var ee=0;ee<16;ee++)de[ee]=H.charCodeAt(ne)<<24|H.charCodeAt(ne+1)<<16|H.charCodeAt(ne+2)<<8|H.charCodeAt(ne+3),ne+=4;else for(ee=0;ee<16;ee++)de[ee]=H[ne]<<24|H[ne+1]<<16|H[ne+2]<<8|H[ne+3],ne+=4;for(ee=16;ee<80;ee++)de[ee]=4294967295&((ke=de[ee-3]^de[ee-8]^de[ee-14]^de[ee-16])<<1|ke>>>31);var Ar,Nr,We=this.chain_[0],Vt=this.chain_[1],Ht=this.chain_[2],Nt=this.chain_[3],En=this.chain_[4];for(ee=0;ee<80;ee++){ee<40?ee<20?(Ar=Nt^Vt&(Ht^Nt),Nr=1518500249):(Ar=Vt^Ht^Nt,Nr=1859775393):ee<60?(Ar=Vt&Ht|Nt&(Vt|Ht),Nr=2400959708):(Ar=Vt^Ht^Nt,Nr=3395469782);var ke=(We<<5|We>>>27)+Ar+En+Nr+de[ee]&4294967295;En=Nt,Nt=Ht,Ht=4294967295&(Vt<<30|Vt>>>2),Vt=We,We=ke}this.chain_[0]=this.chain_[0]+We&4294967295,this.chain_[1]=this.chain_[1]+Vt&4294967295,this.chain_[2]=this.chain_[2]+Ht&4294967295,this.chain_[3]=this.chain_[3]+Nt&4294967295,this.chain_[4]=this.chain_[4]+En&4294967295},G.prototype.update=function(H,ne){if(null!=H){void 0===ne&&(ne=H.length);for(var de=ne-this.blockSize,ee=0,ke=this.buf_,We=this.inbuf_;ee<ne;){if(0===We)for(;ee<=de;)this.compress_(H,ee),ee+=this.blockSize;if("string"==typeof H){for(;ee<ne;)if(ke[We]=H.charCodeAt(ee),++ee,++We===this.blockSize){this.compress_(ke),We=0;break}}else for(;ee<ne;)if(ke[We]=H[ee],++ee,++We===this.blockSize){this.compress_(ke),We=0;break}}this.inbuf_=We,this.total_+=ne}},G.prototype.digest=function(){var H=[],ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ne,ne/=256;this.compress_(this.buf_);var ee=0;for(de=0;de<5;de++)for(var ke=24;ke>=0;ke-=8)H[ee]=this.chain_[de]>>ke&255,++ee;return H}}();var Je=function(){function G(H,ne){var de=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(function(){H(de)}).catch(function(ee){de.error(ee)})}return G.prototype.next=function(H){this.forEachObserver(function(ne){ne.next(H)})},G.prototype.error=function(H){this.forEachObserver(function(ne){ne.error(H)}),this.close(H)},G.prototype.complete=function(){this.forEachObserver(function(H){H.complete()}),this.close()},G.prototype.subscribe=function(H,ne,de){var ke,ee=this;if(void 0===H&&void 0===ne&&void 0===de)throw new Error("Missing Observer.");void 0===(ke=function(G,H){if("object"!=typeof G||null===G)return!1;for(var ne=0,de=["next","error","complete"];ne<de.length;ne++){var ee=de[ne];if(ee in G&&"function"==typeof G[ee])return!0}return!1}(H)?H:{next:H,error:ne,complete:de}).next&&(ke.next=Gn),void 0===ke.error&&(ke.error=Gn),void 0===ke.complete&&(ke.complete=Gn);var We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ee.finalError?ke.error(ee.finalError):ke.complete()}catch(Vt){}}),this.observers.push(ke),We},G.prototype.unsubscribeOne=function(H){void 0===this.observers||void 0===this.observers[H]||(delete this.observers[H],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},G.prototype.forEachObserver=function(H){if(!this.finalized)for(var ne=0;ne<this.observers.length;ne++)this.sendOne(ne,H)},G.prototype.sendOne=function(H,ne){var de=this;this.task.then(function(){if(void 0!==de.observers&&void 0!==de.observers[H])try{ne(de.observers[H])}catch(ee){"undefined"!=typeof console&&console.error&&console.error(ee)}})},G.prototype.close=function(H){var ne=this;this.finalized||(this.finalized=!0,void 0!==H&&(this.finalError=H),this.task.then(function(){ne.observers=void 0,ne.onNoObservers=void 0}))},G}();function Gn(){}function Jt(G){return G&&G._delegate?G._delegate:G}},6300:(Ze,De,U)=>{"use strict";U.r(De);var c=U(8239),le=U(4486),Z=U(4685),oe=U(5452),ge=U(4762),Q=U(300),ae=U(6034);const Ie=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Me=new Z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ue=new Q.Yd("@firebase/auth");function je(T,...y){ue.logLevel<=Q.in.ERROR&&ue.error(`Auth (${oe.SDK_VERSION}): ${T}`,...y)}function Le(T,...y){throw St(T,...y)}function tt(T,...y){return St(T,...y)}function St(T,...y){if("string"!=typeof T){const w=y[0],D=[...y.slice(1)];return D[0]&&(D[0].appName=T.name),T._errorFactory.create(w,...D)}return Me.create(T,...y)}function ye(T,y,...w){if(!T)throw St(y,...w)}function At(T){const y="INTERNAL ASSERTION FAILED: "+T;throw je(y),new Error(y)}function mt(T,y){T||At(y)}const he=new Map;function se(T){mt(T instanceof Function,"Expected a class definition");let y=he.get(T);return y?(mt(y instanceof T,"Instance stored in cache mismatched with class"),y):(y=new T,he.set(T,y),y)}function fe(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.href)||""}function X(){return"http:"===Ue()||"https:"===Ue()}function Ue(){var T;return"undefined"!=typeof self&&(null===(T=self.location)||void 0===T?void 0:T.protocol)||null}class Xe{constructor(y,w){this.shortDelay=y,this.longDelay=w,mt(w>y,"Short delay should be less than long delay!"),this.isMobile=(0,Z.uI)()||(0,Z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(X()||(0,Z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function dt(T,y){mt(T.emulator,"Emulator should always be set here");const{url:w}=T.emulator;return y?`${w}${y.startsWith("/")?y.slice(1):y}`:w}class ut{static initialize(y,w,D){this.fetchImpl=y,w&&(this.headersImpl=w),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Nn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},ks=new Xe(3e4,6e4);function an(T,y){return T.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:T.tenantId}):y}function bt(T,y,w,D){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(T,y,w,D,R={}){return Mn(T,R,()=>{let O={},K={};D&&("GET"===y?K=D:O={body:JSON.stringify(D)});const Ee=(0,Z.xO)(Object.assign({key:T.config.apiKey},K)).slice(1),Ve=new(ut.headers());return Ve.set("Content-Type","application/json"),Ve.set("X-Client-Version",T._getSdkClientVersion()),T.languageCode&&Ve.set("X-Firebase-Locale",T.languageCode),ut.fetch()(Ga(T,T.config.apiHost,w,Ee),Object.assign({method:y,headers:Ve,referrerPolicy:"no-referrer"},O))})})).apply(this,arguments)}function Mn(T,y,w){return lr.apply(this,arguments)}function lr(){return(lr=(0,c.Z)(function*(T,y,w){T._canInitEmulator=!1;const D=Object.assign(Object.assign({},Nn),y);try{const R=new Za(T),O=yield Promise.race([w(),R.promise]);R.clearNetworkTimeout();const K=yield O.json();if("needConfirmation"in K)throw Gi(T,"account-exists-with-different-credential",K);if(O.ok&&!("errorMessage"in K))return K;{const Ve=(O.ok?K.errorMessage:K.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw Gi(T,"credential-already-in-use",K);if("EMAIL_EXISTS"===Ve)throw Gi(T,"email-already-in-use",K);Le(T,D[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-"))}}catch(R){if(R instanceof Z.ZR)throw R;Le(T,"network-request-failed")}})).apply(this,arguments)}function mr(T,y,w,D){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(T,y,w,D,R={}){const O=yield bt(T,y,w,D,R);return"mfaPendingCredential"in O&&Le(T,"multi-factor-auth-required",{serverResponse:O}),O})).apply(this,arguments)}function Ga(T,y,w,D){const R=`${y}${w}?${D}`;return T.config.emulator?dt(T.config,R):`${T.config.apiScheme}://${R}`}class Za{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((w,D)=>{this.timer=setTimeout(()=>D(tt(this.auth,"timeout")),ks.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gi(T,y,w){const D={appName:T.name};w.email&&(D.email=w.email),w.phoneNumber&&(D.phoneNumber=w.phoneNumber);const R=tt(T,y,D);return R.customData._tokenResponse=w,R}function qo(){return(qo=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function zo(T,y){return Je.apply(this,arguments)}function Je(){return(Je=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ur(T,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function Gn(T){if(T)try{const y=new Date(Number(T));if(!isNaN(y.getTime()))return y.toUTCString()}catch(y){}}function Lt(){return(Lt=(0,c.Z)(function*(T,y=!1){const w=(0,Z.m9)(T),D=yield w.getIdToken(y),R=_r(D);ye(R&&R.exp&&R.auth_time&&R.iat,w.auth,"internal-error");const O="object"==typeof R.firebase?R.firebase:void 0,K=null==O?void 0:O.sign_in_provider;return{claims:R,token:D,authTime:Gn(Ot(R.auth_time)),issuedAtTime:Gn(Ot(R.iat)),expirationTime:Gn(Ot(R.exp)),signInProvider:K||null,signInSecondFactor:(null==O?void 0:O.sign_in_second_factor)||null}})).apply(this,arguments)}function Ot(T){return 1e3*Number(T)}function _r(T){const[y,w,D]=T.split(".");if(void 0===y||void 0===w||void 0===D)return je("JWT malformed, contained fewer than 3 sections"),null;try{const R=(0,Z.tV)(w);return R?JSON.parse(R):(je("Failed to decode base64 JWT payload"),null)}catch(R){return je("Caught error parsing JWT payload as JSON",R),null}}function Fe(T,y){return at.apply(this,arguments)}function at(){return(at=(0,c.Z)(function*(T,y,w=!1){if(w)return y;try{return yield y}catch(D){throw D instanceof Z.ZR&&Mc(D)&&T.auth.currentUser===T&&(yield T.auth.signOut()),D}})).apply(this,arguments)}function Mc({code:T}){return"auth/user-disabled"===T||"auth/user-token-expired"===T}class qa{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var w;if(y){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const R=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,R)}}schedule(y=!1){var w=this;if(!this.isRunning)return;const D=this.getInterval(y);this.timerId=setTimeout((0,c.Z)(function*(){yield w.iteration()}),D)}iteration(){var y=this;return(0,c.Z)(function*(){try{yield y.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&y.schedule(!0))}y.schedule()})()}}class Ai{constructor(y,w){this.createdAt=y,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gn(this.lastLoginAt),this.creationTime=Gn(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zt(T){return di.apply(this,arguments)}function di(){return(di=(0,c.Z)(function*(T){var y;const w=T.auth,D=yield T.getIdToken(),R=yield Fe(T,ur(w,{idToken:D}));ye(null==R?void 0:R.users.length,w,"internal-error");const O=R.users[0];T._notifyReloadListener(O);const K=(null===(y=O.providerUserInfo)||void 0===y?void 0:y.length)?H(O.providerUserInfo):[],Ee=G(T.providerData,K),et=!!T.isAnonymous&&!(T.email&&O.passwordHash||(null==Ee?void 0:Ee.length)),rt={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:Ee,metadata:new Ai(O.createdAt,O.lastLoginAt),isAnonymous:et};Object.assign(T,rt)})).apply(this,arguments)}function Jt(){return(Jt=(0,c.Z)(function*(T){const y=(0,Z.m9)(T);yield zt(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function G(T,y){return[...T.filter(D=>!y.some(R=>R.providerId===D.providerId)),...y]}function H(T){return T.map(y=>{var{providerId:w}=y,D=(0,ge._T)(y,["providerId"]);return{providerId:w,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function de(){return(de=(0,c.Z)(function*(T,y){const w=yield Mn(T,{},()=>{const D=(0,Z.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:R,apiKey:O}=T.config,K=Ga(T,R,"/v1/token",`key=${O}`);return ut.fetch()(K,{method:"POST",headers:{"X-Client-Version":T._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:D})});return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class ee{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){ye(y.idToken,"internal-error"),ye(void 0!==y.idToken,"internal-error"),ye(void 0!==y.refreshToken,"internal-error");const w="expiresIn"in y&&void 0!==y.expiresIn?Number(y.expiresIn):function(T){const y=_r(T);return ye(y,"internal-error"),ye(void 0!==y.exp,"internal-error"),ye(void 0!==y.iat,"internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,w)}getToken(y,w=!1){var D=this;return(0,c.Z)(function*(){return ye(!D.accessToken||D.refreshToken,y,"user-token-expired"),w||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(y,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,w){var D=this;return(0,c.Z)(function*(){const{accessToken:R,refreshToken:O,expiresIn:K}=yield function(T,y){return de.apply(this,arguments)}(y,w);D.updateTokensAndExpiration(R,O,Number(K))})()}updateTokensAndExpiration(y,w,D){this.refreshToken=w||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(y,w){const{refreshToken:D,accessToken:R,expirationTime:O}=w,K=new ee;return D&&(ye("string"==typeof D,"internal-error",{appName:y}),K.refreshToken=D),R&&(ye("string"==typeof R,"internal-error",{appName:y}),K.accessToken=R),O&&(ye("number"==typeof O,"internal-error",{appName:y}),K.expirationTime=O),K}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new ee,this.toJSON())}_performRefresh(){return At("not implemented")}}function ke(T,y){ye("string"==typeof T||void 0===T,"internal-error",{appName:y})}class We{constructor(y){var{uid:w,auth:D,stsTokenManager:R}=y,O=(0,ge._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new qa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=D,this.stsTokenManager=R,this.accessToken=R.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.metadata=new Ai(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(y){var w=this;return(0,c.Z)(function*(){const D=yield Fe(w,w.stsTokenManager.getToken(w.auth,y));return ye(D,w.auth,"internal-error"),w.accessToken!==D&&(w.accessToken=D,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),D})()}getIdTokenResult(y){return function(T){return Lt.apply(this,arguments)}(this,y)}reload(){return function(T){return Jt.apply(this,arguments)}(this)}_assign(y){this!==y&&(ye(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(w=>Object.assign({},w)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new We(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,w=!1){var D=this;return(0,c.Z)(function*(){let R=!1;y.idToken&&y.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(y),R=!0),w&&(yield zt(D)),yield D.auth._persistUserIfCurrent(D),R&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var y=this;return(0,c.Z)(function*(){const w=yield y.getIdToken();return yield Fe(y,function(T,y){return qo.apply(this,arguments)}(y.auth,{idToken:w})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,w){var D,R,O,K,Ee,Ve,$e,et;const rt=null!==(D=w.displayName)&&void 0!==D?D:void 0,Bn=null!==(R=w.email)&&void 0!==R?R:void 0,Es=null!==(O=w.phoneNumber)&&void 0!==O?O:void 0,rn=null!==(K=w.photoURL)&&void 0!==K?K:void 0,it=null!==(Ee=w.tenantId)&&void 0!==Ee?Ee:void 0,en=null!==(Ve=w._redirectEventId)&&void 0!==Ve?Ve:void 0,ep=null!==($e=w.createdAt)&&void 0!==$e?$e:void 0,On=null!==(et=w.lastLoginAt)&&void 0!==et?et:void 0,{uid:Cl,emailVerified:Fi,isAnonymous:fn,providerData:wd,stsTokenManager:C0}=w;ye(Cl&&C0,y,"internal-error");const T_=ee.fromJSON(this.name,C0);ye("string"==typeof Cl,y,"internal-error"),ke(rt,y.name),ke(Bn,y.name),ye("boolean"==typeof Fi,y,"internal-error"),ye("boolean"==typeof fn,y,"internal-error"),ke(Es,y.name),ke(rn,y.name),ke(it,y.name),ke(en,y.name),ke(ep,y.name),ke(On,y.name);const Wn=new We({uid:Cl,auth:y,email:Bn,emailVerified:Fi,displayName:rt,isAnonymous:fn,photoURL:rn,phoneNumber:Es,tenantId:it,stsTokenManager:T_,createdAt:ep,lastLoginAt:On});return wd&&Array.isArray(wd)&&(Wn.providerData=wd.map(Li=>Object.assign({},Li))),en&&(Wn._redirectEventId=en),Wn}static _fromIdTokenResponse(y,w,D=!1){return(0,c.Z)(function*(){const R=new ee;R.updateFromServerResponse(w);const O=new We({uid:w.localId,auth:y,stsTokenManager:R,isAnonymous:D});return yield zt(O),O})()}}const Ht=(()=>{class T{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(w,D){var R=this;return(0,c.Z)(function*(){R.storage[w]=D})()}_get(w){var D=this;return(0,c.Z)(function*(){const R=D.storage[w];return void 0===R?null:R})()}_remove(w){var D=this;return(0,c.Z)(function*(){delete D.storage[w]})()}_addListener(w,D){}_removeListener(w,D){}}return T.type="NONE",T})();function Nt(T,y,w){return`firebase:${T}:${y}:${w}`}class En{constructor(y,w,D){this.persistence=y,this.auth=w,this.userKey=D;const{config:R,name:O}=this.auth;this.fullUserKey=Nt(this.userKey,R.apiKey,O),this.fullPersistenceKey=Nt("persistence",R.apiKey,O),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,c.Z)(function*(){const w=yield y.persistence._get(y.fullUserKey);return w?We._fromJSON(y.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var w=this;return(0,c.Z)(function*(){if(w.persistence===y)return;const D=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=y,D?w.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,w,D="authUser"){return(0,c.Z)(function*(){if(!w.length)return new En(se(Ht),y,D);const R=(yield Promise.all(w.map(function(){var $e=(0,c.Z)(function*(et){if(yield et._isAvailable())return et});return function(et){return $e.apply(this,arguments)}}()))).filter($e=>$e);let O=R[0]||se(Ht);const K=Nt(D,y.config.apiKey,y.name);let Ee=null;for(const $e of w)try{const et=yield $e._get(K);if(et){const rt=We._fromJSON(y,et);$e!==O&&(Ee=rt),O=$e;break}}catch(et){}const Ve=R.filter($e=>$e._shouldAllowMigration);return O._shouldAllowMigration&&Ve.length?(O=Ve[0],Ee&&(yield O._set(K,Ee.toJSON())),yield Promise.all(w.map(function(){var $e=(0,c.Z)(function*(et){if(et!==O)try{yield et._remove(K)}catch(rt){}});return function(et){return $e.apply(this,arguments)}}())),new En(O,y,D)):new En(O,y,D)})()}}function Ar(T){const y=T.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(zh(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(Nr(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(Rc(y))return"Blackberry";if(Wh(y))return"Webos";if(Fs(y))return"Safari";if((y.includes("chrome/")||za(y))&&!y.includes("edge/"))return"Chrome";if(Wa(y))return"Android";{const D=T.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==D?void 0:D.length))return D[1]}return"Other"}function Nr(T=(0,Z.z$)()){return/firefox\//i.test(T)}function Fs(T=(0,Z.z$)()){const y=T.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function za(T=(0,Z.z$)()){return/crios\//i.test(T)}function zh(T=(0,Z.z$)()){return/iemobile/i.test(T)}function Wa(T=(0,Z.z$)()){return/android/i.test(T)}function Rc(T=(0,Z.z$)()){return/blackberry/i.test(T)}function Wh(T=(0,Z.z$)()){return/webos/i.test(T)}function Cn(T=(0,Z.z$)()){return/iphone|ipad|ipod/i.test(T)}function Tm(T=(0,Z.z$)()){return Cn(T)||Wa(T)||Wh(T)||Rc(T)||/windows phone/i.test(T)||zh(T)}function He(T,y=[]){let w;switch(T){case"Browser":w=Ar((0,Z.z$)());break;case"Worker":w=`${Ar((0,Z.z$)())}-${T}`;break;default:w=T}const D=y.length?y.join(","):"FirebaseCore-web";return`${w}/JsCore/${oe.SDK_VERSION}/${D}`}class Rt{constructor(y,w){this.app=y,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wr(this),this.idTokenSubscription=new Wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Me,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(y,w){var D=this;return w&&(this._popupRedirectResolver=se(w)),this._initializationPromise=this.queue((0,c.Z)(function*(){var R;D._deleted||(D.persistenceManager=yield En.create(D,y),!D._deleted&&((null===(R=D._popupRedirectResolver)||void 0===R?void 0:R._shouldInitProactively)&&(yield D._popupRedirectResolver._initialize(D)),yield D.initializeCurrentUser(w),!D._deleted&&(D._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,c.Z)(function*(){if(y._deleted)return;const w=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||w){if(y.currentUser&&w&&y.currentUser.uid===w.uid)return y._currentUser._assign(w),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(w)}})()}initializeCurrentUser(y){var w=this;return(0,c.Z)(function*(){var D;let R=yield w.assertedPersistence.getCurrentUser();if(y&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const O=null===(D=w.redirectUser)||void 0===D?void 0:D._redirectEventId,K=null==R?void 0:R._redirectEventId,Ee=yield w.tryRedirectSignIn(y);(!O||O===K)&&(null==Ee?void 0:Ee.user)&&(R=Ee.user)}return R?R._redirectEventId?(ye(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===R._redirectEventId?w.directlySetCurrentUser(R):w.reloadAndSetCurrentUserOrClear(R)):w.reloadAndSetCurrentUserOrClear(R):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(y){var w=this;return(0,c.Z)(function*(){let D=null;try{D=yield w._popupRedirectResolver._completeRedirectFn(w,y,!0)}catch(R){yield w._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(y){var w=this;return(0,c.Z)(function*(){try{yield zt(y)}catch(D){if("auth/network-request-failed"!==D.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const T=navigator;return T.languages&&T.languages[0]||T.language||null}()}_delete(){var y=this;return(0,c.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var w=this;return(0,c.Z)(function*(){const D=y?(0,Z.m9)(y):null;return D&&ye(D.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(D&&D._clone(w))})()}_updateCurrentUser(y){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return y&&ye(w.tenantId===y.tenantId,w,"tenant-id-mismatch"),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(y),w.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,c.Z)(function*(){return(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null)})()}setPersistence(y){var w=this;return this.queue((0,c.Z)(function*(){yield w.assertedPersistence.setPersistence(se(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new Z.LL("auth","Firebase",y())}onAuthStateChanged(y,w,D){return this.registerStateListener(this.authStateSubscription,y,w,D)}onIdTokenChanged(y,w,D){return this.registerStateListener(this.idTokenSubscription,y,w,D)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,w){var D=this;return(0,c.Z)(function*(){const R=yield D.getOrInitRedirectPersistenceManager(w);return null===y?R.removeCurrentUser():R.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var w=this;return(0,c.Z)(function*(){if(!w.redirectPersistenceManager){const D=y&&se(y)||w._popupRedirectResolver;ye(D,w,"argument-error"),w.redirectPersistenceManager=yield En.create(w,[se(D._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(y){var w=this;return(0,c.Z)(function*(){var D,R;return w._isInitialized&&(yield w.queue((0,c.Z)(function*(){}))),(null===(D=w._currentUser)||void 0===D?void 0:D._redirectEventId)===y?w._currentUser:(null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId)===y?w.redirectUser:null})()}_persistUserIfCurrent(y){var w=this;return(0,c.Z)(function*(){if(y===w.currentUser)return w.queue((0,c.Z)(function*(){return w.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(w=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,w,D,R){if(this._deleted)return()=>{};const O="function"==typeof w?w:w.next.bind(w),K=this._isInitialized?Promise.resolve():this._initializationPromise;return ye(K,this,"internal-error"),K.then(()=>O(this.currentUser)),"function"==typeof w?y.addObserver(w,D,R):y.addObserver(w)}directlySetCurrentUser(y){var w=this;return(0,c.Z)(function*(){w.currentUser&&w.currentUser!==y&&(w._currentUser._stopProactiveRefresh(),y&&w.isProactiveRefreshEnabled&&y._startProactiveRefresh()),w.currentUser=y,y?yield w.assertedPersistence.setCurrentUser(y):yield w.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=He(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function wt(T){return(0,Z.m9)(T)}class Wr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,Z.ne)(w=>this.observer=w)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Un(T){const y=T.indexOf(":");return y<0?"":T.substr(0,y+1)}function mn(T){if(!T)return null;const y=Number(T);return isNaN(y)?null:y}class zi{constructor(y,w){this.providerId=y,this.signInMethod=w}toJSON(){return At("not implemented")}_getIdTokenResponse(y){return At("not implemented")}_linkToIdToken(y,w){return At("not implemented")}_getReauthenticationResolver(y){return At("not implemented")}}function yt(T,y){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:resetPassword",an(T,y))})).apply(this,arguments)}function ao(T,y){return ru.apply(this,arguments)}function ru(){return(ru=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function iu(T,y){return cr.apply(this,arguments)}function cr(){return(cr=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:update",an(T,y))})).apply(this,arguments)}function lo(){return(lo=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithPassword",an(T,y))})).apply(this,arguments)}function Yr(T,y){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:sendOobCode",an(T,y))})).apply(this,arguments)}function Dm(T,y){return Yh.apply(this,arguments)}function Yh(){return(Yh=(0,c.Z)(function*(T,y){return Yr(T,y)})).apply(this,arguments)}function Rn(T,y){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(T,y){return Yr(T,y)})).apply(this,arguments)}function Ya(T,y){return uo.apply(this,arguments)}function uo(){return(uo=(0,c.Z)(function*(T,y){return Yr(T,y)})).apply(this,arguments)}function Us(T,y){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,c.Z)(function*(T,y){return Yr(T,y)})).apply(this,arguments)}function Wi(){return(Wi=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithEmailLink",an(T,y))})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithEmailLink",an(T,y))})).apply(this,arguments)}class co extends zi{constructor(y,w,D,R=null){super("password",D),this._email=y,this._password=w,this._tenantId=R}static _fromEmailAndPassword(y,w){return new co(y,w,"password")}static _fromEmailAndCode(y,w,D=null){return new co(y,w,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y;if((null==w?void 0:w.email)&&(null==w?void 0:w.password)){if("password"===w.signInMethod)return this._fromEmailAndPassword(w.email,w.password);if("emailLink"===w.signInMethod)return this._fromEmailAndCode(w.email,w.password,w.tenantId)}return null}_getIdTokenResponse(y){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return function(T,y){return lo.apply(this,arguments)}(y,{returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(T,y){return Wi.apply(this,arguments)}(y,{email:w._email,oobCode:w._password});default:Le(y,"internal-error")}})()}_linkToIdToken(y,w){var D=this;return(0,c.Z)(function*(){switch(D.signInMethod){case"password":return ao(y,{idToken:w,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function(T,y){return ou.apply(this,arguments)}(y,{idToken:w,email:D._email,oobCode:D._password});default:Le(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function _n(T,y){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithIdp",an(T,y))})).apply(this,arguments)}class Bs extends zi{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const w=new Bs(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(w.idToken=y.idToken),y.accessToken&&(w.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(w.nonce=y.nonce),y.pendingToken&&(w.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(w.accessToken=y.oauthToken,w.secret=y.oauthTokenSecret):Le("argument-error"),w}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:R}=w,O=(0,ge._T)(w,["providerId","signInMethod"]);if(!D||!R)return null;const K=new Bs(D,R);return Object.assign(K,O),K}_getIdTokenResponse(y){return _n(y,this.buildRequest())}_linkToIdToken(y,w){const D=this.buildRequest();return D.idToken=w,_n(y,D)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,_n(y,w)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const w={};this.idToken&&(w.id_token=this.idToken),this.accessToken&&(w.access_token=this.accessToken),this.secret&&(w.oauth_token_secret=this.secret),w.providerId=this.providerId,this.nonce&&!this.pendingToken&&(w.nonce=this.nonce),y.postBody=(0,Z.xO)(w)}return y}}function Hv(T,y){return Kh.apply(this,arguments)}function Kh(){return(Kh=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:sendVerificationCode",an(T,y))})).apply(this,arguments)}function Im(){return(Im=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithPhoneNumber",an(T,y))})).apply(this,arguments)}function Sm(){return(Sm=(0,c.Z)(function*(T,y){const w=yield mr(T,"POST","/v1/accounts:signInWithPhoneNumber",an(T,y));if(w.temporaryProof)throw Gi(T,"account-exists-with-different-credential",w);return w})).apply(this,arguments)}const $E={USER_NOT_FOUND:"user-not-found"};function Am(){return(Am=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithPhoneNumber",an(T,Object.assign(Object.assign({},y),{operation:"REAUTH"})),$E)})).apply(this,arguments)}class Ka extends zi{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,w){return new Ka({verificationId:y,verificationCode:w})}static _fromTokenResponse(y,w){return new Ka({phoneNumber:y,temporaryProof:w})}_getIdTokenResponse(y){return function(T,y){return Im.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,w){return function(T,y){return Sm.apply(this,arguments)}(y,Object.assign({idToken:w},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function(T,y){return Am.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:w,verificationId:D,verificationCode:R}=this.params;return y&&w?{temporaryProof:y,phoneNumber:w}:{sessionInfo:D,code:R}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:w,verificationCode:D,phoneNumber:R,temporaryProof:O}=y;return D||w||R||O?new Ka({verificationId:w,verificationCode:D,phoneNumber:R,temporaryProof:O}):null}}class xc{constructor(y){var w,D,R,O,K,Ee;const Ve=(0,Z.zd)((0,Z.pd)(y)),$e=null!==(w=Ve.apiKey)&&void 0!==w?w:null,et=null!==(D=Ve.oobCode)&&void 0!==D?D:null,rt=function(T){switch(T){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(R=Ve.mode)&&void 0!==R?R:null);ye($e&&et&&rt,"argument-error"),this.apiKey=$e,this.operation=rt,this.code=et,this.continueUrl=null!==(O=Ve.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(K=Ve.languageCode)&&void 0!==K?K:null,this.tenantId=null!==(Ee=Ve.tenantId)&&void 0!==Ee?Ee:null}static parseLink(y){const w=function(T){const y=(0,Z.zd)((0,Z.pd)(T)).link,w=y?(0,Z.zd)((0,Z.pd)(y)).deep_link_id:null,D=(0,Z.zd)((0,Z.pd)(T)).deep_link_id;return(D?(0,Z.zd)((0,Z.pd)(D)).link:null)||D||w||y||T}(y);try{return new xc(w)}catch(D){return null}}}let Nm=(()=>{class T{constructor(){this.providerId=T.PROVIDER_ID}static credential(w,D){return co._fromEmailAndPassword(w,D)}static credentialWithLink(w,D){const R=xc.parseLink(D);return ye(R,"argument-error"),co._fromEmailAndCode(w,R.code,R.tenantId)}}return T.PROVIDER_ID="password",T.EMAIL_PASSWORD_SIGN_IN_METHOD="password",T.EMAIL_LINK_SIGN_IN_METHOD="emailLink",T})();class ho{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Ko extends ho{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class js extends Ko{static credentialFromJSON(y){const w="string"==typeof y?JSON.parse(y):y;return ye("providerId"in w&&"signInMethod"in w,"argument-error"),Bs._fromParams(w)}credential(y){return this._credential(y)}_credential(y){return ye(y.idToken||y.accessToken,"argument-error"),Bs._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return js.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return js.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:w,oauthAccessToken:D,oauthTokenSecret:R,pendingToken:O,nonce:K,providerId:Ee}=y;if(!D&&!R&&!w&&!O||!Ee)return null;try{return new js(Ee)._credential({idToken:w,accessToken:D,rawNonce:K,pendingToken:O})}catch(Ve){return null}}}let $v=(()=>{class T extends Ko{constructor(){super("facebook.com")}static credential(w){return Bs._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.FACEBOOK_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return T.credential(w.oauthAccessToken)}catch(D){return null}}}return T.FACEBOOK_SIGN_IN_METHOD="facebook.com",T.PROVIDER_ID="facebook.com",T})(),Jh=(()=>{class T extends Ko{constructor(){super("google.com"),this.addScope("profile")}static credential(w,D){return Bs._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GOOGLE_SIGN_IN_METHOD,idToken:w,accessToken:D})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthIdToken:D,oauthAccessToken:R}=w;if(!D&&!R)return null;try{return T.credential(D,R)}catch(O){return null}}}return T.GOOGLE_SIGN_IN_METHOD="google.com",T.PROVIDER_ID="google.com",T})(),Qh=(()=>{class T extends Ko{constructor(){super("github.com")}static credential(w){return Bs._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.GITHUB_SIGN_IN_METHOD,accessToken:w})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w||!("oauthAccessToken"in w)||!w.oauthAccessToken)return null;try{return T.credential(w.oauthAccessToken)}catch(D){return null}}}return T.GITHUB_SIGN_IN_METHOD="github.com",T.PROVIDER_ID="github.com",T})();class Ja extends zi{constructor(y,w){super(y,y),this.pendingToken=w}_getIdTokenResponse(y){return _n(y,this.buildRequest())}_linkToIdToken(y,w){const D=this.buildRequest();return D.idToken=w,_n(y,D)}_getReauthenticationResolver(y){const w=this.buildRequest();return w.autoCreate=!1,_n(y,w)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const w="string"==typeof y?JSON.parse(y):y,{providerId:D,signInMethod:R,pendingToken:O}=w;return D&&R&&O&&D===R?new Ja(D,O):null}static _create(y,w){return new Ja(y,w)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Mm=(()=>{class T extends Ko{constructor(){super("twitter.com")}static credential(w,D){return Bs._fromParams({providerId:T.PROVIDER_ID,signInMethod:T.TWITTER_SIGN_IN_METHOD,oauthToken:w,oauthTokenSecret:D})}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{oauthAccessToken:D,oauthTokenSecret:R}=w;if(!D||!R)return null;try{return T.credential(D,R)}catch(O){return null}}}return T.TWITTER_SIGN_IN_METHOD="twitter.com",T.PROVIDER_ID="twitter.com",T})();function Rm(T,y){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signUp",an(T,y))})).apply(this,arguments)}class hi{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,w,D,R=!1){return(0,c.Z)(function*(){const O=yield We._fromIdTokenResponse(y,D,R),K=Xh(D);return new hi({user:O,providerId:K,_tokenResponse:D,operationType:w})})()}static _forOperation(y,w,D){return(0,c.Z)(function*(){yield y._updateTokensIfNecessary(D,!0);const R=Xh(D);return new hi({user:y,providerId:R,_tokenResponse:D,operationType:w})})()}}function Xh(T){return T.providerId?T.providerId:"phoneNumber"in T?"phone":null}function km(){return(km=(0,c.Z)(function*(T){var y;const w=wt(T);if(yield w._initializationPromise,null===(y=w.currentUser)||void 0===y?void 0:y.isAnonymous)return new hi({user:w.currentUser,providerId:null,operationType:"signIn"});const D=yield Rm(w,{returnSecureToken:!0}),R=yield hi._fromIdTokenResponse(w,"signIn",D,!0);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}class Kr extends Z.ZR{constructor(y,w,D,R){var O;super(w.code,w.message),this.operationType=D,this.user=R,this.name="FirebaseError",Object.setPrototypeOf(this,Kr.prototype),this.appName=y.name,this.code=w.code,this.tenantId=null!==(O=y.tenantId)&&void 0!==O?O:void 0,this.serverResponse=w.customData.serverResponse}static _fromErrorAndOperation(y,w,D,R){return new Kr(y,w,D,R)}}function Oc(T,y,w,D){return("reauthenticate"===y?w._getReauthenticationResolver(T):w._getIdTokenResponse(T)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Kr._fromErrorAndOperation(T,O,y,D):O})}function ef(T){return new Set(T.map(({providerId:y})=>y).filter(y=>!!y))}function tf(){return(tf=(0,c.Z)(function*(T,y){const w=(0,Z.m9)(T);yield ln(!0,w,y);const{providerUserInfo:D}=yield zo(w.auth,{idToken:yield w.getIdToken(),deleteProvider:[y]}),R=ef(D||[]);return w.providerData=w.providerData.filter(O=>R.has(O.providerId)),R.has("phone")||(w.phoneNumber=null),yield w.auth._persistUserIfCurrent(w),w})).apply(this,arguments)}function Fc(T,y){return nf.apply(this,arguments)}function nf(){return(nf=(0,c.Z)(function*(T,y,w=!1){const D=yield Fe(T,y._linkToIdToken(T.auth,yield T.getIdToken()),w);return hi._forOperation(T,"link",D)})).apply(this,arguments)}function ln(T,y,w){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(T,y,w){yield zt(y);const R=!1===T?"provider-already-linked":"no-such-provider";ye(ef(y.providerData).has(w)===T,y.auth,R)})).apply(this,arguments)}function Qo(T,y){return rf.apply(this,arguments)}function rf(){return(rf=(0,c.Z)(function*(T,y,w=!1){const{auth:D}=T,R="reauthenticate";try{const O=yield Fe(T,Oc(D,R,y,T),w);ye(O.idToken,D,"internal-error");const K=_r(O.idToken);ye(K,D,"internal-error");const{sub:Ee}=K;return ye(T.uid===Ee,D,"user-mismatch"),hi._forOperation(T,R,O)}catch(O){throw"auth/user-not-found"===(null==O?void 0:O.code)&&Le(D,"user-mismatch"),O}})).apply(this,arguments)}function dn(T,y){return sf.apply(this,arguments)}function sf(){return(sf=(0,c.Z)(function*(T,y,w=!1){const D="signIn",R=yield Oc(T,D,y),O=yield hi._fromIdTokenResponse(T,D,R);return w||(yield T._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Vc(T,y){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,c.Z)(function*(T,y){return dn(wt(T),y)})).apply(this,arguments)}function fi(T,y){return lu.apply(this,arguments)}function lu(){return(lu=(0,c.Z)(function*(T,y){const w=(0,Z.m9)(T);return yield ln(!1,w,y.providerId),Fc(w,y)})).apply(this,arguments)}function Uc(T,y){return fo.apply(this,arguments)}function fo(){return(fo=(0,c.Z)(function*(T,y){return Qo((0,Z.m9)(T),y)})).apply(this,arguments)}function pi(T,y){return of.apply(this,arguments)}function of(){return(of=(0,c.Z)(function*(T,y){return mr(T,"POST","/v1/accounts:signInWithCustomToken",an(T,y))})).apply(this,arguments)}function Xa(){return(Xa=(0,c.Z)(function*(T,y){const w=wt(T),D=yield pi(w,{token:y,returnSecureToken:!0}),R=yield hi._fromIdTokenResponse(w,"signIn",D);return yield w._updateCurrentUser(R.user),R})).apply(this,arguments)}class ys{constructor(y,w){this.factorId=y,this.uid=w.mfaEnrollmentId,this.enrollmentTime=new Date(w.enrolledAt).toUTCString(),this.displayName=w.displayName}static _fromServerResponse(y,w){return"phoneInfo"in w?Bc._fromServerResponse(y,w):Le(y,"internal-error")}}class Bc extends ys{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,w){return new Bc(w)}}function el(T,y,w){var D;ye((null===(D=w.url)||void 0===D?void 0:D.length)>0,T,"invalid-continue-uri"),ye(void 0===w.dynamicLinkDomain||w.dynamicLinkDomain.length>0,T,"invalid-dynamic-link-domain"),y.continueUrl=w.url,y.dynamicLinkDomain=w.dynamicLinkDomain,y.canHandleCodeInApp=w.handleCodeInApp,w.iOS&&(ye(w.iOS.bundleId.length>0,T,"missing-ios-bundle-id"),y.iosBundleId=w.iOS.bundleId),w.android&&(ye(w.android.packageName.length>0,T,"missing-android-pkg-name"),y.androidInstallApp=w.android.installApp,y.androidMinimumVersionCode=w.android.minimumVersion,y.androidPackageName=w.android.packageName)}function af(){return(af=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T),R={requestType:"PASSWORD_RESET",email:y};w&&el(D,R,w),yield Rn(D,R)})).apply(this,arguments)}function lf(){return(lf=(0,c.Z)(function*(T,y,w){yield yt((0,Z.m9)(T),{oobCode:y,newPassword:w})})).apply(this,arguments)}function uf(){return(uf=(0,c.Z)(function*(T,y){yield iu((0,Z.m9)(T),{oobCode:y})})).apply(this,arguments)}function Pm(T,y){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(T,y){const w=(0,Z.m9)(T),D=yield yt(w,{oobCode:y}),R=D.requestType;switch(ye(R,w,"internal-error"),R){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ye(D.newEmail,w,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ye(D.mfaInfo,w,"internal-error");default:ye(D.email,w,"internal-error")}let O=null;return D.mfaInfo&&(O=ys._fromServerResponse(wt(w),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:O},operation:R}})).apply(this,arguments)}function xt(){return(xt=(0,c.Z)(function*(T,y){const{data:w}=yield Pm((0,Z.m9)(T),y);return w.email})).apply(this,arguments)}function un(){return(un=(0,c.Z)(function*(T,y,w){const D=wt(T),R=yield Rm(D,{returnSecureToken:!0,email:y,password:w}),O=yield hi._fromIdTokenResponse(D,"signIn",R);return yield D._updateCurrentUser(O.user),O})).apply(this,arguments)}function Jr(){return(Jr=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T),R={requestType:"EMAIL_SIGNIN",email:y};ye(w.handleCodeInApp,D,"argument-error"),w&&el(D,R,w),yield Ya(D,R)})).apply(this,arguments)}function Fm(){return(Fm=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T),R=Nm.credentialWithLink(y,w||fe());return ye(R._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),Vc(D,R)})).apply(this,arguments)}function qv(T,y){return tl.apply(this,arguments)}function tl(){return(tl=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:createAuthUri",an(T,y))})).apply(this,arguments)}function xn(){return(xn=(0,c.Z)(function*(T,y){const D={identifier:y,continueUri:X()?fe():"http://localhost"},{signinMethods:R}=yield qv((0,Z.m9)(T),D);return R||[]})).apply(this,arguments)}function hf(){return(hf=(0,c.Z)(function*(T,y){const w=(0,Z.m9)(T),R={requestType:"VERIFY_EMAIL",idToken:yield T.getIdToken()};y&&el(w.auth,R,y);const{email:O}=yield Dm(w.auth,R);O!==T.email&&(yield T.reload())})).apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield T.getIdToken(),newEmail:y};w&&el(D.auth,O,w);const{email:K}=yield Us(D.auth,O);K!==T.email&&(yield T.reload())})).apply(this,arguments)}function zE(T,y){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(T,y){return bt(T,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function ff(){return(ff=(0,c.Z)(function*(T,{displayName:y,photoURL:w}){if(void 0===y&&void 0===w)return;const D=(0,Z.m9)(T),O={idToken:yield D.getIdToken(),displayName:y,photoUrl:w,returnSecureToken:!0},K=yield Fe(D,zE(D.auth,O));D.displayName=K.displayName||null,D.photoURL=K.photoUrl||null;const Ee=D.providerData.find(({providerId:Ve})=>"password"===Ve);Ee&&(Ee.displayName=D.displayName,Ee.photoURL=D.photoURL),yield D._updateTokensIfNecessary(K)})).apply(this,arguments)}function mf(T,y,w){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(T,y,w){const{auth:D}=T,O={idToken:yield T.getIdToken(),returnSecureToken:!0};y&&(O.email=y),w&&(O.password=w);const K=yield Fe(T,ao(D,O));yield T._updateTokensIfNecessary(K,!0)})).apply(this,arguments)}class na{constructor(y,w,D={}){this.isNewUser=y,this.providerId=w,this.profile=D}}class uu extends na{constructor(y,w,D,R){super(y,w,D),this.username=R}}class Um extends na{constructor(y,w){super(y,"facebook.com",w)}}class zv extends uu{constructor(y,w){super(y,"github.com",w,"string"==typeof(null==w?void 0:w.login)?null==w?void 0:w.login:null)}}class Bm extends na{constructor(y,w){super(y,"google.com",w)}}class Wv extends uu{constructor(y,w,D){super(y,"twitter.com",w,D)}}function cu(T){const{user:y,_tokenResponse:w}=T;return y.isAnonymous&&!w?{providerId:null,isNewUser:!1,profile:null}:function(T){var y,w;if(!T)return null;const{providerId:D}=T,R=T.rawUserInfo?JSON.parse(T.rawUserInfo):{},O=T.isNewUser||"identitytoolkit#SignupNewUserResponse"===T.kind;if(!D&&(null==T?void 0:T.idToken)){const K=null===(w=null===(y=_r(T.idToken))||void 0===y?void 0:y.firebase)||void 0===w?void 0:w.sign_in_provider;if(K)return new na(O,"anonymous"!==K&&"custom"!==K?K:null)}if(!D)return null;switch(D){case"facebook.com":return new Um(O,R);case"github.com":return new zv(O,R);case"google.com":return new Bm(O,R);case"twitter.com":return new Wv(O,R,T.screenName||null);case"custom":case"anonymous":return new na(O,null);default:return new na(O,D,R)}}(w)}class ra{constructor(y,w){this.type=y,this.credential=w}static _fromIdtoken(y){return new ra("enroll",y)}static _fromMfaPendingCredential(y){return new ra("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var w,D;if(null==y?void 0:y.multiFactorSession){if(null===(w=y.multiFactorSession)||void 0===w?void 0:w.pendingCredential)return ra._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null===(D=y.multiFactorSession)||void 0===D?void 0:D.idToken)return ra._fromIdtoken(y.multiFactorSession.idToken)}return null}}class yf{constructor(y,w,D){this.session=y,this.hints=w,this.signInResolver=D}static _fromError(y,w){const D=wt(y),R=(w.serverResponse.mfaInfo||[]).map(K=>ys._fromServerResponse(D,K));ye(w.serverResponse.mfaPendingCredential,D,"internal-error");const O=ra._fromMfaPendingCredential(w.serverResponse.mfaPendingCredential);return new yf(O,R,function(){var K=(0,c.Z)(function*(Ee){const Ve=yield Ee._process(D,O);delete w.serverResponse.mfaInfo,delete w.serverResponse.mfaPendingCredential;const $e=Object.assign(Object.assign({},w.serverResponse),{idToken:Ve.idToken,refreshToken:Ve.refreshToken});switch(w.operationType){case"signIn":const et=yield hi._fromIdTokenResponse(D,w.operationType,$e);return yield D._updateCurrentUser(et.user),et;case"reauthenticate":return ye(w.user,D,"internal-error"),hi._forOperation(w.user,w.operationType,$e);default:Le(D,"internal-error")}});return function(Ee){return K.apply(this,arguments)}}())}resolveSignIn(y){var w=this;return(0,c.Z)(function*(){return w.signInResolver(y)})()}}function Zc(T,y){return bt(T,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:T.tenantId},y))}class du{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(w=>{w.mfaInfo&&(this.enrolledFactors=w.mfaInfo.map(D=>ys._fromServerResponse(y.auth,D)))})}static _fromUser(y){return new du(y)}getSession(){var y=this;return(0,c.Z)(function*(){return ra._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,w){var D=this;return(0,c.Z)(function*(){const R=y,O=yield D.getSession(),K=yield Fe(D.user,R._process(D.user.auth,O,w));return yield D.user._updateTokensIfNecessary(K),D.user.reload()})()}unenroll(y){var w=this;return(0,c.Z)(function*(){const D="string"==typeof y?y:y.uid,R=yield w.user.getIdToken(),O=yield Fe(w.user,function(T,y){return bt(T,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:T.tenantId},y))}(w.user.auth,{idToken:R,mfaEnrollmentId:D}));w.enrolledFactors=w.enrolledFactors.filter(({uid:K})=>K!==D),yield w.user._updateTokensIfNecessary(O);try{yield w.user.reload()}catch(K){if("auth/user-token-expired"!==K.code)throw K}})()}}const zc=new WeakMap,Ji="__sak";class hu{constructor(y,w){this.storage=y,this.type=w}_isAvailable(){try{return this.storage?(this.storage.setItem(Ji,"1"),this.storage.removeItem(Ji),Promise.resolve(!0)):Promise.resolve(!1)}catch(y){return Promise.resolve(!1)}}_set(y,w){return this.storage.setItem(y,JSON.stringify(w)),Promise.resolve()}_get(y){const w=this.storage.getItem(y);return Promise.resolve(w?JSON.parse(w):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}}const il=(()=>{class T extends hu{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const T=(0,Z.z$)();return Fs(T)||Cn(T)}()&&function(){try{return!(!window||window===window.top)}catch(T){return!1}}(),this.fallbackToPolling=Tm(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(w){for(const D of Object.keys(this.listeners)){const R=this.storage.getItem(D),O=this.localCache[D];R!==O&&w(D,O,R)}}onStorageEvent(w,D=!1){if(!w.key)return void this.forAllChangedKeys((Ee,Ve,$e)=>{this.notifyListeners(Ee,$e)});const R=w.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ee=this.storage.getItem(R);if(w.newValue!==Ee)null!==w.newValue?this.storage.setItem(R,w.newValue):this.storage.removeItem(R);else if(this.localCache[R]===w.newValue&&!D)return}const O=()=>{const Ee=this.storage.getItem(R);!D&&this.localCache[R]===Ee||this.notifyListeners(R,Ee)},K=this.storage.getItem(R);(0,Z.w1)()&&10===document.documentMode&&K!==w.newValue&&w.newValue!==w.oldValue?setTimeout(O,10):O()}notifyListeners(w,D){this.localCache[w]=D;const R=this.listeners[w];if(R)for(const O of Array.from(R))O(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((w,D,R)=>{this.onStorageEvent(new StorageEvent("storage",{key:w,oldValue:D,newValue:R}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(w,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[w]||(this.listeners[w]=new Set,this.localCache[w]=this.storage.getItem(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(w,D){var R=()=>super._set,O=this;return(0,c.Z)(function*(){yield R().call(O,w,D),O.localCache[w]=JSON.stringify(D)})()}_get(w){var D=()=>super._get,R=this;return(0,c.Z)(function*(){const O=yield D().call(R,w);return R.localCache[w]=JSON.stringify(O),O})()}_remove(w){var D=()=>super._remove,R=this;return(0,c.Z)(function*(){yield D().call(R,w),delete R.localCache[w]})()}}return T.type="LOCAL",T})(),ia=(()=>{class T extends hu{constructor(){super(window.sessionStorage,"SESSION")}_addListener(w,D){}_removeListener(w,D){}}return T.type="SESSION",T})();let bf=(()=>{class T{constructor(w){this.eventTarget=w,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(w){const D=this.receivers.find(O=>O.isListeningto(w));if(D)return D;const R=new T(w);return this.receivers.push(R),R}isListeningto(w){return this.eventTarget===w}handleEvent(w){var D=this;return(0,c.Z)(function*(){const R=w,{eventId:O,eventType:K,data:Ee}=R.data,Ve=D.handlersMap[K];if(!(null==Ve?void 0:Ve.size))return;R.ports[0].postMessage({status:"ack",eventId:O,eventType:K});const $e=Array.from(Ve).map(function(){var rt=(0,c.Z)(function*(Bn){return Bn(R.origin,Ee)});return function(Bn){return rt.apply(this,arguments)}}()),et=yield function(T){return Promise.all(T.map(function(){var y=(0,c.Z)(function*(w){try{return{fulfilled:!0,value:yield w}}catch(D){return{fulfilled:!1,reason:D}}});return function(w){return y.apply(this,arguments)}}()))}($e);R.ports[0].postMessage({status:"done",eventId:O,eventType:K,response:et})})()}_subscribe(w,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[w]||(this.handlersMap[w]=new Set),this.handlersMap[w].add(D)}_unsubscribe(w,D){this.handlersMap[w]&&D&&this.handlersMap[w].delete(D),(!D||0===this.handlersMap[w].size)&&delete this.handlersMap[w],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return T.receivers=[],T})();function sl(T="",y=10){let w="";for(let D=0;D<y;D++)w+=Math.floor(10*Math.random());return T+w}class vs{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,w,D=50){var R=this;return(0,c.Z)(function*(){const O="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let K,Ee;return new Promise((Ve,$e)=>{const et=sl("",20);O.port1.start();const rt=setTimeout(()=>{$e(new Error("unsupported_event"))},D);Ee={messageChannel:O,onMessage(Bn){const Es=Bn;if(Es.data.eventId===et)switch(Es.data.status){case"ack":clearTimeout(rt),K=setTimeout(()=>{$e(new Error("timeout"))},3e3);break;case"done":clearTimeout(K),Ve(Es.data.response);break;default:clearTimeout(rt),clearTimeout(K),$e(new Error("invalid_response"))}}},R.handlers.add(Ee),O.port1.addEventListener("message",Ee.onMessage),R.target.postMessage({eventType:y,eventId:et,data:w},[O.port2])}).finally(()=>{Ee&&R.removeMessageHandler(Ee)})})()}}function yn(){return window}function ol(){return void 0!==yn().WorkerGlobalScope&&"function"==typeof yn().importScripts}function $m(){return($m=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(T){return null}})).apply(this,arguments)}const gu="firebaseLocalStorageDb",mu="firebaseLocalStorage",Zm="fbase_key";class Wc{constructor(y){this.request=y}toPromise(){return new Promise((y,w)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{w(this.request.error)})})}}function wf(T,y){return T.transaction([mu],y?"readwrite":"readonly").objectStore(mu)}function Yc(){const T=indexedDB.open(gu,1);return new Promise((y,w)=>{T.addEventListener("error",()=>{w(T.error)}),T.addEventListener("upgradeneeded",()=>{const D=T.result;try{D.createObjectStore(mu,{keyPath:Zm})}catch(R){w(R)}}),T.addEventListener("success",(0,c.Z)(function*(){const D=T.result;D.objectStoreNames.contains(mu)?y(D):(D.close(),yield function(){const T=indexedDB.deleteDatabase(gu);return new Wc(T).toPromise()}(),y(yield Yc()))}))})}function yu(T,y,w){return al.apply(this,arguments)}function al(){return(al=(0,c.Z)(function*(T,y,w){const D=wf(T,!0).put({[Zm]:y,value:w});return new Wc(D).toPromise()})).apply(this,arguments)}function ll(){return(ll=(0,c.Z)(function*(T,y){const w=wf(T,!1).get(y),D=yield new Wc(w).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function dr(T,y){const w=wf(T,!0).delete(y);return new Wc(w).toPromise()}const Kc=(()=>{class T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var w=this;return(0,c.Z)(function*(){return w.db||(w.db=yield Yc()),w.db})()}_withRetries(w){var D=this;return(0,c.Z)(function*(){let R=0;for(;;)try{const O=yield D._openDb();return yield w(O)}catch(O){if(R++>3)throw O;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var w=this;return(0,c.Z)(function*(){return ol()?w.initializeReceiver():w.initializeSender()})()}initializeReceiver(){var w=this;return(0,c.Z)(function*(){w.receiver=bf._getInstance(ol()?self:null),w.receiver._subscribe("keyChanged",function(){var D=(0,c.Z)(function*(R,O){return{keyProcessed:(yield w._poll()).includes(O.key)}});return function(R,O){return D.apply(this,arguments)}}()),w.receiver._subscribe("ping",function(){var D=(0,c.Z)(function*(R,O){return["keyChanged"]});return function(R,O){return D.apply(this,arguments)}}())})()}initializeSender(){var w=this;return(0,c.Z)(function*(){var D,R;if(w.activeServiceWorker=yield function(){return $m.apply(this,arguments)}(),!w.activeServiceWorker)return;w.sender=new vs(w.activeServiceWorker);const O=yield w.sender._send("ping",{},800);!O||(null===(D=O[0])||void 0===D?void 0:D.fulfilled)&&(null===(R=O[0])||void 0===R?void 0:R.value.includes("keyChanged"))&&(w.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(w){var D=this;return(0,c.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function(){var T;return(null===(T=null==navigator?void 0:navigator.serviceWorker)||void 0===T?void 0:T.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:w},D.serviceWorkerReceiverAvailable?800:50)}catch(R){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const w=yield Yc();return yield yu(w,Ji,"1"),yield dr(w,Ji),!0}catch(w){}return!1})()}_withPendingWrite(w){var D=this;return(0,c.Z)(function*(){D.pendingWrites++;try{yield w()}finally{D.pendingWrites--}})()}_set(w,D){var R=this;return(0,c.Z)(function*(){return R._withPendingWrite((0,c.Z)(function*(){return yield R._withRetries(O=>yu(O,w,D)),R.localCache[w]=D,R.notifyServiceWorker(w)}))})()}_get(w){var D=this;return(0,c.Z)(function*(){const R=yield D._withRetries(O=>function(T,y){return ll.apply(this,arguments)}(O,w));return D.localCache[w]=R,R})()}_remove(w){var D=this;return(0,c.Z)(function*(){return D._withPendingWrite((0,c.Z)(function*(){return yield D._withRetries(R=>dr(R,w)),delete D.localCache[w],D.notifyServiceWorker(w)}))})()}_poll(){var w=this;return(0,c.Z)(function*(){const D=yield w._withRetries(K=>{const Ee=wf(K,!1).getAll();return new Wc(Ee).toPromise()});if(!D)return[];if(0!==w.pendingWrites)return[];const R=[],O=new Set;for(const{fbase_key:K,value:Ee}of D)O.add(K),JSON.stringify(w.localCache[K])!==JSON.stringify(Ee)&&(w.notifyListeners(K,Ee),R.push(K));for(const K of Object.keys(w.localCache))w.localCache[K]&&!O.has(K)&&(w.notifyListeners(K,null),R.push(K));return R})()}notifyListeners(w,D){this.localCache[w]=D;const R=this.listeners[w];if(R)for(const O of Array.from(R))O(D)}startPolling(){var w=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return w._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(w,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[w]||(this.listeners[w]=new Set,this._get(w)),this.listeners[w].add(D)}_removeListener(w,D){this.listeners[w]&&(this.listeners[w].delete(D),0===this.listeners[w].size&&delete this.listeners[w]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return T.type="LOCAL",T})();function JE(T,y){return bt(T,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:T.tenantId},y))}function Oi(){return(Oi=(0,c.Z)(function*(T){return(yield bt(T,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $t(T){return new Promise((y,w)=>{const D=document.createElement("script");D.setAttribute("src",T),D.onload=y,D.onerror=R=>{const O=tt("internal-error");O.customData=R,w(O)},D.type="text/javascript",D.charset="UTF-8",function(){var T,y;return null!==(y=null===(T=document.getElementsByTagName("head"))||void 0===T?void 0:T[0])&&void 0!==y?y:document}().appendChild(D)})}function oa(T){return`__${T}${Math.floor(1e6*Math.random())}`}const aa=1e12;class go{constructor(y){this.auth=y,this.counter=aa,this._widgets=new Map}render(y,w){const D=this.counter;return this._widgets.set(D,new la(y,this.auth.name,w||{})),this.counter++,D}reset(y){var w;const D=y||aa;null===(w=this._widgets.get(D))||void 0===w||w.delete(),this._widgets.delete(D)}getResponse(y){var w;return(null===(w=this._widgets.get(y||aa))||void 0===w?void 0:w.getResponse())||""}execute(y){var w=this;return(0,c.Z)(function*(){var D;return null===(D=w._widgets.get(y||aa))||void 0===D||D.execute(),""})()}}class la{constructor(y,w,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const R="string"==typeof y?document.getElementById(y):y;ye(R,"argument-error",{appName:w}),this.container=R,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(T){const y=[],w="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<50;D++)y.push(w.charAt(Math.floor(Math.random()*w.length)));return y.join("")}();const{callback:y,"expired-callback":w}=this.params;if(y)try{y(this.responseToken)}catch(D){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,w)try{w()}catch(D){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Qr=oa("rcb"),Jc=new Xe(3e4,6e4);class qm{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!yn().grecaptcha}load(y,w=""){return ye((T=w).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(T),y,"argument-error"),this.shouldResolveImmediately(w)?Promise.resolve(yn().grecaptcha):new Promise((D,R)=>{const O=yn().setTimeout(()=>{R(tt(y,"network-request-failed"))},Jc.get());yn()[Qr]=()=>{yn().clearTimeout(O),delete yn()[Qr];const Ee=yn().grecaptcha;if(!Ee)return void R(tt(y,"internal-error"));const Ve=Ee.render;Ee.render=($e,et)=>{const rt=Ve($e,et);return this.counter++,rt},this.hostLanguage=w,D(Ee)},$t(`https://www.google.com/recaptcha/api.js??${(0,Z.xO)({onload:Qr,render:"explicit",hl:w})}`).catch(()=>{clearTimeout(O),R(tt(y,"internal-error"))})});var T}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){return!!yn().grecaptcha&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class mi{load(y){return(0,c.Z)(function*(){return new go(y)})()}clearedOneInstance(){}}const Wm="recaptcha",Tf={theme:"light",type:"image"};class Tn{constructor(y,w=Object.assign({},Tf),D){this.parameters=w,this.type=Wm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(D),this.isInvisible="invisible"===this.parameters.size,ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const R="string"==typeof y?document.getElementById(y):y;ye(R,this.auth,"argument-error"),this.container=R,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new mi:new qm,this.validateStartingState()}verify(){var y=this;return(0,c.Z)(function*(){y.assertNotDestroyed();const w=yield y.render(),D=y.getAssertedRecaptcha();return D.getResponse(w)||new Promise(O=>{const K=Ee=>{!Ee||(y.tokenChangeListeners.delete(K),O(Ee))};y.tokenChangeListeners.add(K),y.isInvisible&&D.execute(w)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){ye(!this.parameters.sitekey,this.auth,"argument-error"),ye(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ye("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return w=>{if(this.tokenChangeListeners.forEach(D=>D(w)),"function"==typeof y)y(w);else if("string"==typeof y){const D=yn()[y];"function"==typeof D&&D(w)}}}assertNotDestroyed(){ye(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,c.Z)(function*(){if(yield y.init(),!y.widgetId){let w=y.container;if(!y.isInvisible){const D=document.createElement("div");w.appendChild(D),w=D}y.widgetId=y.getAssertedRecaptcha().render(w,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,c.Z)(function*(){ye(X()&&!ol(),y.auth,"internal-error"),yield function(){let T=null;return new Promise(y=>{"complete"!==document.readyState?(T=()=>y(),window.addEventListener("load",T)):y()}).catch(y=>{throw T&&window.removeEventListener("load",T),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const w=yield function(T){return Oi.apply(this,arguments)}(y.auth);ye(w,y.auth,"internal-error"),y.parameters.sitekey=w})()}getAssertedRecaptcha(){return ye(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class If{constructor(y,w){this.verificationId=y,this.onConfirmation=w}confirm(y){const w=Ka._fromVerification(this.verificationId,y);return this.onConfirmation(w)}}function Xv(){return(Xv=(0,c.Z)(function*(T,y,w){const D=wt(T),R=yield bu(D,y,(0,Z.m9)(w));return new If(R,O=>Vc(D,O))})).apply(this,arguments)}function Ym(){return(Ym=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T);yield ln(!1,D,"phone");const R=yield bu(D.auth,y,(0,Z.m9)(w));return new If(R,O=>fi(D,O))})).apply(this,arguments)}function Sf(){return(Sf=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T),R=yield bu(D.auth,y,(0,Z.m9)(w));return new If(R,O=>Uc(D,O))})).apply(this,arguments)}function bu(T,y,w){return Km.apply(this,arguments)}function Km(){return(Km=(0,c.Z)(function*(T,y,w){var D;const R=yield w.verify();try{let O;if(ye("string"==typeof R,T,"argument-error"),ye(w.type===Wm,T,"argument-error"),O="string"==typeof y?{phoneNumber:y}:y,"session"in O){const K=O.session;if("phoneNumber"in O)return ye("enroll"===K.type,T,"internal-error"),(yield Zc(T,{idToken:K.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:R}})).phoneSessionInfo.sessionInfo;{ye("signin"===K.type,T,"internal-error");const Ee=(null===(D=O.multiFactorHint)||void 0===D?void 0:D.uid)||O.multiFactorUid;return ye(Ee,T,"missing-multi-factor-info"),(yield JE(T,{mfaPendingCredential:K.credential,mfaEnrollmentId:Ee,phoneSignInInfo:{recaptchaToken:R}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:K}=yield Hv(T,{phoneNumber:O.phoneNumber,recaptchaToken:R});return K}}finally{w._reset()}})).apply(this,arguments)}function Gs(){return(Gs=(0,c.Z)(function*(T,y){yield Fc((0,Z.m9)(T),y)})).apply(this,arguments)}let dl=(()=>{class T{constructor(w){this.providerId=T.PROVIDER_ID,this.auth=wt(w)}verifyPhoneNumber(w,D){return bu(this.auth,w,(0,Z.m9)(D))}static credential(w,D){return Ka._fromVerification(w,D)}static credentialFromResult(w){return T.credentialFromTaggedObject(w)}static credentialFromError(w){return T.credentialFromTaggedObject(w.customData||{})}static credentialFromTaggedObject({_tokenResponse:w}){if(!w)return null;const{phoneNumber:D,temporaryProof:R}=w;return D&&R?Ka._fromTokenResponse(D,R):null}}return T.PROVIDER_ID="phone",T.PHONE_SIGN_IN_METHOD="phone",T})();function nn(T,y){return y?se(y):(ye(T._popupRedirectResolver,T,"argument-error"),T._popupRedirectResolver)}class ua extends zi{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return _n(y,this._buildIdpRequest())}_linkToIdToken(y,w){return _n(y,this._buildIdpRequest(w))}_getReauthenticationResolver(y){return _n(y,this._buildIdpRequest())}_buildIdpRequest(y){const w={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(w.idToken=y),w}}function ca(T){return dn(T.auth,new ua(T),T.bypassAuthState)}function QE(T){const{auth:y,user:w}=T;return ye(w,y,"internal-error"),Qo(w,new ua(T),T.bypassAuthState)}function Qm(T){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,c.Z)(function*(T){const{auth:y,user:w}=T;return ye(w,y,"internal-error"),Fc(w,new ua(T),T.bypassAuthState)})).apply(this,arguments)}class _i{constructor(y,w,D,R,O=!1){this.auth=y,this.resolver=D,this.user=R,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(w)?w:[w]}execute(){var y=this;return new Promise(function(){var w=(0,c.Z)(function*(D,R){y.pendingPromise={resolve:D,reject:R};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(O){y.reject(O)}});return function(D,R){return w.apply(this,arguments)}}())}onAuthEvent(y){var w=this;return(0,c.Z)(function*(){const{urlResponse:D,sessionId:R,postBody:O,tenantId:K,error:Ee,type:Ve}=y;if(Ee)return void w.reject(Ee);const $e={auth:w.auth,requestUri:D,sessionId:R,tenantId:K||void 0,postBody:O||void 0,user:w.user,bypassAuthState:w.bypassAuthState};try{w.resolve(yield w.getIdpTask(Ve)($e))}catch(et){w.reject(et)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return ca;case"linkViaPopup":case"linkViaRedirect":return Qm;case"reauthViaPopup":case"reauthViaRedirect":return QE;default:Le(this.auth,"internal-error")}}resolve(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){mt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const da=new Xe(2e3,1e4);function Zs(){return(Zs=(0,c.Z)(function*(T,y,w){const D=wt(T);ye(y instanceof ho,T,"argument-error");const R=nn(D,w);return new _o(D,"signInViaPopup",y,R).executeNotNull()})).apply(this,arguments)}function fl(){return(fl=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T);ye(y instanceof ho,D.auth,"argument-error");const R=nn(D.auth,w);return new _o(D.auth,"reauthViaPopup",y,R,D).executeNotNull()})).apply(this,arguments)}function Qc(){return(Qc=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T);ye(y instanceof ho,D.auth,"argument-error");const R=nn(D.auth,w);return new _o(D.auth,"linkViaPopup",y,R,D).executeNotNull()})).apply(this,arguments)}let _o=(()=>{class T extends _i{constructor(w,D,R,O,K){super(w,D,O,K),this.provider=R,this.authWindow=null,this.pollId=null,T.currentPopupAction&&T.currentPopupAction.cancel(),T.currentPopupAction=this}executeNotNull(){var w=this;return(0,c.Z)(function*(){const D=yield w.execute();return ye(D,w.auth,"internal-error"),D})()}onExecution(){var w=this;return(0,c.Z)(function*(){mt(1===w.filter.length,"Popup operations only handle one event");const D=sl();w.authWindow=yield w.resolver._openPopup(w.auth,w.provider,w.filter[0],D),w.authWindow.associatedEvent=D,w.resolver._originValidation(w.auth).catch(R=>{w.reject(R)}),w.resolver._isIframeWebStorageSupported(w.auth,R=>{R||w.reject(tt(w.auth,"web-storage-unsupported"))}),w.pollUserCancellation()})()}get eventId(){var w;return(null===(w=this.authWindow)||void 0===w?void 0:w.associatedEvent)||null}cancel(){this.reject(tt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,T.currentPopupAction=null}pollUserCancellation(){const w=()=>{var D,R;this.pollId=(null===(R=null===(D=this.authWindow)||void 0===D?void 0:D.window)||void 0===R?void 0:R.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(tt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(w,da.get())};w()}}return T.currentPopupAction=null,T})();const qn=new Map;class Af extends _i{constructor(y,w,D=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],w,void 0,D),this.eventId=null}execute(){var y=()=>super.execute,w=this;return(0,c.Z)(function*(){let D=qn.get(w.auth._key());if(!D){try{const O=(yield function(T,y){return Nf.apply(this,arguments)}(w.resolver,w.auth))?yield y().call(w):null;D=()=>Promise.resolve(O)}catch(R){D=()=>Promise.reject(R)}qn.set(w.auth._key(),D)}return D()})()}onAuthEvent(y){var w=()=>super.onAuthEvent,D=this;return(0,c.Z)(function*(){if("signInViaRedirect"===y.type)return w().call(D,y);if("unknown"!==y.type){if(y.eventId){const R=yield D.auth._redirectUserForId(y.eventId);if(R)return D.user=R,w().call(D,y);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Nf(){return(Nf=(0,c.Z)(function*(T,y){const w=yo(y),D="true"===(yield Pi(T)._get(w));return yield Pi(T)._remove(w),D})).apply(this,arguments)}function Xi(T,y){return ed.apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(T,y){return Pi(T)._set(yo(y),"true")})).apply(this,arguments)}function Pi(T){return se(T._redirectPersistence)}function yo(T){return Nt("pendingRedirect",T.config.apiKey,T.name)}function ha(){return(ha=(0,c.Z)(function*(T,y,w){const D=wt(T);ye(y instanceof ho,T,"argument-error");const R=nn(D,w);return yield Xi(R,D),R._openRedirect(D,y,"signInViaRedirect")})).apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T);ye(y instanceof ho,D.auth,"argument-error");const R=nn(D.auth,w);yield Xi(R,D.auth);const O=yield fa(D);return R._openRedirect(D.auth,y,"reauthViaRedirect",O)})).apply(this,arguments)}function xf(){return(xf=(0,c.Z)(function*(T,y,w){const D=(0,Z.m9)(T);ye(y instanceof ho,D.auth,"argument-error");const R=nn(D.auth,w);yield ln(!1,D,y.providerId),yield Xi(R,D.auth);const O=yield fa(D);return R._openRedirect(D.auth,y,"linkViaRedirect",O)})).apply(this,arguments)}function td(){return(td=(0,c.Z)(function*(T,y){return yield wt(T)._initializationPromise,zn(T,y,!1)})).apply(this,arguments)}function zn(T,y){return nd.apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(T,y,w=!1){const D=wt(T),R=nn(D,y),K=yield new Af(D,R,w).execute();return K&&!w&&(delete K.user._redirectEventId,yield D._persistUserIfCurrent(K.user),yield D._setRedirectUser(null,y)),K})).apply(this,arguments)}function fa(T){return pa.apply(this,arguments)}function pa(){return(pa=(0,c.Z)(function*(T){const y=sl(`${T.uid}:::`);return T._redirectEventId=y,yield T.auth._setRedirectUser(T),yield T.auth._persistUserIfCurrent(T),y})).apply(this,arguments)}class n_{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let w=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(y,D)&&(w=!0,this.sendToConsumer(y,D),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function(T){switch(T.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gl(T);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,w||(this.queuedRedirectEvent=y,w=!0)),w}sendToConsumer(y,w){var D;if(y.error&&!gl(y)){const R=(null===(D=y.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";w.onError(tt(this.auth,R))}else w.onAuthEvent(y)}isEventForConsumer(y,w){const D=null===w.eventId||!!y.eventId&&y.eventId===w.eventId;return w.filter.includes(y.type)&&D}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hn(y))}saveEventToCache(y){this.cachedEventUids.add(hn(y)),this.lastProcessedEventTime=Date.now()}}function hn(T){return[T.type,T.eventId,T.sessionId,T.tenantId].filter(y=>y).join("-")}function gl({type:T,error:y}){return"unknown"===T&&"auth/no-auth-event"===(null==y?void 0:y.code)}function qs(T){return ga.apply(this,arguments)}function ga(){return(ga=(0,c.Z)(function*(T,y={}){return bt(T,"GET","/v1/projects",y)})).apply(this,arguments)}const kf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Of=/^https?/;function i_(){return(i_=(0,c.Z)(function*(T){if(T.config.emulator)return;const{authorizedDomains:y}=yield qs(T);for(const w of y)try{if(ml(w))return}catch(D){}Le(T,"unauthorized-domain")})).apply(this,arguments)}function ml(T){const y=fe(),{protocol:w,hostname:D}=new URL(y);if(T.startsWith("chrome-extension://")){const K=new URL(T);return""===K.hostname&&""===D?"chrome-extension:"===w&&T.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===w&&K.hostname===D}if(!Of.test(w))return!1;if(kf.test(T))return D===T;const R=T.replace(/\./g,"\\.");return new RegExp("^(.+\\."+R+"|"+R+")$","i").test(D)}const zs=new Xe(3e4,6e4);function Du(){const T=yn().___jsl;if(null==T?void 0:T.H)for(const y of Object.keys(T.H))if(T.H[y].r=T.H[y].r||[],T.H[y].L=T.H[y].L||[],T.H[y].r=[...T.H[y].L],T.CP)for(let w=0;w<T.CP.length;w++)T.CP[w]=null}let rd=null;function bo(T){return rd=rd||function(T){return new Promise((y,w)=>{var D,R,O;function K(){Du(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{Du(),w(tt(T,"network-request-failed"))},timeout:zs.get()})}if(null===(R=null===(D=yn().gapi)||void 0===D?void 0:D.iframes)||void 0===R?void 0:R.Iframe)y(gapi.iframes.getContext());else{if(!(null===(O=yn().gapi)||void 0===O?void 0:O.load)){const Ee=oa("iframefcb");return yn()[Ee]=()=>{gapi.load?K():w(tt(T,"network-request-failed"))},$t(`https://apis.google.com/js/api.js?onload=${Ee}`)}K()}}).catch(y=>{throw rd=null,y})}(T),rd}const Iu=new Xe(5e3,15e3),n0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},r0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yl(T){const y=T.config;ye(y.authDomain,T,"auth-domain-config-required");const w=y.emulator?dt(y,"emulator/auth/iframe"):`https://${T.config.authDomain}/__/auth/iframe`,D={apiKey:y.apiKey,appName:T.name,v:oe.SDK_VERSION},R=r0.get(T.config.apiHost);R&&(D.eid=R);const O=T._getFrameworks();return O.length&&(D.fw=O.join(",")),`${w}?${(0,Z.xO)(D).slice(1)}`}function Pf(){return(Pf=(0,c.Z)(function*(T){const y=yield bo(T),w=yn().gapi;return ye(w,T,"internal-error"),y.open({where:document.body,url:yl(T),messageHandlersFilter:w.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:n0,dontclear:!0},D=>new Promise(function(){var R=(0,c.Z)(function*(O,K){yield D.restyle({setHideOnLeave:!1});const Ee=tt(T,"network-request-failed"),Ve=yn().setTimeout(()=>{K(Ee)},Iu.get());function $e(){yn().clearTimeout(Ve),O(D)}D.ping($e).then($e,()=>{K(Ee)})});return function(O,K){return R.apply(this,arguments)}}()))})).apply(this,arguments)}const s_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class l_{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(y){}}}function d_(T,y,w,D,R,O){ye(T.config.authDomain,T,"auth-domain-config-required"),ye(T.config.apiKey,T,"invalid-api-key");const K={apiKey:T.config.apiKey,appName:T.name,authType:w,redirectUrl:D,v:oe.SDK_VERSION,eventId:R};if(y instanceof ho){y.setDefaultLanguage(T.languageCode),K.providerId=y.providerId||"",(0,Z.xb)(y.getCustomParameters())||(K.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Ve,$e]of Object.entries(O||{}))K[Ve]=$e}if(y instanceof Ko){const Ve=y.getScopes().filter($e=>""!==$e);Ve.length>0&&(K.scopes=Ve.join(","))}T.tenantId&&(K.tid=T.tenantId);const Ee=K;for(const Ve of Object.keys(Ee))void 0===Ee[Ve]&&delete Ee[Ve];return`${function({config:T}){return T.emulator?dt(T,"emulator/auth/handler"):`https://${T.authDomain}/__/auth/handler`}(T)}?${(0,Z.xO)(Ee).slice(1)}`}const o0="webStorageSupport";class vl extends class{constructor(y){this.factorId=y}_process(y,w,D){switch(w.type){case"enroll":return this._finalizeEnroll(y,w.credential,D);case"signin":return this._finalizeSignIn(y,w.credential);default:return At("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new vl(y)}_finalizeEnroll(y,w,D){return function(T,y){return bt(T,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:T.tenantId},y))}(y,{idToken:w,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,w){return function(T,y){return bt(T,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:T.tenantId},y))}(y,{mfaPendingCredential:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Lf{constructor(){}static assertion(y){return vl._fromCredential(y)}}var T;class l0{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var w=this;return(0,c.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const w=this.auth.onIdTokenChanged(D=>{var R;y((null===(R=D)||void 0===R?void 0:R.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,w),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const w=this.internalListeners.get(y);!w||(this.internalListeners.delete(y),w(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xr(){return window}function Uf(){return(Uf=(0,c.Z)(function*(T,y,w){var D;const{BuildInfo:R}=xr();mt(y.sessionId,"AuthEvent did not contain a session ID");const O=yield p0(y.sessionId),K={};return Cn()?K.ibi=R.packageName:Wa()?K.apn=R.packageName:Le(T,"operation-not-supported-in-this-environment"),R.displayName&&(K.appDisplayName=R.displayName),K.sessionId=O,d_(T,w,y.type,void 0,null!==(D=y.eventId)&&void 0!==D?D:void 0,K)})).apply(this,arguments)}function ud(){return(ud=(0,c.Z)(function*(T){const{BuildInfo:y}=xr(),w={};Cn()?w.iosBundleId=y.packageName:Wa()?w.androidPackageName=y.packageName:Le(T,"operation-not-supported-in-this-environment"),yield qs(T,w)})).apply(this,arguments)}function cd(){return(cd=(0,c.Z)(function*(T,y,w){const{cordova:D}=xr();let R=()=>{};try{yield new Promise((O,K)=>{let Ee=null;function Ve(){var rt;O();const Bn=null===(rt=D.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof Bn&&Bn(),"function"==typeof(null==w?void 0:w.close)&&w.close()}function $e(){Ee||(Ee=window.setTimeout(()=>{K(tt(T,"redirect-cancelled-by-user"))},2e3))}function et(){"visible"===(null==document?void 0:document.visibilityState)&&$e()}y.addPassiveListener(Ve),document.addEventListener("resume",$e,!1),Wa()&&document.addEventListener("visibilitychange",et,!1),R=()=>{y.removePassiveListener(Ve),document.removeEventListener("resume",$e,!1),document.removeEventListener("visibilitychange",et,!1),Ee&&window.clearTimeout(Ee)}})}finally{R()}})).apply(this,arguments)}function p0(T){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(T){const y=Bf(T),w=yield crypto.subtle.digest("SHA-256",y);return Array.from(new Uint8Array(w)).map(R=>R.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Bf(T){if(mt(/[0-9a-zA-Z]+/.test(T),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(T);const y=new ArrayBuffer(T.length),w=new Uint8Array(y);for(let D=0;D<T.length;D++)w[D]=T.charCodeAt(D);return w}T="Browser",(0,oe._registerComponent)(new ae.wA("auth",(y,{options:w})=>{const D=y.getProvider("app").getImmediate(),{apiKey:R,authDomain:O}=D.options;return(K=>{ye(R&&!R.includes(":"),"invalid-api-key",{appName:K.name}),ye(!(null==O?void 0:O.includes(":")),"argument-error",{appName:K.name});const Ee={apiKey:R,authDomain:O,clientPlatform:T,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:He(T)},Ve=new Rt(K,Ee);return function(T,y){const w=(null==y?void 0:y.persistence)||[],D=(Array.isArray(w)?w:[w]).map(se);(null==y?void 0:y.errorMap)&&T._updateErrorMap(y.errorMap),T._initializeWithPersistence(D,null==y?void 0:y.popupRedirectResolver)}(Ve,w),Ve})(D)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,w,D)=>{y.getProvider("auth-internal").initialize()})),(0,oe._registerComponent)(new ae.wA("auth-internal",y=>{const w=wt(y.getProvider("auth").getImmediate());return new l0(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,oe.registerVersion)("@firebase/auth","0.17.0",void 0);class jf extends n_{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(y=>{this.resolveInialized=y})}addPassiveListener(y){this.passiveListeners.add(y)}removePassiveListener(y){this.passiveListeners.delete(y)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(y){return this.resolveInialized(),this.passiveListeners.forEach(w=>w(y)),super.onEvent(y)}initialized(){var y=this;return(0,c.Z)(function*(){yield y.initPromise})()}}function yi(T){return _a.apply(this,arguments)}function _a(){return(_a=(0,c.Z)(function*(T){const y=yield hd()._get(Hf(T));return y&&(yield hd()._remove(Hf(T))),y})).apply(this,arguments)}function Mu(){const T=[],y="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<20;w++){const D=Math.floor(Math.random()*y.length);T.push(y.charAt(D))}return T.join("")}function hd(){return se(il)}function Hf(T){return Nt("authEvent",T.config.apiKey,T.name)}function Ws(T){if(!(null==T?void 0:T.includes("?")))return{};const[y,...w]=T.split("?");return(0,Z.zd)(w.join("?"))}function _0(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:tt("no-auth-event")}}function ya(){var T;return(null===(T=null==self?void 0:self.location)||void 0===T?void 0:T.protocol)||null}function ws(T=(0,Z.z$)()){return!("file:"!==ya()&&"ionic:"!==ya()||!T.toLowerCase().match(/iphone|ipad|ipod|android/))}function Zf(){try{const T=self.localStorage,y=sl();if(T)return T.setItem(y,"1"),T.removeItem(y),!function(T=(0,Z.z$)()){return(0,Z.w1)()&&11===(null==document?void 0:document.documentMode)||function(T=(0,Z.z$)()){return/Edge\/\d+/.test(T)}(T)}()||(0,Z.hl)()}catch(T){return qf()&&(0,Z.hl)()}return!1}function qf(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function xu(){return("http:"===ya()||"https:"===ya()||(0,Z.ru)()||ws())&&!((0,Z.b$)()||(0,Z.UG)())&&Zf()&&!qf()}function pd(){return ws()&&"undefined"!=typeof document}function zf(){return(zf=(0,c.Z)(function*(){return!!pd()&&new Promise(T=>{const y=setTimeout(()=>{T(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(y),T(!0)})})})).apply(this,arguments)}const ni={LOCAL:"local",NONE:"none",SESSION:"session"},va=ye,Wf="persistence";function gd(T){return ba.apply(this,arguments)}function ba(){return(ba=(0,c.Z)(function*(T){yield T._initializationPromise;const y=md(),w=Nt(Wf,T.config.apiKey,T.name);(null==y?void 0:y.sessionStorage)&&y.sessionStorage.setItem(w,T._getPersistence())})).apply(this,arguments)}function md(){return"undefined"!=typeof window?window:null}const Kf=ye;class Ys{constructor(){this.browserResolver=se(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ia,this._completeRedirectFn=zn}_openPopup(y,w,D,R){var O=this;return(0,c.Z)(function*(){var K;mt(null===(K=O.eventManagers[y._key()])||void 0===K?void 0:K.manager,"_initialize() not called before _openPopup()");const Ee=d_(y,w,D,fe(),R);return function(T,y,w,D=500,R=600){const O=Math.max((window.screen.availHeight-R)/2,0).toString(),K=Math.max((window.screen.availWidth-D)/2,0).toString();let Ee="";const Ve=Object.assign(Object.assign({},s_),{width:D.toString(),height:R.toString(),top:O,left:K}),$e=(0,Z.z$)().toLowerCase();w&&(Ee=za($e)?"_blank":w),Nr($e)&&(y=y||"http://localhost",Ve.scrollbars="yes");const et=Object.entries(Ve).reduce((Bn,[Es,rn])=>`${Bn}${Es}=${rn},`,"");if(function(T=(0,Z.z$)()){var y;return Cn(T)&&!!(null===(y=window.navigator)||void 0===y?void 0:y.standalone)}($e)&&"_self"!==Ee)return function(T,y){const w=document.createElement("a");w.href=T,w.target=y;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),w.dispatchEvent(D)}(y||"",Ee),new l_(null);const rt=window.open(y||"",Ee,et);ye(rt,T,"popup-blocked");try{rt.focus()}catch(Bn){}return new l_(rt)}(y,Ee,sl())})()}_openRedirect(y,w,D,R){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(y),T=d_(y,w,D,fe(),R),yn().location.href=T,new Promise(()=>{});var T})()}_initialize(y){const w=y._key();if(this.eventManagers[w]){const{manager:R,promise:O}=this.eventManagers[w];return R?Promise.resolve(R):(mt(O,"If manager is not set, promise should be"),O)}const D=this.initAndGetManager(y);return this.eventManagers[w]={promise:D},D}initAndGetManager(y){var w=this;return(0,c.Z)(function*(){const D=yield function(T){return Pf.apply(this,arguments)}(y),R=new n_(y);return D.register("authEvent",O=>(ye(null==O?void 0:O.authEvent,y,"invalid-auth-event"),{status:R.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),w.eventManagers[y._key()]={manager:R},w.iframes[y._key()]=D,R})()}_isIframeWebStorageSupported(y,w){this.iframes[y._key()].send(o0,{type:o0},R=>{var O;const K=null===(O=null==R?void 0:R[0])||void 0===O?void 0:O[o0];void 0!==K&&w(!!K),Le(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const w=y._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(T){return i_.apply(this,arguments)}(y)),this.originValidationPromises[w]}get _shouldInitProactively(){return Tm()||Fs()||Cn()}}),this.cordovaResolver=se(class{constructor(){this._redirectPersistence=ia,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=zn}_initialize(y){var w=this;return(0,c.Z)(function*(){const D=y._key();let R=w.eventManagers.get(D);return R||(R=new jf(y),w.eventManagers.set(D,R),w.attachCallbackListeners(y,R)),R})()}_openPopup(y){Le(y,"operation-not-supported-in-this-environment")}_openRedirect(y,w,D,R){var O=this;return(0,c.Z)(function*(){!function(T){var y,w,D,R,O,K,Ee,Ve,$e,et;const rt=xr();ye("function"==typeof(null===(y=null==rt?void 0:rt.universalLinks)||void 0===y?void 0:y.subscribe),T,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),ye(void 0!==(null===(w=null==rt?void 0:rt.BuildInfo)||void 0===w?void 0:w.packageName),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),ye("function"==typeof(null===(O=null===(R=null===(D=null==rt?void 0:rt.cordova)||void 0===D?void 0:D.plugins)||void 0===R?void 0:R.browsertab)||void 0===O?void 0:O.openUrl),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(Ve=null===(Ee=null===(K=null==rt?void 0:rt.cordova)||void 0===K?void 0:K.plugins)||void 0===Ee?void 0:Ee.browsertab)||void 0===Ve?void 0:Ve.isAvailable),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),ye("function"==typeof(null===(et=null===($e=null==rt?void 0:rt.cordova)||void 0===$e?void 0:$e.InAppBrowser)||void 0===et?void 0:et.open),T,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(y);const K=yield O._initialize(y);yield K.initialized(),K.resetRedirect(),qn.clear(),yield O._originValidation(y);const Ee=function(T,y,w=null){return{type:y,eventId:w,urlResponse:null,sessionId:Mu(),postBody:null,tenantId:T.tenantId,error:tt(T,"no-auth-event")}}(y,D,R);yield function(T,y){return hd()._set(Hf(T),y)}(y,Ee);const Ve=yield function(T,y,w){return Uf.apply(this,arguments)}(y,Ee,w),$e=yield function(T){const{cordova:y}=xr();return new Promise(w=>{y.plugins.browsertab.isAvailable(D=>{let R=null;D?y.plugins.browsertab.openUrl(T):R=y.InAppBrowser.open(T,function(T=(0,Z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(T)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(T)}()?"_blank":"_system","location=yes"),w(R)})})}(Ve);return function(T,y,w){return cd.apply(this,arguments)}(y,K,$e)})()}_isIframeWebStorageSupported(y,w){throw new Error("Method not implemented.")}_originValidation(y){const w=y._key();return this.originValidationPromises[w]||(this.originValidationPromises[w]=function(T){return ud.apply(this,arguments)}(y)),this.originValidationPromises[w]}attachCallbackListeners(y,w){const{universalLinks:D,handleOpenURL:R,BuildInfo:O}=xr(),K=setTimeout((0,c.Z)(function*(){yield yi(y),w.onEvent(_0())}),500),Ee=function(){var et=(0,c.Z)(function*(rt){clearTimeout(K);const Bn=yield yi(y);let Es=null;Bn&&(null==rt?void 0:rt.url)&&(Es=function(T,y){var w,D;const R=function(T){const y=Ws(T),w=y.link?decodeURIComponent(y.link):void 0,D=Ws(w).link,R=y.deep_link_id?decodeURIComponent(y.deep_link_id):void 0;return Ws(R).link||R||D||w||T}(y);if(R.includes("/__/auth/callback")){const O=Ws(R),K=O.firebaseError?function(T){try{return JSON.parse(T)}catch(y){return null}}(decodeURIComponent(O.firebaseError)):null,Ee=null===(D=null===(w=null==K?void 0:K.code)||void 0===w?void 0:w.split("auth/"))||void 0===D?void 0:D[1],Ve=Ee?tt(Ee):null;return Ve?{type:T.type,eventId:T.eventId,tenantId:T.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:T.type,eventId:T.eventId,tenantId:T.tenantId,sessionId:T.sessionId,urlResponse:R,postBody:null}}return null}(Bn,rt.url)),w.onEvent(Es||_0())});return function(Bn){return et.apply(this,arguments)}}();void 0!==D&&"function"==typeof D.subscribe&&D.subscribe(null,Ee);const Ve=R,$e=`${O.packageName.toLowerCase()}://`;xr().handleOpenURL=function(){var et=(0,c.Z)(function*(rt){if(rt.toLowerCase().startsWith($e)&&Ee({url:rt}),"function"==typeof Ve)try{Ve(rt)}catch(Bn){console.error(Bn)}});return function(rt){return et.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ia,this._completeRedirectFn=zn}_initialize(y){var w=this;return(0,c.Z)(function*(){return yield w.selectUnderlyingResolver(),w.assertedUnderlyingResolver._initialize(y)})()}_openPopup(y,w,D,R){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(y,w,D,R)})()}_openRedirect(y,w,D,R){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(y,w,D,R)})()}_isIframeWebStorageSupported(y,w){this.assertedUnderlyingResolver._isIframeWebStorageSupported(y,w)}_originValidation(y){return this.assertedUnderlyingResolver._originValidation(y)}get _shouldInitProactively(){return pd()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kf(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var y=this;return(0,c.Z)(function*(){if(y.underlyingResolver)return;const w=yield function(){return zf.apply(this,arguments)}();y.underlyingResolver=w?y.cordovaResolver:y.browserResolver})()}}function hr(T){return T.unwrap()}function _d(T){return b_(T)}function w0(T,y){var w;const D=null===(w=y.customData)||void 0===w?void 0:w._tokenResponse;if("auth/multi-factor-auth-required"===y.code)y.resolver=new w_(T,function(T,y){var w;const D=(0,Z.m9)(T),R=y;return ye(y.operationType,D,"argument-error"),ye(null===(w=R.serverResponse)||void 0===w?void 0:w.mfaPendingCredential,D,"argument-error"),yf._fromError(D,R)}(T,y));else if(D){const R=b_(y),O=y;R&&(O.credential=R,O.tenantId=D.tenantId||void 0,O.email=D.email||void 0,O.phoneNumber=D.phoneNumber||void 0)}}function b_(T){const{_tokenResponse:y}=T instanceof Z.ZR?T.customData:T;if(!y)return null;if(!(T instanceof Z.ZR)&&"temporaryProof"in y&&"phoneNumber"in y)return dl.credentialFromResult(T);const w=y.providerId;if(!w||"password"===w)return null;let D;switch(w){case"google.com":D=Jh;break;case"facebook.com":D=$v;break;case"github.com":D=Qh;break;case"twitter.com":D=Mm;break;default:const{oauthIdToken:R,oauthAccessToken:O,oauthTokenSecret:K,pendingToken:Ee,nonce:Ve}=y;return O||K||R||Ee?Ee?w.startsWith("saml.")?Ja._create(w,Ee):Bs._fromParams({providerId:w,signInMethod:w,pendingToken:Ee,idToken:R,accessToken:O}):new js(w).credential({idToken:R,accessToken:O,rawNonce:Ve}):null}return T instanceof Z.ZR?D.credentialFromError(T):D.credentialFromResult(T)}function Or(T,y){return yd.apply(this,arguments)}function yd(){return(yd=(0,c.Z)(function*(T,y){let w;try{w=yield y}catch(O){throw O instanceof Z.ZR&&w0(T,O),O}const{operationType:D,user:R}=w;return{operationType:D,credential:_d(w),additionalUserInfo:cu(w),user:Ks.getOrCreate(R)}})).apply(this,arguments)}function Jf(T,y){return vd.apply(this,arguments)}function vd(){return(vd=(0,c.Z)(function*(T,y){const w=yield y;return{verificationId:w.verificationId,confirm:D=>Or(T,w.confirm(D))}})).apply(this,arguments)}class w_{constructor(y,w){this.resolver=w,this.auth=function(T){return T.wrapped()}(y)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(y){return Or(hr(this.auth),this.resolver.resolveSignIn(y))}}class Ks{constructor(y){this._delegate=y,this.multiFactor=function(T){const y=(0,Z.m9)(T);return zc.has(y)||zc.set(y,du._fromUser(y)),zc.get(y)}(y)}static getOrCreate(y){return Ks.USER_MAP.has(y)||Ks.USER_MAP.set(y,new Ks(y)),Ks.USER_MAP.get(y)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(y){return this._delegate.getIdTokenResult(y)}getIdToken(y){return this._delegate.getIdToken(y)}linkAndRetrieveDataWithCredential(y){return this.linkWithCredential(y)}linkWithCredential(y){var w=this;return(0,c.Z)(function*(){return Or(w.auth,fi(w._delegate,y))})()}linkWithPhoneNumber(y,w){var D=this;return(0,c.Z)(function*(){return Jf(D.auth,function(T,y,w){return Ym.apply(this,arguments)}(D._delegate,y,w))})()}linkWithPopup(y){var w=this;return(0,c.Z)(function*(){return Or(w.auth,function(T,y,w){return Qc.apply(this,arguments)}(w._delegate,y,Ys))})()}linkWithRedirect(y){var w=this;return(0,c.Z)(function*(){return yield gd(wt(w.auth)),function(T,y,w){return function(T,y,w){return xf.apply(this,arguments)}(T,y,w)}(w._delegate,y,Ys)})()}reauthenticateAndRetrieveDataWithCredential(y){return this.reauthenticateWithCredential(y)}reauthenticateWithCredential(y){var w=this;return(0,c.Z)(function*(){return Or(w.auth,Uc(w._delegate,y))})()}reauthenticateWithPhoneNumber(y,w){return Jf(this.auth,function(T,y,w){return Sf.apply(this,arguments)}(this._delegate,y,w))}reauthenticateWithPopup(y){return Or(this.auth,function(T,y,w){return fl.apply(this,arguments)}(this._delegate,y,Ys))}reauthenticateWithRedirect(y){var w=this;return(0,c.Z)(function*(){return yield gd(wt(w.auth)),function(T,y,w){return function(T,y,w){return bs.apply(this,arguments)}(T,y,w)}(w._delegate,y,Ys)})()}sendEmailVerification(y){return function(T,y){return hf.apply(this,arguments)}(this._delegate,y)}unlink(y){var w=this;return(0,c.Z)(function*(){return yield function(T,y){return tf.apply(this,arguments)}(w._delegate,y),w})()}updateEmail(y){return function(T,y){return mf((0,Z.m9)(T),y,null)}(this._delegate,y)}updatePassword(y){return function(T,y){return mf((0,Z.m9)(T),null,y)}(this._delegate,y)}updatePhoneNumber(y){return function(T,y){return Gs.apply(this,arguments)}(this._delegate,y)}updateProfile(y){return function(T,y){return ff.apply(this,arguments)}(this._delegate,y)}verifyBeforeUpdateEmail(y,w){return function(T,y,w){return gi.apply(this,arguments)}(this._delegate,y,w)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ks.USER_MAP=new WeakMap;const El=ye;let E_=(()=>{class T{constructor(w,D){if(this.app=w,D.isInitialized())return this._delegate=D.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:R}=w.options;El(R,"invalid-api-key",{appName:w.name});let O=[Ht];if("undefined"!=typeof window){O=function(T,y){const w=md();if(!(null==w?void 0:w.sessionStorage))return[];const D=Nt(Wf,T,y);switch(w.sessionStorage.getItem(D)){case ni.NONE:return[Ht];case ni.LOCAL:return[Kc,ia];case ni.SESSION:return[ia];default:return[]}}(R,w.name);for(const Ee of[Kc,il,ia])O.includes(Ee)||O.push(Ee)}El(R,"invalid-api-key",{appName:w.name});const K="undefined"!=typeof window?Ys:void 0;this._delegate=D.initialize({options:{persistence:O,popupRedirectResolver:K}}),this._delegate._updateErrorMap(Ie),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ks.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(w){this._delegate.languageCode=w}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(w){this._delegate.tenantId=w}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(w,D){!function(T,y,w){const D=wt(T);ye(D._canInitEmulator,D,"emulator-config-failed"),ye(/^https?:\/\//.test(y),D,"invalid-emulator-scheme");const R=!!(null==w?void 0:w.disableWarnings),O=Un(y),{host:K,port:Ee}=function(T){const y=Un(T),w=/(\/\/)?([^?#/]+)/.exec(T.substr(y.length));if(!w)return{host:"",port:null};const D=w[2].split("@").pop()||"",R=/^(\[[^\]]+\])(:|$)/.exec(D);if(R){const O=R[1];return{host:O,port:mn(D.substr(O.length+1))}}{const[O,K]=D.split(":");return{host:O,port:mn(K)}}}(y);D.config.emulator={url:`${O}//${K}${null===Ee?"":`:${Ee}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:K,port:Ee,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:R})}),function(T){function y(){const w=document.createElement("p"),D=w.style;w.innerText="Running in emulator mode. Do not use with production credentials.",D.position="fixed",D.width="100%",D.backgroundColor="#ffffff",D.border=".1em solid #000000",D.color="#b50000",D.bottom="0px",D.left="0px",D.margin="0px",D.zIndex="10000",D.textAlign="center",w.classList.add("firebase-emulator-warning"),document.body.appendChild(w)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!T&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}(R)}(this._delegate,w,D)}applyActionCode(w){return function(T,y){return uf.apply(this,arguments)}(this._delegate,w)}checkActionCode(w){return Pm(this._delegate,w)}confirmPasswordReset(w,D){return function(T,y,w){return lf.apply(this,arguments)}(this._delegate,w,D)}createUserWithEmailAndPassword(w,D){var R=this;return(0,c.Z)(function*(){return Or(R._delegate,function(T,y,w){return un.apply(this,arguments)}(R._delegate,w,D))})()}fetchProvidersForEmail(w){return this.fetchSignInMethodsForEmail(w)}fetchSignInMethodsForEmail(w){return function(T,y){return xn.apply(this,arguments)}(this._delegate,w)}isSignInWithEmailLink(w){return function(T,y){const w=xc.parseLink(y);return"EMAIL_SIGNIN"===(null==w?void 0:w.operation)}(0,w)}getRedirectResult(){var w=this;return(0,c.Z)(function*(){El(xu(),w._delegate,"operation-not-supported-in-this-environment");const D=yield function(T,y){return td.apply(this,arguments)}(w._delegate,Ys);return D?Or(w._delegate,Promise.resolve(D)):{credential:null,user:null}})()}addFrameworkForLogging(w){!function(T,y){wt(T)._logFramework(y)}(this._delegate,w)}onAuthStateChanged(w,D,R){const{next:O,error:K,complete:Ee}=Qf(w,D,R);return this._delegate.onAuthStateChanged(O,K,Ee)}onIdTokenChanged(w,D,R){const{next:O,error:K,complete:Ee}=Qf(w,D,R);return this._delegate.onIdTokenChanged(O,K,Ee)}sendSignInLinkToEmail(w,D){return function(T,y,w){return Jr.apply(this,arguments)}(this._delegate,w,D)}sendPasswordResetEmail(w,D){return function(T,y,w){return af.apply(this,arguments)}(this._delegate,w,D||void 0)}setPersistence(w){var D=this;return(0,c.Z)(function*(){let R;switch(function(T,y){va(Object.values(ni).includes(y),T,"invalid-persistence-type"),(0,Z.b$)()?va(y!==ni.SESSION,T,"unsupported-persistence-type"):(0,Z.UG)()?va(y===ni.NONE,T,"unsupported-persistence-type"):qf()?va(y===ni.NONE||y===ni.LOCAL&&(0,Z.hl)(),T,"unsupported-persistence-type"):va(y===ni.NONE||Zf(),T,"unsupported-persistence-type")}(D._delegate,w),w){case ni.SESSION:R=ia;break;case ni.LOCAL:R=(yield se(Kc)._isAvailable())?Kc:il;break;case ni.NONE:R=Ht;break;default:return Le("argument-error",{appName:D._delegate.name})}return D._delegate.setPersistence(R)})()}signInAndRetrieveDataWithCredential(w){return this.signInWithCredential(w)}signInAnonymously(){return Or(this._delegate,function(T){return km.apply(this,arguments)}(this._delegate))}signInWithCredential(w){return Or(this._delegate,Vc(this._delegate,w))}signInWithCustomToken(w){return Or(this._delegate,function(T,y){return Xa.apply(this,arguments)}(this._delegate,w))}signInWithEmailAndPassword(w,D){return Or(this._delegate,function(T,y,w){return Vc((0,Z.m9)(T),Nm.credential(y,w))}(this._delegate,w,D))}signInWithEmailLink(w,D){return Or(this._delegate,function(T,y,w){return Fm.apply(this,arguments)}(this._delegate,w,D))}signInWithPhoneNumber(w,D){return Jf(this._delegate,function(T,y,w){return Xv.apply(this,arguments)}(this._delegate,w,D))}signInWithPopup(w){var D=this;return(0,c.Z)(function*(){return El(xu(),D._delegate,"operation-not-supported-in-this-environment"),Or(D._delegate,function(T,y,w){return Zs.apply(this,arguments)}(D._delegate,w,Ys))})()}signInWithRedirect(w){var D=this;return(0,c.Z)(function*(){return El(xu(),D._delegate,"operation-not-supported-in-this-environment"),yield gd(D._delegate),function(T,y,w){return function(T,y,w){return ha.apply(this,arguments)}(T,y,w)}(D._delegate,w,Ys)})()}updateCurrentUser(w){return this._delegate.updateCurrentUser(w)}verifyPasswordResetCode(w){return function(T,y){return xt.apply(this,arguments)}(this._delegate,w)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return T.Persistence=ni,T})();function Qf(T,y,w){let D=T;"function"!=typeof T&&({next:D,error:y,complete:w}=T);const R=D;return{next:K=>R(K&&Ks.getOrCreate(K)),error:y,complete:w}}class ku{constructor(){this.providerId="phone",this._delegate=new dl(hr(le.Z.auth()))}static credential(y,w){return dl.credential(y,w)}verifyPhoneNumber(y,w){return this._delegate.verifyPhoneNumber(y,w)}unwrap(){return this._delegate}}ku.PHONE_SIGN_IN_METHOD=dl.PHONE_SIGN_IN_METHOD,ku.PROVIDER_ID=dl.PROVIDER_ID;const Xf=ye;class bd{constructor(y,w,D=le.Z.app()){var R;Xf(null===(R=D.options)||void 0===R?void 0:R.apiKey,"invalid-api-key",{appName:D.name}),this._delegate=new Tn(y,w,D.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(T){T.INTERNAL.registerComponent(new ae.wA("auth-compat",y=>{const w=y.getProvider("app-compat").getImmediate(),D=y.getProvider("auth");return new E_(w,D)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Nm,FacebookAuthProvider:$v,GithubAuthProvider:Qh,GoogleAuthProvider:Jh,OAuthProvider:js,PhoneAuthProvider:ku,PhoneMultiFactorGenerator:Lf,RecaptchaVerifier:bd,TwitterAuthProvider:Mm,Auth:E_,AuthCredential:zi,Error:Z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),T.registerVersion("@firebase/auth-compat","0.1.0")}(le.Z)},1593:(Ze,De,U)=>{"use strict";U.d(De,{P:()=>ae});var c=U(9193),le=U(5917),Z=U(7574);class ae{constructor($,V,z){this.kind=$,this.value=V,this.error=z,this.hasValue="N"===$}observe($){switch(this.kind){case"N":return $.next&&$.next(this.value);case"E":return $.error&&$.error(this.error);case"C":return $.complete&&$.complete()}}do($,V,z){switch(this.kind){case"N":return $&&$(this.value);case"E":return V&&V(this.error);case"C":return z&&z()}}accept($,V,z){return $&&"function"==typeof $.next?this.observe($):this.do($,V,z)}toObservable(){switch(this.kind){case"N":return(0,le.of)(this.value);case"E":return J=this.error,new Z.y(V=>V.error(J));case"C":return(0,c.c)()}var J;throw new Error("unexpected notification kind value")}static createNext($){return void 0!==$?new ae("N",$):ae.undefinedValueNotification}static createError($){return new ae("E",void 0,$)}static createComplete(){return ae.completeNotification}}ae.completeNotification=new ae("C"),ae.undefinedValueNotification=new ae("N",void 0)},7574:(Ze,De,U)=>{"use strict";U.d(De,{y:()=>z});var c=U(7393),Z=U(9181),oe=U(6490),Q=U(6554),ae=U(4487);var V=U(2494);let z=(()=>{class Y{constructor(Ie){this._isScalar=!1,Ie&&(this._subscribe=Ie)}lift(Ie){const _e=new Y;return _e.source=this,_e.operator=Ie,_e}subscribe(Ie,_e,Me){const{operator:ie}=this,ue=function(Y,we,Ie){if(Y){if(Y instanceof c.L)return Y;if(Y[Z.b])return Y[Z.b]()}return Y||we||Ie?new c.L(Y,we,Ie):new c.L(oe.c)}(Ie,_e,Me);if(ue.add(ie?ie.call(ue,this.source):this.source||V.v.useDeprecatedSynchronousErrorHandling&&!ue.syncErrorThrowable?this._subscribe(ue):this._trySubscribe(ue)),V.v.useDeprecatedSynchronousErrorHandling&&ue.syncErrorThrowable&&(ue.syncErrorThrowable=!1,ue.syncErrorThrown))throw ue.syncErrorValue;return ue}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(_e){V.v.useDeprecatedSynchronousErrorHandling&&(Ie.syncErrorThrown=!0,Ie.syncErrorValue=_e),function(Y){for(;Y;){const{closed:we,destination:Ie,isStopped:_e}=Y;if(we||_e)return!1;Y=Ie&&Ie instanceof c.L?Ie:null}return!0}(Ie)?Ie.error(_e):console.warn(_e)}}forEach(Ie,_e){return new(_e=B(_e))((Me,ie)=>{let ue;ue=this.subscribe(je=>{try{Ie(je)}catch(Le){ie(Le),ue&&ue.unsubscribe()}},ie,Me)})}_subscribe(Ie){const{source:_e}=this;return _e&&_e.subscribe(Ie)}[Q.L](){return this}pipe(...Ie){return 0===Ie.length?this:function(Y){return 0===Y.length?ae.y:1===Y.length?Y[0]:function(Ie){return Y.reduce((_e,Me)=>Me(_e),Ie)}}(Ie)(this)}toPromise(Ie){return new(Ie=B(Ie))((_e,Me)=>{let ie;this.subscribe(ue=>ie=ue,ue=>Me(ue),()=>_e(ie))})}}return Y.create=we=>new Y(we),Y})();function B(Y){if(Y||(Y=V.v.Promise||Promise),!Y)throw new Error("no Promise impl found");return Y}},6490:(Ze,De,U)=>{"use strict";U.d(De,{c:()=>Z});var c=U(2494),le=U(4449);const Z={closed:!0,next(oe){},error(oe){if(c.v.useDeprecatedSynchronousErrorHandling)throw oe;(0,le.z)(oe)},complete(){}}},9765:(Ze,De,U)=>{"use strict";U.d(De,{Yc:()=>ae,xQ:()=>J});var c=U(7574),le=U(7393),Z=U(5319),oe=U(7971),ge=U(8858),Q=U(9181);class ae extends le.L{constructor(z){super(z),this.destination=z}}let J=(()=>{class V extends c.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[Q.b](){return new ae(this)}lift(B){const Y=new $(this,this);return Y.operator=B,Y}next(B){if(this.closed)throw new oe.N;if(!this.isStopped){const{observers:Y}=this,we=Y.length,Ie=Y.slice();for(let _e=0;_e<we;_e++)Ie[_e].next(B)}}error(B){if(this.closed)throw new oe.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:Y}=this,we=Y.length,Ie=Y.slice();for(let _e=0;_e<we;_e++)Ie[_e].error(B);this.observers.length=0}complete(){if(this.closed)throw new oe.N;this.isStopped=!0;const{observers:B}=this,Y=B.length,we=B.slice();for(let Ie=0;Ie<Y;Ie++)we[Ie].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new oe.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new oe.N;return this.hasError?(B.error(this.thrownError),Z.w.EMPTY):this.isStopped?(B.complete(),Z.w.EMPTY):(this.observers.push(B),new ge.W(this,B))}asObservable(){const B=new c.y;return B.source=this,B}}return V.create=(z,B)=>new $(z,B),V})();class $ extends J{constructor(z,B){super(),this.destination=z,this.source=B}next(z){const{destination:B}=this;B&&B.next&&B.next(z)}error(z){const{destination:B}=this;B&&B.error&&this.destination.error(z)}complete(){const{destination:z}=this;z&&z.complete&&this.destination.complete()}_subscribe(z){const{source:B}=this;return B?this.source.subscribe(z):Z.w.EMPTY}}},8858:(Ze,De,U)=>{"use strict";U.d(De,{W:()=>le});var c=U(5319);class le extends c.w{constructor(oe,ge){super(),this.subject=oe,this.subscriber=ge,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const oe=this.subject,ge=oe.observers;if(this.subject=null,!ge||0===ge.length||oe.isStopped||oe.closed)return;const Q=ge.indexOf(this.subscriber);-1!==Q&&ge.splice(Q,1)}}},7393:(Ze,De,U)=>{"use strict";U.d(De,{L:()=>ae});var c=U(9105),le=U(6490),Z=U(5319),oe=U(9181),ge=U(2494),Q=U(4449);class ae extends Z.w{constructor(V,z,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=le.c;break;case 1:if(!V){this.destination=le.c;break}if("object"==typeof V){V instanceof ae?(this.syncErrorThrowable=V.syncErrorThrowable,this.destination=V,V.add(this)):(this.syncErrorThrowable=!0,this.destination=new J(this,V));break}default:this.syncErrorThrowable=!0,this.destination=new J(this,V,z,B)}}[oe.b](){return this}static create(V,z,B){const Y=new ae(V,z,B);return Y.syncErrorThrowable=!1,Y}next(V){this.isStopped||this._next(V)}error(V){this.isStopped||(this.isStopped=!0,this._error(V))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(V){this.destination.next(V)}_error(V){this.destination.error(V),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:V}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=V,this}}class J extends ae{constructor(V,z,B,Y){super(),this._parentSubscriber=V;let we,Ie=this;(0,c.m)(z)?we=z:z&&(we=z.next,B=z.error,Y=z.complete,z!==le.c&&(Ie=Object.create(z),(0,c.m)(Ie.unsubscribe)&&this.add(Ie.unsubscribe.bind(Ie)),Ie.unsubscribe=this.unsubscribe.bind(this))),this._context=Ie,this._next=we,this._error=B,this._complete=Y}next(V){if(!this.isStopped&&this._next){const{_parentSubscriber:z}=this;ge.v.useDeprecatedSynchronousErrorHandling&&z.syncErrorThrowable?this.__tryOrSetError(z,this._next,V)&&this.unsubscribe():this.__tryOrUnsub(this._next,V)}}error(V){if(!this.isStopped){const{_parentSubscriber:z}=this,{useDeprecatedSynchronousErrorHandling:B}=ge.v;if(this._error)B&&z.syncErrorThrowable?(this.__tryOrSetError(z,this._error,V),this.unsubscribe()):(this.__tryOrUnsub(this._error,V),this.unsubscribe());else if(z.syncErrorThrowable)B?(z.syncErrorValue=V,z.syncErrorThrown=!0):(0,Q.z)(V),this.unsubscribe();else{if(this.unsubscribe(),B)throw V;(0,Q.z)(V)}}}complete(){if(!this.isStopped){const{_parentSubscriber:V}=this;if(this._complete){const z=()=>this._complete.call(this._context);ge.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?(this.__tryOrSetError(V,z),this.unsubscribe()):(this.__tryOrUnsub(z),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(V,z){try{V.call(this._context,z)}catch(B){if(this.unsubscribe(),ge.v.useDeprecatedSynchronousErrorHandling)throw B;(0,Q.z)(B)}}__tryOrSetError(V,z,B){if(!ge.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{z.call(this._context,B)}catch(Y){return ge.v.useDeprecatedSynchronousErrorHandling?(V.syncErrorValue=Y,V.syncErrorThrown=!0,!0):((0,Q.z)(Y),!0)}return!1}_unsubscribe(){const{_parentSubscriber:V}=this;this._context=null,this._parentSubscriber=null,V.unsubscribe()}}},5319:(Ze,De,U)=>{"use strict";U.d(De,{w:()=>Q});var c=U(9796),le=U(1555),Z=U(9105);const ge=(()=>{function J($){return Error.call(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((V,z)=>`${z+1}) ${V.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$,this}return J.prototype=Object.create(Error.prototype),J})();class Q{constructor($){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,$&&(this._ctorUnsubscribe=!0,this._unsubscribe=$)}unsubscribe(){let $;if(this.closed)return;let{_parentOrParents:V,_ctorUnsubscribe:z,_unsubscribe:B,_subscriptions:Y}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,V instanceof Q)V.remove(this);else if(null!==V)for(let we=0;we<V.length;++we)V[we].remove(this);if((0,Z.m)(B)){z&&(this._unsubscribe=void 0);try{B.call(this)}catch(we){$=we instanceof ge?ae(we.errors):[we]}}if((0,c.k)(Y)){let we=-1,Ie=Y.length;for(;++we<Ie;){const _e=Y[we];if((0,le.K)(_e))try{_e.unsubscribe()}catch(Me){$=$||[],Me instanceof ge?$=$.concat(ae(Me.errors)):$.push(Me)}}}if($)throw new ge($)}add($){let V=$;if(!$)return Q.EMPTY;switch(typeof $){case"function":V=new Q($);case"object":if(V===this||V.closed||"function"!=typeof V.unsubscribe)return V;if(this.closed)return V.unsubscribe(),V;if(!(V instanceof Q)){const Y=V;V=new Q,V._subscriptions=[Y]}break;default:throw new Error("unrecognized teardown "+$+" added to Subscription.")}let{_parentOrParents:z}=V;if(null===z)V._parentOrParents=this;else if(z instanceof Q){if(z===this)return V;V._parentOrParents=[z,this]}else{if(-1!==z.indexOf(this))return V;z.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[V]:B.push(V),V}remove($){const V=this._subscriptions;if(V){const z=V.indexOf($);-1!==z&&V.splice(z,1)}}}var J;function ae(J){return J.reduce(($,V)=>$.concat(V instanceof ge?V.errors:V),[])}Q.EMPTY=((J=new Q).closed=!0,J)},2494:(Ze,De,U)=>{"use strict";U.d(De,{v:()=>le});let c=!1;const le={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Z){if(Z){const oe=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+oe.stack)}else c&&console.log("RxJS: Back to a better error behavior. Thank you. <3");c=Z},get useDeprecatedSynchronousErrorHandling(){return c}}},5345:(Ze,De,U)=>{"use strict";U.d(De,{IY:()=>oe,Ds:()=>Q,ft:()=>J});var c=U(7393),le=U(7574),Z=U(7444);class oe extends c.L{constructor(V){super(),this.parent=V}_next(V){this.parent.notifyNext(V)}_error(V){this.parent.notifyError(V),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class Q extends c.L{notifyNext(V){this.destination.next(V)}notifyError(V){this.destination.error(V)}notifyComplete(){this.destination.complete()}}function J($,V){if(V.closed)return;if($ instanceof le.y)return $.subscribe(V);let z;try{z=(0,Z.s)($)(V)}catch(B){V.error(B)}return z}},2441:(Ze,De,U)=>{"use strict";U.d(De,{c:()=>ge,N:()=>Q});var c=U(9765),le=U(7574),Z=U(5319),oe=U(1307);class ge extends le.y{constructor(z,B){super(),this.source=z,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(z){return this.getSubject().subscribe(z)}getSubject(){const z=this._subject;return(!z||z.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let z=this._connection;return z||(this._isComplete=!1,z=this._connection=new Z.w,z.add(this.source.subscribe(new ae(this.getSubject(),this))),z.closed&&(this._connection=null,z=Z.w.EMPTY)),z}refCount(){return(0,oe.x)()(this)}}const Q=(()=>{const V=ge.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:V._subscribe},_isComplete:{value:V._isComplete,writable:!0},getSubject:{value:V.getSubject},connect:{value:V.connect},refCount:{value:V.refCount}}})();class ae extends c.Yc{constructor(z,B){super(z),this.connectable=B}_error(z){this._unsubscribe(),super._error(z)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const z=this.connectable;if(z){this.connectable=null;const B=z._connection;z._refCount=0,z._subject=null,z._connection=null,B&&B.unsubscribe()}}}},9193:(Ze,De,U)=>{"use strict";U.d(De,{E:()=>le,c:()=>Z});var c=U(7574);const le=new c.y(ge=>ge.complete());function Z(ge){return ge?function(ge){return new c.y(Q=>ge.schedule(()=>Q.complete()))}(ge):le}},4402:(Ze,De,U)=>{"use strict";U.d(De,{D:()=>Ie});var c=U(7574),le=U(7444),Z=U(5319),oe=U(6554),ae=U(4087),J=U(377),z=U(4072),B=U(9489);function Ie(_e,Me){return Me?function(_e,Me){if(null!=_e){if(function(_e){return _e&&"function"==typeof _e[oe.L]}(_e))return function(_e,Me){return new c.y(ie=>{const ue=new Z.w;return ue.add(Me.schedule(()=>{const je=_e[oe.L]();ue.add(je.subscribe({next(Le){ue.add(Me.schedule(()=>ie.next(Le)))},error(Le){ue.add(Me.schedule(()=>ie.error(Le)))},complete(){ue.add(Me.schedule(()=>ie.complete()))}}))})),ue})}(_e,Me);if((0,z.t)(_e))return function(_e,Me){return new c.y(ie=>{const ue=new Z.w;return ue.add(Me.schedule(()=>_e.then(je=>{ue.add(Me.schedule(()=>{ie.next(je),ue.add(Me.schedule(()=>ie.complete()))}))},je=>{ue.add(Me.schedule(()=>ie.error(je)))}))),ue})}(_e,Me);if((0,B.z)(_e))return(0,ae.r)(_e,Me);if(function(_e){return _e&&"function"==typeof _e[J.hZ]}(_e)||"string"==typeof _e)return function(_e,Me){if(!_e)throw new Error("Iterable cannot be null");return new c.y(ie=>{const ue=new Z.w;let je;return ue.add(()=>{je&&"function"==typeof je.return&&je.return()}),ue.add(Me.schedule(()=>{je=_e[J.hZ](),ue.add(Me.schedule(function(){if(ie.closed)return;let Le,tt;try{const St=je.next();Le=St.value,tt=St.done}catch(St){return void ie.error(St)}tt?ie.complete():(ie.next(Le),this.schedule())}))})),ue})}(_e,Me)}throw new TypeError((null!==_e&&typeof _e||_e)+" is not observable")}(_e,Me):_e instanceof c.y?_e:new c.y((0,le.s)(_e))}},6693:(Ze,De,U)=>{"use strict";U.d(De,{n:()=>oe});var c=U(7574),le=U(5015),Z=U(4087);function oe(ge,Q){return Q?(0,Z.r)(ge,Q):new c.y((0,le.V)(ge))}},6682:(Ze,De,U)=>{"use strict";U.d(De,{T:()=>ge});var c=U(7574),le=U(4869),Z=U(3282),oe=U(6693);function ge(...Q){let ae=Number.POSITIVE_INFINITY,J=null,$=Q[Q.length-1];return(0,le.K)($)?(J=Q.pop(),Q.length>1&&"number"==typeof Q[Q.length-1]&&(ae=Q.pop())):"number"==typeof $&&(ae=Q.pop()),null===J&&1===Q.length&&Q[0]instanceof c.y?Q[0]:(0,Z.J)(ae)((0,oe.n)(Q,J))}},5917:(Ze,De,U)=>{"use strict";U.d(De,{of:()=>oe});var c=U(4869),le=U(6693),Z=U(4087);function oe(...ge){let Q=ge[ge.length-1];return(0,c.K)(Q)?(ge.pop(),(0,Z.r)(ge,Q)):(0,le.n)(ge)}},8002:(Ze,De,U)=>{"use strict";U.d(De,{U:()=>le});var c=U(7393);function le(ge,Q){return function(J){if("function"!=typeof ge)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return J.lift(new Z(ge,Q))}}class Z{constructor(Q,ae){this.project=Q,this.thisArg=ae}call(Q,ae){return ae.subscribe(new oe(Q,this.project,this.thisArg))}}class oe extends c.L{constructor(Q,ae,J){super(Q),this.project=ae,this.count=0,this.thisArg=J||this}_next(Q){let ae;try{ae=this.project.call(this.thisArg,Q,this.count++)}catch(J){return void this.destination.error(J)}this.destination.next(ae)}}},3282:(Ze,De,U)=>{"use strict";U.d(De,{J:()=>Z});var c=U(9773),le=U(4487);function Z(oe=Number.POSITIVE_INFINITY){return(0,c.zg)(le.y,oe)}},9773:(Ze,De,U)=>{"use strict";U.d(De,{zg:()=>oe});var c=U(8002),le=U(4402),Z=U(5345);function oe(J,$,V=Number.POSITIVE_INFINITY){return"function"==typeof $?z=>z.pipe(oe((B,Y)=>(0,le.D)(J(B,Y)).pipe((0,c.U)((we,Ie)=>$(B,we,Y,Ie))),V)):("number"==typeof $&&(V=$),z=>z.lift(new ge(J,V)))}class ge{constructor($,V=Number.POSITIVE_INFINITY){this.project=$,this.concurrent=V}call($,V){return V.subscribe(new Q($,this.project,this.concurrent))}}class Q extends Z.Ds{constructor($,V,z=Number.POSITIVE_INFINITY){super($),this.project=V,this.concurrent=z,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next($){this.active<this.concurrent?this._tryNext($):this.buffer.push($)}_tryNext($){let V;const z=this.index++;try{V=this.project($,z)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(V)}_innerSub($){const V=new Z.IY(this),z=this.destination;z.add(V);const B=(0,Z.ft)($,V);B!==V&&z.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext($){this.destination.next($)}notifyComplete(){const $=this.buffer;this.active--,$.length>0?this._next($.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(Ze,De,U)=>{"use strict";U.d(De,{QV:()=>Z,ht:()=>ge});var c=U(7393),le=U(1593);function Z(ae,J=0){return function(V){return V.lift(new oe(ae,J))}}class oe{constructor(J,$=0){this.scheduler=J,this.delay=$}call(J,$){return $.subscribe(new ge(J,this.scheduler,this.delay))}}class ge extends c.L{constructor(J,$,V=0){super(J),this.scheduler=$,this.delay=V}static dispatch(J){const{notification:$,destination:V}=J;$.observe(V),this.unsubscribe()}scheduleMessage(J){this.destination.add(this.scheduler.schedule(ge.dispatch,this.delay,new Q(J,this.destination)))}_next(J){this.scheduleMessage(le.P.createNext(J))}_error(J){this.scheduleMessage(le.P.createError(J)),this.unsubscribe()}_complete(){this.scheduleMessage(le.P.createComplete()),this.unsubscribe()}}class Q{constructor(J,$){this.notification=J,this.destination=$}}},1307:(Ze,De,U)=>{"use strict";U.d(De,{x:()=>le});var c=U(7393);function le(){return function(Q){return Q.lift(new Z(Q))}}class Z{constructor(Q){this.connectable=Q}call(Q,ae){const{connectable:J}=this;J._refCount++;const $=new oe(Q,J),V=ae.subscribe($);return $.closed||($.connection=J.connect()),V}}class oe extends c.L{constructor(Q,ae){super(Q),this.connectable=ae}_unsubscribe(){const{connectable:Q}=this;if(!Q)return void(this.connection=null);this.connectable=null;const ae=Q._refCount;if(ae<=0)return void(this.connection=null);if(Q._refCount=ae-1,ae>1)return void(this.connection=null);const{connection:J}=this,$=Q._connection;this.connection=null,$&&(!J||$===J)&&$.unsubscribe()}}},8819:(Ze,De,U)=>{"use strict";U.d(De,{B:()=>ae});var c=U(2441);var oe=U(1307),ge=U(9765);function Q(){return new ge.xQ}function ae(){return J=>(0,oe.x)()(function(J,$){return function(z){let B;B="function"==typeof J?J:function(){return J};const Y=Object.create(z,c.N);return Y.source=z,Y.subjectFactory=B,Y}}(Q)(J))}},2639:(Ze,De,U)=>{"use strict";U.d(De,{R:()=>_e});var c=U(7574);let le=1;const Z=Promise.resolve(),oe={};function ge(ie){return ie in oe&&(delete oe[ie],!0)}const Q={setImmediate(ie){const ue=le++;return oe[ue]=!0,Z.then(()=>ge(ue)&&ie()),ue},clearImmediate(ie){ge(ie)}};var J=U(6465),V=U(6102);const Y=new class extends V.v{flush(ue){this.active=!0,this.scheduled=void 0;const{actions:je}=this;let Le,tt=-1,St=je.length;ue=ue||je.shift();do{if(Le=ue.execute(ue.state,ue.delay))break}while(++tt<St&&(ue=je.shift()));if(this.active=!1,Le){for(;++tt<St&&(ue=je.shift());)ue.unsubscribe();throw Le}}}(class extends J.o{constructor(ue,je){super(ue,je),this.scheduler=ue,this.work=je}requestAsyncId(ue,je,Le=0){return null!==Le&&Le>0?super.requestAsyncId(ue,je,Le):(ue.actions.push(this),ue.scheduled||(ue.scheduled=Q.setImmediate(ue.flush.bind(ue,null))))}recycleAsyncId(ue,je,Le=0){if(null!==Le&&Le>0||null===Le&&this.delay>0)return super.recycleAsyncId(ue,je,Le);0===ue.actions.length&&(Q.clearImmediate(je),ue.scheduled=void 0)}});var we=U(6561);class Ie extends c.y{constructor(ue,je=0,Le=Y){super(),this.source=ue,this.delayTime=je,this.scheduler=Le,(!(0,we.k)(je)||je<0)&&(this.delayTime=0),(!Le||"function"!=typeof Le.schedule)&&(this.scheduler=Y)}static create(ue,je=0,Le=Y){return new Ie(ue,je,Le)}static dispatch(ue){const{source:je,subscriber:Le}=ue;return this.add(je.subscribe(Le))}_subscribe(ue){return this.scheduler.schedule(Ie.dispatch,this.delayTime,{source:this.source,subscriber:ue})}}function _e(ie,ue=0){return function(Le){return Le.lift(new Me(ie,ue))}}class Me{constructor(ue,je){this.scheduler=ue,this.delay=je}call(ue,je){return new Ie(je,this.delay,this.scheduler).subscribe(ue)}}},8307:(Ze,De,U)=>{"use strict";U.d(De,{b:()=>oe});var c=U(7393),le=U(8640),Z=U(9105);function oe(ae,J,$){return function(z){return z.lift(new ge(ae,J,$))}}class ge{constructor(J,$,V){this.nextOrObserver=J,this.error=$,this.complete=V}call(J,$){return $.subscribe(new Q(J,this.nextOrObserver,this.error,this.complete))}}class Q extends c.L{constructor(J,$,V,z){super(J),this._tapNext=le.Z,this._tapError=le.Z,this._tapComplete=le.Z,this._tapError=V||le.Z,this._tapComplete=z||le.Z,(0,Z.m)($)?(this._context=this,this._tapNext=$):$&&(this._context=$,this._tapNext=$.next||le.Z,this._tapError=$.error||le.Z,this._tapComplete=$.complete||le.Z)}_next(J){try{this._tapNext.call(this._context,J)}catch($){return void this.destination.error($)}this.destination.next(J)}_error(J){try{this._tapError.call(this._context,J)}catch($){return void this.destination.error($)}this.destination.error(J)}_complete(){try{this._tapComplete.call(this._context)}catch(J){return void this.destination.error(J)}return this.destination.complete()}}},4087:(Ze,De,U)=>{"use strict";U.d(De,{r:()=>Z});var c=U(7574),le=U(5319);function Z(oe,ge){return new c.y(Q=>{const ae=new le.w;let J=0;return ae.add(ge.schedule(function(){J!==oe.length?(Q.next(oe[J++]),Q.closed||ae.add(this.schedule())):Q.complete()})),ae})}},6465:(Ze,De,U)=>{"use strict";U.d(De,{o:()=>Z});var c=U(5319);class le extends c.w{constructor(ge,Q){super()}schedule(ge,Q=0){return this}}class Z extends le{constructor(ge,Q){super(ge,Q),this.scheduler=ge,this.work=Q,this.pending=!1}schedule(ge,Q=0){if(this.closed)return this;this.state=ge;const ae=this.id,J=this.scheduler;return null!=ae&&(this.id=this.recycleAsyncId(J,ae,Q)),this.pending=!0,this.delay=Q,this.id=this.id||this.requestAsyncId(J,this.id,Q),this}requestAsyncId(ge,Q,ae=0){return setInterval(ge.flush.bind(ge,this),ae)}recycleAsyncId(ge,Q,ae=0){if(null!==ae&&this.delay===ae&&!1===this.pending)return Q;clearInterval(Q)}execute(ge,Q){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ae=this._execute(ge,Q);if(ae)return ae;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ge,Q){let J,ae=!1;try{this.work(ge)}catch($){ae=!0,J=!!$&&$||new Error($)}if(ae)return this.unsubscribe(),J}_unsubscribe(){const ge=this.id,Q=this.scheduler,ae=Q.actions,J=ae.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==J&&ae.splice(J,1),null!=ge&&(this.id=this.recycleAsyncId(Q,ge,null)),this.delay=null}}},6102:(Ze,De,U)=>{"use strict";U.d(De,{v:()=>le});let c=(()=>{class Z{constructor(ge,Q=Z.now){this.SchedulerAction=ge,this.now=Q}schedule(ge,Q=0,ae){return new this.SchedulerAction(this,ge).schedule(ae,Q)}}return Z.now=()=>Date.now(),Z})();class le extends c{constructor(oe,ge=c.now){super(oe,()=>le.delegate&&le.delegate!==this?le.delegate.now():ge()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(oe,ge=0,Q){return le.delegate&&le.delegate!==this?le.delegate.schedule(oe,ge,Q):super.schedule(oe,ge,Q)}flush(oe){const{actions:ge}=this;if(this.active)return void ge.push(oe);let Q;this.active=!0;do{if(Q=oe.execute(oe.state,oe.delay))break}while(oe=ge.shift());if(this.active=!1,Q){for(;oe=ge.shift();)oe.unsubscribe();throw Q}}}},3637:(Ze,De,U)=>{"use strict";U.d(De,{z:()=>Z,P:()=>oe});var c=U(6465);const Z=new(U(6102).v)(c.o),oe=Z},7771:(Ze,De,U)=>{"use strict";U.d(De,{c:()=>Q,N:()=>ge});var c=U(6465),Z=U(6102);const ge=new class extends Z.v{}(class extends c.o{constructor(J,$){super(J,$),this.scheduler=J,this.work=$}schedule(J,$=0){return $>0?super.schedule(J,$):(this.delay=$,this.state=J,this.scheduler.flush(this),this)}execute(J,$){return $>0||this.closed?super.execute(J,$):this._execute(J,$)}requestAsyncId(J,$,V=0){return null!==V&&V>0||null===V&&this.delay>0?super.requestAsyncId(J,$,V):J.flush(this)}}),Q=ge},377:(Ze,De,U)=>{"use strict";U.d(De,{hZ:()=>le});const le="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Ze,De,U)=>{"use strict";U.d(De,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Ze,De,U)=>{"use strict";U.d(De,{b:()=>c});const c="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Ze,De,U)=>{"use strict";U.d(De,{N:()=>le});const le=(()=>{function Z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Z.prototype=Object.create(Error.prototype),Z})()},4449:(Ze,De,U)=>{"use strict";function c(le){setTimeout(()=>{throw le},0)}U.d(De,{z:()=>c})},4487:(Ze,De,U)=>{"use strict";function c(le){return le}U.d(De,{y:()=>c})},9796:(Ze,De,U)=>{"use strict";U.d(De,{k:()=>c});const c=Array.isArray||(le=>le&&"number"==typeof le.length)},9489:(Ze,De,U)=>{"use strict";U.d(De,{z:()=>c});const c=le=>le&&"number"==typeof le.length&&"function"!=typeof le},9105:(Ze,De,U)=>{"use strict";function c(le){return"function"==typeof le}U.d(De,{m:()=>c})},6561:(Ze,De,U)=>{"use strict";U.d(De,{k:()=>le});var c=U(9796);function le(Z){return!(0,c.k)(Z)&&Z-parseFloat(Z)+1>=0}},1555:(Ze,De,U)=>{"use strict";function c(le){return null!==le&&"object"==typeof le}U.d(De,{K:()=>c})},4072:(Ze,De,U)=>{"use strict";function c(le){return!!le&&"function"!=typeof le.subscribe&&"function"==typeof le.then}U.d(De,{t:()=>c})},4869:(Ze,De,U)=>{"use strict";function c(le){return le&&"function"==typeof le.schedule}U.d(De,{K:()=>c})},8640:(Ze,De,U)=>{"use strict";function c(){}U.d(De,{Z:()=>c})},7444:(Ze,De,U)=>{"use strict";U.d(De,{s:()=>z});var c=U(5015),le=U(4449),oe=U(377),Q=U(6554),J=U(9489),$=U(4072),V=U(1555);const z=B=>{if(B&&"function"==typeof B[Q.L])return(B=>Y=>{const we=B[Q.L]();if("function"!=typeof we.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return we.subscribe(Y)})(B);if((0,J.z)(B))return(0,c.V)(B);if((0,$.t)(B))return(B=>Y=>(B.then(we=>{Y.closed||(Y.next(we),Y.complete())},we=>Y.error(we)).then(null,le.z),Y))(B);if(B&&"function"==typeof B[oe.hZ])return(B=>Y=>{const we=B[oe.hZ]();for(;;){let Ie;try{Ie=we.next()}catch(_e){return Y.error(_e),Y}if(Ie.done){Y.complete();break}if(Y.next(Ie.value),Y.closed)break}return"function"==typeof we.return&&Y.add(()=>{we.return&&we.return()}),Y})(B);{const we=`You provided ${(0,V.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(we)}}},5015:(Ze,De,U)=>{"use strict";U.d(De,{V:()=>c});const c=le=>Z=>{for(let oe=0,ge=le.length;oe<ge&&!Z.closed;oe++)Z.next(le[oe]);Z.complete()}},8181:(Ze,De,U)=>{"use strict";var c=U(7716);let le=null;function Z(){return le}const ae=new c.OlP("DocumentToken");let J=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,c.Yz7)({factory:$,token:s,providedIn:"platform"}),s})();function $(){return(0,c.LFG)(z)}const V=new c.OlP("Location Initialized");let z=(()=>{class s extends J{constructor(i){super(),this._doc=i,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Z().getBaseHref(this._doc)}onPopState(i){const o=Z().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",i,!1),()=>o.removeEventListener("popstate",i)}onHashChange(i){const o=Z().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",i,!1),()=>o.removeEventListener("hashchange",i)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(i){this.location.pathname=i}pushState(i,o,u){B()?this._history.pushState(i,o,u):this.location.hash=u}replaceState(i,o,u){B()?this._history.replaceState(i,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae))},s.\u0275prov=(0,c.Yz7)({factory:Y,token:s,providedIn:"platform"}),s})();function B(){return!!window.history.pushState}function Y(){return new z((0,c.LFG)(ae))}function we(s,r){if(0==s.length)return r;if(0==r.length)return s;let i=0;return s.endsWith("/")&&i++,r.startsWith("/")&&i++,2==i?s+r.substring(1):1==i?s+r:s+"/"+r}function Ie(s){const r=s.match(/#|\?|$/),i=r&&r.index||s.length;return s.slice(0,i-("/"===s[i-1]?1:0))+s.slice(i)}function _e(s){return s&&"?"!==s[0]?"?"+s:s}let Me=(()=>{class s{historyGo(i){throw new Error("Not implemented")}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,c.Yz7)({factory:ie,token:s,providedIn:"root"}),s})();function ie(s){const r=(0,c.LFG)(ae).location;return new je((0,c.LFG)(J),r&&r.origin||"")}const ue=new c.OlP("appBaseHref");let je=(()=>{class s extends Me{constructor(i,o){if(super(),this._platformLocation=i,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return we(this._baseHref,i)}path(i=!1){const o=this._platformLocation.pathname+_e(this._platformLocation.search),u=this._platformLocation.hash;return u&&i?`${o}${u}`:o}pushState(i,o,u,h){const m=this.prepareExternalUrl(u+_e(h));this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){const m=this.prepareExternalUrl(u+_e(h));this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(J),c.LFG(ue,8))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),Le=(()=>{class s extends Me{constructor(i,o){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(i){const o=we(this._baseHref,i);return o.length>0?"#"+o:o}pushState(i,o,u,h){let m=this.prepareExternalUrl(u+_e(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.pushState(i,o,m)}replaceState(i,o,u,h){let m=this.prepareExternalUrl(u+_e(h));0==m.length&&(m=this._platformLocation.pathname),this._platformLocation.replaceState(i,o,m)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,i)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(J),c.LFG(ue,8))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),tt=(()=>{class s{constructor(i,o){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=i;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ie(At(u)),this._platformStrategy.onPopState(h=>{this._subject.emit({url:this.path(!0),pop:!0,state:h.state,type:h.type})})}path(i=!1){return this.normalize(this._platformStrategy.path(i))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(i,o=""){return this.path()==this.normalize(i+_e(o))}normalize(i){return s.stripTrailingSlash(function(s,r){return s&&r.startsWith(s)?r.substring(s.length):r}(this._baseHref,At(i)))}prepareExternalUrl(i){return i&&"/"!==i[0]&&(i="/"+i),this._platformStrategy.prepareExternalUrl(i)}go(i,o="",u=null){this._platformStrategy.pushState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_e(o)),u)}replaceState(i,o="",u=null){this._platformStrategy.replaceState(u,"",i,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+_e(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(i=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,i)}onUrlChange(i){this._urlChangeListeners.push(i),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(i="",o){this._urlChangeListeners.forEach(u=>u(i,o))}subscribe(i,o,u){return this._subject.subscribe({next:i,error:o,complete:u})}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Me),c.LFG(J))},s.normalizeQueryParams=_e,s.joinWithSlash=we,s.stripTrailingSlash=Ie,s.\u0275prov=(0,c.Yz7)({factory:St,token:s,providedIn:"root"}),s})();function St(){return new tt((0,c.LFG)(Me),(0,c.LFG)(J))}function At(s){return s.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Zero=0]="Zero",se[se.One=1]="One",se[se.Two=2]="Two",se[se.Few=3]="Few",se[se.Many=4]="Many",se[se.Other=5]="Other",se))();const Gi=c.kL8;class Vs{}let ru=(()=>{class s extends Vs{constructor(i){super(),this.locale=i}getPluralCategory(i,o){switch(Gi(o||this.locale)(i)){case se.Zero:return"zero";case se.One:return"one";case se.Two:return"two";case se.Few:return"few";case se.Many:return"many";default:return"other"}}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.soG))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();function cr(s,r){r=encodeURIComponent(r);for(const i of s.split(";")){const o=i.indexOf("="),[u,h]=-1==o?[i,""]:[i.slice(0,o),i.slice(o+1)];if(u.trim()===r)return decodeURIComponent(h)}return null}let Yo=(()=>{class s{constructor(i,o,u,h){this._iterableDiffers=i,this._keyValueDiffers=o,this._ngEl=u,this._renderer=h,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(i){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof i?i.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(i){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof i?i.split(/\s+/):i,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const i=this._iterableDiffer.diff(this._rawClass);i&&this._applyIterableChanges(i)}else if(this._keyValueDiffer){const i=this._keyValueDiffer.diff(this._rawClass);i&&this._applyKeyValueChanges(i)}}_applyKeyValueChanges(i){i.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),i.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),i.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(i){i.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),i.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(o=>this._toggleClass(o,!0)):Object.keys(i).forEach(o=>this._toggleClass(o,!!i[o])))}_removeClasses(i){i&&(Array.isArray(i)||i instanceof Set?i.forEach(o=>this._toggleClass(o,!1)):Object.keys(i).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(i,o){(i=i.trim())&&i.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},s.\u0275dir=c.lG2({type:s,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),s})(),Rn=(()=>{class s{constructor(i,o){this._viewContainer=i,this._context=new su,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){Ya("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){Ya("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,o){return!0}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(c.s_b),c.Y36(c.Rgc))},s.\u0275dir=c.lG2({type:s,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),s})();class su{constructor(){this.$implicit=null,this.ngIf=null}}function Ya(s,r){if(r&&!r.createEmbeddedView)throw new Error(`${s} must be a TemplateRef, but received '${(0,c.AaK)(r)}'.`)}let Mr=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[{provide:Vs,useClass:ru}]}),s})();function Xh(s){return"server"===s}let Oc=(()=>{class s{}return s.\u0275prov=(0,c.Yz7)({token:s,providedIn:"root",factory:()=>new ef((0,c.LFG)(ae),window)}),s})();class ef{constructor(r,i){this.document=r,this.window=i,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const i=function(s,r){const i=s.getElementById(r)||s.getElementsByName(r)[0];if(i)return i;if("function"==typeof s.createTreeWalker&&s.body&&(s.body.createShadowRoot||s.body.attachShadow)){const o=s.createTreeWalker(s.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const h=u.shadowRoot;if(h){const m=h.getElementById(r)||h.querySelector(`[name="${r}"]`);if(m)return m}u=o.nextNode()}}return null}(this.document,r);i&&(this.scrollToElement(i),this.attemptFocus(i))}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const i=this.window.history;i&&i.scrollRestoration&&(i.scrollRestoration=r)}}scrollToElement(r){const i=r.getBoundingClientRect(),o=i.left+this.window.pageXOffset,u=i.top+this.window.pageYOffset,h=this.offset();this.window.scrollTo(o-h[0],u-h[1])}attemptFocus(r){return r.focus(),this.document.activeElement===r}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Pc(this.window.history)||Pc(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Pc(s){return Object.getOwnPropertyDescriptor(s,"scrollRestoration")}class nf{}class Lc extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var s;s=new Lc,le||(le=s)}onAndCancel(r,i,o){return r.addEventListener(i,o,!1),()=>{r.removeEventListener(i,o,!1)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,i){return(i=i||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return"window"===i?window:"document"===i?r:"body"===i?r.body:null}getBaseHref(r){const i=(Qo=Qo||document.querySelector("base"),Qo?Qo.getAttribute("href"):null);return null==i?null:function(s){dn=dn||document.createElement("a"),dn.setAttribute("href",s);const r=dn.pathname;return"/"===r.charAt(0)?r:`/${r}`}(i)}resetBaseElement(){Qo=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return cr(document.cookie,r)}}let dn,Qo=null;const Vc=new c.OlP("TRANSITION_ID"),fi=[{provide:c.ip1,useFactory:function(s,r,i){return()=>{i.get(c.CZH).donePromise.then(()=>{const o=Z(),u=r.querySelectorAll(`style[ng-transition="${s}"]`);for(let h=0;h<u.length;h++)o.remove(u[h])})}},deps:[Vc,ae,c.zs3],multi:!0}];class lu{static init(){(0,c.VLi)(new lu)}addToWindow(r){c.dqk.getAngularTestability=(o,u=!0)=>{const h=r.findTestabilityInTree(o,u);if(null==h)throw new Error("Could not find testability for element.");return h},c.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(o=>{const u=c.dqk.getAllAngularTestabilities();let h=u.length,m=!1;const v=function(C){m=m||C,h--,0==h&&o(m)};u.forEach(function(C){C.whenStable(v)})})}findTestabilityInTree(r,i,o){if(null==i)return null;const u=r.getTestability(i);return null!=u?u:o?Z().isShadowRoot(i)?this.findTestabilityInTree(r,i.host,!0):this.findTestabilityInTree(r,i.parentElement,!0):null}}let Uc=(()=>{class s{build(){return new XMLHttpRequest}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const Xo=new c.OlP("EventManagerPlugins");let Se=(()=>{class s{constructor(i,o){this._zone=o,this._eventNameToPlugin=new Map,i.forEach(u=>u.manager=this),this._plugins=i.slice().reverse()}addEventListener(i,o,u){return this._findPluginFor(o).addEventListener(i,o,u)}addGlobalEventListener(i,o,u){return this._findPluginFor(o).addGlobalEventListener(i,o,u)}getZone(){return this._zone}_findPluginFor(i){const o=this._eventNameToPlugin.get(i);if(o)return o;const u=this._plugins;for(let h=0;h<u.length;h++){const m=u[h];if(m.supports(i))return this._eventNameToPlugin.set(i,m),m}throw new Error(`No event manager plugin found for event ${i}`)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Xo),c.LFG(c.R0b))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class xt{constructor(r){this._doc=r}addGlobalEventListener(r,i,o){const u=Z().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${i}`);return this.addEventListener(u,i,o)}}let cf=(()=>{class s{constructor(){this._stylesSet=new Set}addStyles(i){const o=new Set;i.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(i){}getAllStyles(){return Array.from(this._stylesSet)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),un=(()=>{class s extends cf{constructor(i){super(),this._doc=i,this._hostNodes=new Map,this._hostNodes.set(i.head,[])}_addStylesToHost(i,o,u){i.forEach(h=>{const m=this._doc.createElement("style");m.textContent=h,u.push(o.appendChild(m))})}addHost(i){const o=[];this._addStylesToHost(this._stylesSet,i,o),this._hostNodes.set(i,o)}removeHost(i){const o=this._hostNodes.get(i);o&&o.forEach(df),this._hostNodes.delete(i)}onStylesAdded(i){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(i,u,o)})}ngOnDestroy(){this._hostNodes.forEach(i=>i.forEach(df))}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();function df(s){Z().remove(s)}const ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Jr=/%COMP%/g;function xn(s,r,i){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?xn(s,u,i):(u=u.replace(Jr,s),i.push(u))}return i}function Ki(s){return r=>{if("__ngUnwrap__"===r)return s;!1===s(r)&&(r.preventDefault(),r.returnValue=!1)}}let Hs=(()=>{class s{constructor(i,o,u){this.eventManager=i,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new gi(i)}createRenderer(i,o){if(!i||!o)return this.defaultRenderer;switch(o.encapsulation){case c.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new ff(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(i),u}case 1:case c.ifc.ShadowDom:return new pf(this.eventManager,this.sharedStylesHost,i,o);default:if(!this.rendererByCompId.has(o.id)){const u=xn(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Se),c.LFG(un),c.LFG(c.AFp))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class gi{constructor(r){this.eventManager=r,this.data=Object.create(null)}destroy(){}createElement(r,i){return i?document.createElementNS(ea[i]||i,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,i){r.appendChild(i)}insertBefore(r,i,o){r&&r.insertBefore(i,o)}removeChild(r,i){r&&r.removeChild(i)}selectRootElement(r,i){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return i||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,o,u){if(u){i=u+":"+i;const h=ea[u];h?r.setAttributeNS(h,i,o):r.setAttribute(i,o)}else r.setAttribute(i,o)}removeAttribute(r,i,o){if(o){const u=ea[o];u?r.removeAttributeNS(u,i):r.removeAttribute(`${o}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,o,u){u&(c.JOm.DashCase|c.JOm.Important)?r.style.setProperty(i,o,u&c.JOm.Important?"important":""):r.style[i]=o}removeStyle(r,i,o){o&c.JOm.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,o){r[i]=o}setValue(r,i){r.nodeValue=i}listen(r,i,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,i,Ki(o)):this.eventManager.addEventListener(r,i,Ki(o))}}class ff extends gi{constructor(r,i,o,u){super(r),this.component=o;const h=xn(u+"-"+o.id,o.styles,[]);i.addStyles(h),this.contentAttr="_ngcontent-%COMP%".replace(Jr,u+"-"+o.id),this.hostAttr=function(s){return"_nghost-%COMP%".replace(Jr,s)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,i){const o=super.createElement(r,i);return super.setAttribute(o,this.contentAttr,""),o}}class pf extends gi{constructor(r,i,o,u){super(r),this.sharedStylesHost=i,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=xn(u.id,u.styles,[]);for(let m=0;m<h.length;m++){const v=document.createElement("style");v.textContent=h[m],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,o){return super.insertBefore(this.nodeOrShadowRoot(r),i,o)}removeChild(r,i){return super.removeChild(this.nodeOrShadowRoot(r),i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let gf=(()=>{class s extends xt{constructor(i){super(i)}supports(i){return!0}addEventListener(i,o,u){return i.addEventListener(o,u,!1),()=>this.removeEventListener(i,o,u)}removeEventListener(i,o,u){return i.removeEventListener(o,u)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const cu=["alt","control","meta","shift"],YE={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Rr={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},_f={alt:s=>s.altKey,control:s=>s.ctrlKey,meta:s=>s.metaKey,shift:s=>s.shiftKey};let ra=(()=>{class s extends xt{constructor(i){super(i)}supports(i){return null!=s.parseEventName(i)}addEventListener(i,o,u){const h=s.parseEventName(o),m=s.eventCallback(h.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Z().onAndCancel(i,h.domEventName,m))}static parseEventName(i){const o=i.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const h=s._normalizeKey(o.pop());let m="";if(cu.forEach(C=>{const S=o.indexOf(C);S>-1&&(o.splice(S,1),m+=C+".")}),m+=h,0!=o.length||0===h.length)return null;const v={};return v.domEventName=u,v.fullKey=m,v}static getEventFullKey(i){let o="",u=function(s){let r=s.key;if(null==r){if(r=s.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===s.location&&Rr.hasOwnProperty(r)&&(r=Rr[r]))}return YE[r]||r}(i);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),cu.forEach(h=>{h!=u&&_f[h](i)&&(o+=h+".")}),o+=u,o}static eventCallback(i,o,u){return h=>{s.getEventFullKey(h)===i&&u.runGuarded(()=>o(h))}}static _normalizeKey(i){switch(i){case"esc":return"escape";default:return i}}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const fu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function(){Lc.makeCurrent(),lu.init()},multi:!0},{provide:ae,useFactory:function(){return(0,c.RDi)(document),document},deps:[]}]),jm=[[],{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function(){return new c.qLn},deps:[]},{provide:Xo,useClass:gf,multi:!0,deps:[ae,c.R0b,c.Lbi]},{provide:Xo,useClass:ra,multi:!0,deps:[ae]},[],{provide:Hs,useClass:Hs,deps:[Se,un,c.AFp]},{provide:c.FYo,useExisting:Hs},{provide:cf,useExisting:un},{provide:un,useClass:un,deps:[ae]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:Se,useClass:Se,deps:[Xo,c.R0b]},{provide:nf,useClass:Uc,deps:[]},[]];let il=(()=>{class s{constructor(i){if(i)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(i){return{ngModule:s,providers:[{provide:c.AFp,useValue:i.appId},{provide:Vc,useExisting:c.AFp},fi]}}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(s,12))},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:jm,imports:[Mr,c.hGG]}),s})();"undefined"!=typeof window&&window;class yu{}const xi="*";function ll(s,r){return{type:7,name:s,definitions:r,options:{}}}function dr(s,r=null){return{type:4,styles:r,timings:s}}function ul(s,r=null){return{type:3,steps:s,options:r}}function Ef(s,r=null){return{type:2,steps:s,options:r}}function Ut(s){return{type:6,styles:s,offset:null}}function ki(s,r,i=null){return{type:1,expr:s,animation:r,options:i}}function Oi(s=null){return{type:9,options:s}}function $t(s,r,i=null){return{type:11,selector:s,animation:r,options:i}}function oa(s,r){return{type:12,timings:s,animation:r}}function Cf(s){Promise.resolve(null).then(s)}class po{constructor(r=0,i=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+i}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Cf(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class aa{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let i=0,o=0,u=0;const h=this.players.length;0==h?Cf(()=>this._onFinish()):this.players.forEach(m=>{m.onDone(()=>{++i==h&&this._onFinish()}),m.onDestroy(()=>{++o==h&&this._onDestroy()}),m.onStart(()=>{++u==h&&this._onStart()})}),this.totalTime=this.players.reduce((m,v)=>Math.max(m,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const i=r*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,i/o.totalTime):1;o.setPosition(u)})}getPosition(){const r=this.players.reduce((i,o)=>null===i||o.totalTime>i.totalTime?o:i,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}function la(){return"undefined"!=typeof window&&void 0!==window.document}function mo(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qr(s){switch(s.length){case 0:return new po;case 1:return s[0];default:return new aa(s)}}function Jc(s,r,i,o,u={},h={}){const m=[],v=[];let C=-1,S=null;if(o.forEach(N=>{const x=N.offset,F=x==C,L=F&&S||{};Object.keys(N).forEach(q=>{let re=q,be=N[q];if("offset"!==q)switch(re=r.normalizePropertyName(re,m),be){case"!":be=u[q];break;case xi:be=h[q];break;default:be=r.normalizeStyleValue(q,re,be,m)}L[re]=be}),F||v.push(L),S=L,C=x}),m.length){const N="\n - ";throw new Error(`Unable to animate due to the following errors:${N}${m.join(N)}`)}return v}function $s(s,r,i,o){switch(r){case"start":s.onStart(()=>o(i&&qm(i,"start",s)));break;case"done":s.onDone(()=>o(i&&qm(i,"done",s)));break;case"destroy":s.onDestroy(()=>o(i&&qm(i,"destroy",s)))}}function qm(s,r,i){const o=i.totalTime,h=zm(s.element,s.triggerName,s.fromState,s.toState,r||s.phaseName,null==o?s.totalTime:o,!!i.disabled),m=s._data;return null!=m&&(h._data=m),h}function zm(s,r,i,o,u="",h=0,m){return{element:s,triggerName:r,fromState:i,toState:o,phaseName:u,totalTime:h,disabled:!!m}}function mi(s,r,i){let o;return s instanceof Map?(o=s.get(r),o||s.set(r,o=i)):(o=s[r],o||(o=s[r]=i)),o}function Wm(s){const r=s.indexOf(":");return[s.substring(1,r),s.substr(r+1)]}let Tf=(s,r)=>!1,Df=(s,r)=>!1,Qv=(s,r,i)=>[];const e0=mo();(e0||"undefined"!=typeof Element)&&(Tf=la()?(s,r)=>{for(;r&&r!==document.documentElement;){if(r===s)return!0;r=r.parentNode||r.host}return!1}:(s,r)=>s.contains(r),Df=(()=>{if(e0||Element.prototype.matches)return(s,r)=>s.matches(r);{const s=Element.prototype,r=s.matchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||s.webkitMatchesSelector;return r?(i,o)=>r.apply(i,[o]):Df}})(),Qv=(s,r,i)=>{let o=[];if(i){const u=s.querySelectorAll(r);for(let h=0;h<u.length;h++)o.push(u[h])}else{const u=s.querySelector(r);u&&o.push(u)}return o});let cl=null,Sf=!1;function bu(s){cl||(cl=("undefined"!=typeof document?document.body:null)||{},Sf=!!cl.style&&"WebkitAppearance"in cl.style);let r=!0;return cl.style&&!function(s){return"ebkit"==s.substring(1,6)}(s)&&(r=s in cl.style,!r&&Sf&&(r="Webkit"+s.charAt(0).toUpperCase()+s.substr(1)in cl.style)),r}const Jm=Df,Gs=Tf,dl=Qv;function nn(s){const r={};return Object.keys(s).forEach(i=>{const o=i.replace(/([a-z])([A-Z])/g,"$1-$2");r[o]=s[i]}),r}let ua=(()=>{class s{validateStyleProperty(i){return bu(i)}matchesElement(i,o){return Jm(i,o)}containsElement(i,o){return Gs(i,o)}query(i,o,u){return dl(i,o,u)}computeStyle(i,o,u){return u||""}animate(i,o,u,h,m,v=[],C){return new po(u,h)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class ca{}ca.NOOP=new ua;const _i="ng-enter",da="ng-leave",wu="ng-trigger",fl=".ng-trigger",Xm="ng-animating",Qc=".ng-animating";function _o(s){if("number"==typeof s)return s;const r=s.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:Xc(parseFloat(r[1]),r[2])}function Xc(s,r){switch(r){case"s":return 1e3*s;default:return s}}function qn(s,r,i){return s.hasOwnProperty("duration")?s:function(s,r,i){let u,h=0,m="";if("string"==typeof s){const v=s.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return r.push(`The provided timing value "${s}" is invalid.`),{duration:0,delay:0,easing:""};u=Xc(parseFloat(v[1]),v[2]);const C=v[3];null!=C&&(h=Xc(parseFloat(C),v[4]));const S=v[5];S&&(m=S)}else u=s;if(!i){let v=!1,C=r.length;u<0&&(r.push("Duration values below 0 are not allowed for this animation step."),v=!0),h<0&&(r.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&r.splice(C,0,`The provided timing value "${s}" is invalid.`)}return{duration:u,delay:h,easing:m}}(s,r,i)}function Qi(s,r={}){return Object.keys(s).forEach(i=>{r[i]=s[i]}),r}function Xi(s,r,i={}){if(r)for(let o in s)i[o]=s[o];else Qi(s,i);return i}function ed(s,r,i){return i?r+":"+i+";":""}function e_(s){let r="";for(let i=0;i<s.style.length;i++){const o=s.style.item(i);r+=ed(0,o,s.style.getPropertyValue(o))}for(const i in s.style)s.style.hasOwnProperty(i)&&!i.startsWith("_")&&(r+=ed(0,xf(i),s.style[i]));s.setAttribute("style",r)}function Pi(s,r,i){s.style&&(Object.keys(r).forEach(o=>{const u=vo(o);i&&!i.hasOwnProperty(o)&&(i[o]=s.style[u]),s.style[u]=r[o]}),mo()&&e_(s))}function yo(s,r){s.style&&(Object.keys(r).forEach(i=>{const o=vo(i);s.style[o]=""}),mo()&&e_(s))}function Eu(s){return Array.isArray(s)?1==s.length?s[0]:Ef(s):s}const ha=new RegExp("{{\\s*(.+?)\\s*}}","g");function Tu(s){let r=[];if("string"==typeof s){let i;for(;i=ha.exec(s);)r.push(i[1]);ha.lastIndex=0}return r}function Mf(s,r,i){const o=s.toString(),u=o.replace(ha,(h,m)=>{let v=r[m];return r.hasOwnProperty(m)||(i.push(`Please provide a value for the animation param ${m}`),v=""),v.toString()});return u==o?s:u}function bs(s){const r=[];let i=s.next();for(;!i.done;)r.push(i.value),i=s.next();return r}const Rf=/-+([a-z0-9])/g;function vo(s){return s.replace(Rf,(...r)=>r[1].toUpperCase())}function xf(s){return s.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function t_(s,r){return 0===s||0===r}function td(s,r,i){const o=Object.keys(i);if(o.length&&r.length){let h=r[0],m=[];if(o.forEach(v=>{h.hasOwnProperty(v)||m.push(v),h[v]=i[v]}),m.length)for(var u=1;u<r.length;u++){let v=r[u];m.forEach(function(C){v[C]=nd(s,C)})}}return r}function zn(s,r,i){switch(r.type){case 7:return s.visitTrigger(r,i);case 0:return s.visitState(r,i);case 1:return s.visitTransition(r,i);case 2:return s.visitSequence(r,i);case 3:return s.visitGroup(r,i);case 4:return s.visitAnimate(r,i);case 5:return s.visitKeyframes(r,i);case 6:return s.visitStyle(r,i);case 8:return s.visitReference(r,i);case 9:return s.visitAnimateChild(r,i);case 10:return s.visitAnimateRef(r,i);case 11:return s.visitQuery(r,i);case 12:return s.visitStagger(r,i);default:throw new Error(`Unable to resolve animation metadata node #${r.type}`)}}function nd(s,r){return window.getComputedStyle(s)[r]}function pa(s,r){const i=[];return"string"==typeof s?s.split(/\s*,\s*/).forEach(o=>function(s,r,i){if(":"==s[0]){const C=function(s,r){switch(s){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(i,o)=>parseFloat(o)>parseFloat(i);case":decrement":return(i,o)=>parseFloat(o)<parseFloat(i);default:return r.push(`The transition alias value "${s}" is not supported`),"* => *"}}(s,i);if("function"==typeof C)return void r.push(C);s=C}const o=s.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return i.push(`The provided transition expression "${s}" is not supported`),r;const u=o[1],h=o[2],m=o[3];r.push(t0(u,m));"<"==h[0]&&!("*"==u&&"*"==m)&&r.push(t0(m,u))}(o,i,r)):i.push(s),i}const hn=new Set(["true","1"]),gl=new Set(["false","0"]);function t0(s,r){const i=hn.has(s)||gl.has(s),o=hn.has(r)||gl.has(r);return(u,h)=>{let m="*"==s||s==u,v="*"==r||r==h;return!m&&i&&"boolean"==typeof u&&(m=u?hn.has(s):gl.has(s)),!v&&o&&"boolean"==typeof h&&(v=h?hn.has(r):gl.has(r)),m&&v}}const ga=new RegExp("s*:selfs*,?","g");function kf(s,r,i){return new r_(s).build(r,i)}class r_{constructor(r){this._driver=r}build(r,i){const o=new zs(i);return this._resetContextStyleTimingState(o),zn(this,Eu(r),o)}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,i){let o=i.queryCount=0,u=i.depCount=0;const h=[],m=[];return"@"==r.name.charAt(0)&&i.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),r.definitions.forEach(v=>{if(this._resetContextStyleTimingState(i),0==v.type){const C=v,S=C.name;S.toString().split(/\s*,\s*/).forEach(N=>{C.name=N,h.push(this.visitState(C,i))}),C.name=S}else if(1==v.type){const C=this.visitTransition(v,i);o+=C.queryCount,u+=C.depCount,m.push(C)}else i.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:r.name,states:h,transitions:m,queryCount:o,depCount:u,options:null}}visitState(r,i){const o=this.visitStyle(r.styles,i),u=r.options&&r.options.params||null;if(o.containsDynamicStyles){const h=new Set,m=u||{};if(o.styles.forEach(v=>{if(es(v)){const C=v;Object.keys(C).forEach(S=>{Tu(C[S]).forEach(N=>{m.hasOwnProperty(N)||h.add(N)})})}}),h.size){const v=bs(h.values());i.errors.push(`state("${r.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:r.name,style:o,options:u?{params:u}:null}}visitTransition(r,i){i.queryCount=0,i.depCount=0;const o=zn(this,Eu(r.animation),i);return{type:1,matchers:pa(r.expr,i.errors),animation:o,queryCount:i.queryCount,depCount:i.depCount,options:bo(r.options)}}visitSequence(r,i){return{type:2,steps:r.steps.map(o=>zn(this,o,i)),options:bo(r.options)}}visitGroup(r,i){const o=i.currentTime;let u=0;const h=r.steps.map(m=>{i.currentTime=o;const v=zn(this,m,i);return u=Math.max(u,i.currentTime),v});return i.currentTime=u,{type:3,steps:h,options:bo(r.options)}}visitAnimate(r,i){const o=function(s,r){let i=null;if(s.hasOwnProperty("duration"))i=s;else if("number"==typeof s)return Iu(qn(s,r).duration,0,"");const o=s;if(o.split(/\s+/).some(h=>"{"==h.charAt(0)&&"{"==h.charAt(1))){const h=Iu(0,0,"");return h.dynamic=!0,h.strValue=o,h}return i=i||qn(o,r),Iu(i.duration,i.delay,i.easing)}(r.timings,i.errors);i.currentAnimateTimings=o;let u,h=r.styles?r.styles:Ut({});if(5==h.type)u=this.visitKeyframes(h,i);else{let m=r.styles,v=!1;if(!m){v=!0;const S={};o.easing&&(S.easing=o.easing),m=Ut(S)}i.currentTime+=o.duration+o.delay;const C=this.visitStyle(m,i);C.isEmptyStep=v,u=C}return i.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(r,i){const o=this._makeStyleAst(r,i);return this._validateStyleAst(o,i),o}_makeStyleAst(r,i){const o=[];Array.isArray(r.styles)?r.styles.forEach(m=>{"string"==typeof m?m==xi?o.push(m):i.errors.push(`The provided style string value ${m} is not allowed.`):o.push(m)}):o.push(r.styles);let u=!1,h=null;return o.forEach(m=>{if(es(m)){const v=m,C=v.easing;if(C&&(h=C,delete v.easing),!u)for(let S in v)if(v[S].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:h,offset:r.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(r,i){const o=i.currentAnimateTimings;let u=i.currentTime,h=i.currentTime;o&&h>0&&(h-=o.duration+o.delay),r.styles.forEach(m=>{"string"!=typeof m&&Object.keys(m).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void i.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const C=i.collectedStyles[i.currentQuerySelector],S=C[v];let N=!0;S&&(h!=u&&h>=S.startTime&&u<=S.endTime&&(i.errors.push(`The CSS property "${v}" that exists between the times of "${S.startTime}ms" and "${S.endTime}ms" is also being animated in a parallel animation between the times of "${h}ms" and "${u}ms"`),N=!1),h=S.startTime),N&&(C[v]={startTime:h,endTime:u}),i.options&&function(s,r,i){const o=r.params||{},u=Tu(s);u.length&&u.forEach(h=>{o.hasOwnProperty(h)||i.push(`Unable to resolve the local animation param ${h} in the given list of values`)})}(m[v],i.options,i.errors)})})}visitKeyframes(r,i){const o={type:5,styles:[],options:null};if(!i.currentAnimateTimings)return i.errors.push("keyframes() must be placed inside of a call to animate()"),o;let h=0;const m=[];let v=!1,C=!1,S=0;const N=r.steps.map(xe=>{const Pe=this._makeStyleAst(xe,i);let Ye=null!=Pe.offset?Pe.offset:function(s){if("string"==typeof s)return null;let r=null;if(Array.isArray(s))s.forEach(i=>{if(es(i)&&i.hasOwnProperty("offset")){const o=i;r=parseFloat(o.offset),delete o.offset}});else if(es(s)&&s.hasOwnProperty("offset")){const i=s;r=parseFloat(i.offset),delete i.offset}return r}(Pe.styles),st=0;return null!=Ye&&(h++,st=Pe.offset=Ye),C=C||st<0||st>1,v=v||st<S,S=st,m.push(st),Pe});C&&i.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&i.errors.push("Please ensure that all keyframe offsets are in order");const x=r.steps.length;let F=0;h>0&&h<x?i.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==h&&(F=1/(x-1));const L=x-1,q=i.currentTime,re=i.currentAnimateTimings,be=re.duration;return N.forEach((xe,Pe)=>{const Ye=F>0?Pe==L?1:F*Pe:m[Pe],st=Ye*be;i.currentTime=q+re.delay+st,re.duration=st,this._validateStyleAst(xe,i),xe.offset=Ye,o.styles.push(xe)}),o}visitReference(r,i){return{type:8,animation:zn(this,Eu(r.animation),i),options:bo(r.options)}}visitAnimateChild(r,i){return i.depCount++,{type:9,options:bo(r.options)}}visitAnimateRef(r,i){return{type:10,animation:this.visitReference(r.animation,i),options:bo(r.options)}}visitQuery(r,i){const o=i.currentQuerySelector,u=r.options||{};i.queryCount++,i.currentQuery=r;const[h,m]=function(s){const r=!!s.split(/\s*,\s*/).find(i=>":self"==i);return r&&(s=s.replace(ga,"")),[s=s.replace(/@\*/g,fl).replace(/@\w+/g,i=>fl+"-"+i.substr(1)).replace(/:animating/g,Qc),r]}(r.selector);i.currentQuerySelector=o.length?o+" "+h:h,mi(i.collectedStyles,i.currentQuerySelector,{});const v=zn(this,Eu(r.animation),i);return i.currentQuery=null,i.currentQuerySelector=o,{type:11,selector:h,limit:u.limit||0,optional:!!u.optional,includeSelf:m,animation:v,originalSelector:r.selector,options:bo(r.options)}}visitStagger(r,i){i.currentQuery||i.errors.push("stagger() can only be used inside of query()");const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:qn(r.timings,i.errors,!0);return{type:12,animation:zn(this,Eu(r.animation),i),timings:o,options:null}}}class zs{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function es(s){return!Array.isArray(s)&&"object"==typeof s}function bo(s){return s?(s=Qi(s)).params&&(s.params=function(s){return s?Qi(s):null}(s.params)):s={},s}function Iu(s,r,i){return{duration:s,delay:r,easing:i}}function _l(s,r,i,o,u,h,m=null,v=!1){return{type:1,element:s,keyframes:r,preStyleProps:i,postStyleProps:o,duration:u,delay:h,totalTime:u+h,easing:m,subTimeline:v}}class Su{constructor(){this._map=new Map}consume(r){let i=this._map.get(r);return i?this._map.delete(r):i=[],i}append(r,i){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...i)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const yl=new RegExp(":enter","g"),Pf=new RegExp(":leave","g");function s_(s,r,i,o,u,h={},m={},v,C,S=[]){return(new o_).buildKeyframes(s,r,i,o,u,h,m,v,C,S)}class o_{buildKeyframes(r,i,o,u,h,m,v,C,S,N=[]){S=S||new Su;const x=new a_(r,i,S,u,h,N,[]);x.options=C,x.currentTimeline.setStyles([m],null,x.errors,C),zn(this,o,x);const F=x.timelines.filter(L=>L.containsAnimation());if(F.length&&Object.keys(v).length){const L=F[F.length-1];L.allowOnlyTimelineStyles()||L.setStyles([v],null,x.errors,C)}return F.length?F.map(L=>L.buildKeyframes()):[_l(i,[],[],[],0,0,"",!1)]}visitTrigger(r,i){}visitState(r,i){}visitTransition(r,i){}visitAnimateChild(r,i){const o=i.subInstructions.consume(i.element);if(o){const u=i.createSubContext(r.options),h=i.currentTimeline.currentTime,m=this._visitSubInstructions(o,u,u.options);h!=m&&i.transformIntoNewTimeline(m)}i.previousNode=r}visitAnimateRef(r,i){const o=i.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),i.transformIntoNewTimeline(o.currentTimeline.currentTime),i.previousNode=r}_visitSubInstructions(r,i,o){let h=i.currentTimeline.currentTime;const m=null!=o.duration?_o(o.duration):null,v=null!=o.delay?_o(o.delay):null;return 0!==m&&r.forEach(C=>{const S=i.appendInstructionToTimeline(C,m,v);h=Math.max(h,S.duration+S.delay)}),h}visitReference(r,i){i.updateOptions(r.options,!0),zn(this,r.animation,i),i.previousNode=r}visitSequence(r,i){const o=i.subContextCount;let u=i;const h=r.options;if(h&&(h.params||h.delay)&&(u=i.createSubContext(h),u.transformIntoNewTimeline(),null!=h.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=id);const m=_o(h.delay);u.delayNextStep(m)}r.steps.length&&(r.steps.forEach(m=>zn(this,m,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),i.previousNode=r}visitGroup(r,i){const o=[];let u=i.currentTimeline.currentTime;const h=r.options&&r.options.delay?_o(r.options.delay):0;r.steps.forEach(m=>{const v=i.createSubContext(r.options);h&&v.delayNextStep(h),zn(this,m,v),u=Math.max(u,v.currentTimeline.currentTime),o.push(v.currentTimeline)}),o.forEach(m=>i.currentTimeline.mergeTimelineCollectedStyles(m)),i.transformIntoNewTimeline(u),i.previousNode=r}_visitTiming(r,i){if(r.dynamic){const o=r.strValue;return qn(i.params?Mf(o,i.params,i.errors):o,i.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,i){const o=i.currentAnimateTimings=this._visitTiming(r.timings,i),u=i.currentTimeline;o.delay&&(i.incrementTime(o.delay),u.snapshotCurrentStyles());const h=r.style;5==h.type?this.visitKeyframes(h,i):(i.incrementTime(o.duration),this.visitStyle(h,i),u.applyStylesToKeyframe()),i.currentAnimateTimings=null,i.previousNode=r}visitStyle(r,i){const o=i.currentTimeline,u=i.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const h=u&&u.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(h):o.setStyles(r.styles,h,i.errors,i.options),i.previousNode=r}visitKeyframes(r,i){const o=i.currentAnimateTimings,u=i.currentTimeline.duration,h=o.duration,v=i.createSubContext().currentTimeline;v.easing=o.easing,r.styles.forEach(C=>{v.forwardTime((C.offset||0)*h),v.setStyles(C.styles,C.easing,i.errors,i.options),v.applyStylesToKeyframe()}),i.currentTimeline.mergeTimelineCollectedStyles(v),i.transformIntoNewTimeline(u+h),i.previousNode=r}visitQuery(r,i){const o=i.currentTimeline.currentTime,u=r.options||{},h=u.delay?_o(u.delay):0;h&&(6===i.previousNode.type||0==o&&i.currentTimeline.getCurrentStyleProperties().length)&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=id);let m=o;const v=i.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!u.optional,i.errors);i.currentQueryTotal=v.length;let C=null;v.forEach((S,N)=>{i.currentQueryIndex=N;const x=i.createSubContext(r.options,S);h&&x.delayNextStep(h),S===i.element&&(C=x.currentTimeline),zn(this,r.animation,x),x.currentTimeline.applyStylesToKeyframe(),m=Math.max(m,x.currentTimeline.currentTime)}),i.currentQueryIndex=0,i.currentQueryTotal=0,i.transformIntoNewTimeline(m),C&&(i.currentTimeline.mergeTimelineCollectedStyles(C),i.currentTimeline.snapshotCurrentStyles()),i.previousNode=r}visitStagger(r,i){const o=i.parentContext,u=i.currentTimeline,h=r.timings,m=Math.abs(h.duration),v=m*(i.currentQueryTotal-1);let C=m*i.currentQueryIndex;switch(h.duration<0?"reverse":h.easing){case"reverse":C=v-C;break;case"full":C=o.currentStaggerTime}const N=i.currentTimeline;C&&N.delayNextStep(C);const x=N.currentTime;zn(this,r.animation,i),i.previousNode=r,o.currentStaggerTime=u.currentTime-x+(u.startTime-o.currentTimeline.startTime)}}const id={};class a_{constructor(r,i,o,u,h,m,v,C){this._driver=r,this.element=i,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=h,this.errors=m,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=id,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new sd(this._driver,i,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,i){if(!r)return;const o=r;let u=this.options;null!=o.duration&&(u.duration=_o(o.duration)),null!=o.delay&&(u.delay=_o(o.delay));const h=o.params;if(h){let m=u.params;m||(m=this.options.params={}),Object.keys(h).forEach(v=>{(!i||!m.hasOwnProperty(v))&&(m[v]=Mf(h[v],m,this.errors))})}}_copyOptions(){const r={};if(this.options){const i=this.options.params;if(i){const o=r.params={};Object.keys(i).forEach(u=>{o[u]=i[u]})}}return r}createSubContext(r=null,i,o){const u=i||this.element,h=new a_(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return h.previousNode=this.previousNode,h.currentAnimateTimings=this.currentAnimateTimings,h.options=this._copyOptions(),h.updateOptions(r),h.currentQueryIndex=this.currentQueryIndex,h.currentQueryTotal=this.currentQueryTotal,h.parentContext=this,this.subContextCount++,h}transformIntoNewTimeline(r){return this.previousNode=id,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,i,o){const u={duration:null!=i?i:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},h=new l_(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,u,r.stretchStartingKeyframe);return this.timelines.push(h),u}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,i,o,u,h,m){let v=[];if(u&&v.push(this.element),r.length>0){r=(r=r.replace(yl,"."+this._enterClassName)).replace(Pf,"."+this._leaveClassName);let S=this._driver.query(this.element,r,1!=o);0!==o&&(S=o<0?S.slice(S.length+o,S.length):S.slice(0,o)),v.push(...S)}return!h&&0==v.length&&m.push(`\`query("${i}")\` returned zero elements. (Use \`query("${i}", { optional: true })\` if you wish to allow this.)`),v}}class sd{constructor(r,i,o,u){this._driver=r,this.element=i,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(i),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(i,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const i=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||i?(this.forwardTime(this.currentTime+r),i&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,i){return this.applyStylesToKeyframe(),new sd(this._driver,r,i||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,i){this._localTimelineStyles[r]=i,this._globalTimelineStyles[r]=i,this._styleSummary[r]={time:this.currentTime,value:i}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(i=>{this._backFill[i]=this._globalTimelineStyles[i]||xi,this._currentKeyframe[i]=xi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,i,o,u){i&&(this._previousKeyframe.easing=i);const h=u&&u.params||{},m=function(s,r){const i={};let o;return s.forEach(u=>{"*"===u?(o=o||Object.keys(r),o.forEach(h=>{i[h]=xi})):Xi(u,!1,i)}),i}(r,this._globalTimelineStyles);Object.keys(m).forEach(v=>{const C=Mf(m[v],h,o);this._pendingStyles[v]=C,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:xi),this._updateStyle(v,C)})}applyStylesToKeyframe(){const r=this._pendingStyles,i=Object.keys(r);0!=i.length&&(this._pendingStyles={},i.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const i=this._localTimelineStyles[r];this._pendingStyles[r]=i,this._updateStyle(r,i)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let i in this._currentKeyframe)r.push(i);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(i=>{const o=this._styleSummary[i],u=r._styleSummary[i];(!o||u.time>o.time)&&this._updateStyle(i,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,i=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((v,C)=>{const S=Xi(v,!0);Object.keys(S).forEach(N=>{const x=S[N];"!"==x?r.add(N):x==xi&&i.add(N)}),o||(S.offset=C/this.duration),u.push(S)});const h=r.size?bs(r.values()):[],m=i.size?bs(i.values()):[];if(o){const v=u[0],C=Qi(v);v.offset=0,C.offset=1,u=[v,C]}return _l(this.element,u,h,m,this.duration,this.startTime,this.easing,!1)}}class l_ extends sd{constructor(r,i,o,u,h,m,v=!1){super(r,i,m.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=h,this._stretchStartingKeyframe=v,this.timings={duration:m.duration,delay:m.delay,easing:m.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:i,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&i){const h=[],m=o+i,v=i/m,C=Xi(r[0],!1);C.offset=0,h.push(C);const S=Xi(r[0],!1);S.offset=u_(v),h.push(S);const N=r.length-1;for(let x=1;x<=N;x++){let F=Xi(r[x],!1);F.offset=u_((i+F.offset*o)/m),h.push(F)}o=m,i=0,u="",r=h}return _l(this.element,r,this.preStyleProps,this.postStyleProps,o,i,u,!0)}}function u_(s,r=3){const i=Math.pow(10,r-1);return Math.round(s*i)/i}class wo{}class s0 extends wo{normalizePropertyName(r,i){return vo(r)}normalizeStyleValue(r,i,o,u){let h="";const m=o.toString().trim();if(ad[i]&&0!==o&&"0"!==o)if("number"==typeof o)h="px";else{const v=o.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&u.push(`Please provide a CSS unit value for ${r}:${o}`)}return m+h}}const ad=(()=>function(s){const r={};return s.forEach(i=>r[i]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ff(s,r,i,o,u,h,m,v,C,S,N,x,F){return{type:0,element:s,triggerName:r,isRemovalTransition:u,fromState:i,fromStyles:h,toState:o,toStyles:m,timelines:v,queriedElements:C,preStyleProps:S,postStyleProps:N,totalTime:x,errors:F}}const vl={};class Lf{constructor(r,i,o){this._triggerName=r,this.ast=i,this._stateStyles=o}match(r,i,o,u){return function(s,r,i,o,u){return s.some(h=>h(r,i,o,u))}(this.ast.matchers,r,i,o,u)}buildStyles(r,i,o){const u=this._stateStyles["*"],h=this._stateStyles[r],m=u?u.buildStyles(i,o):{};return h?h.buildStyles(i,o):m}build(r,i,o,u,h,m,v,C,S,N){const x=[],F=this.ast.options&&this.ast.options.params||vl,q=this.buildStyles(o,v&&v.params||vl,x),re=C&&C.params||vl,be=this.buildStyles(u,re,x),xe=new Set,Pe=new Map,Ye=new Map,st="void"===u,qt={params:Object.assign(Object.assign({},F),re)},Ir=N?[]:s_(r,i,this.ast.animation,h,m,q,be,qt,S,x);let Sr=0;if(Ir.forEach(Ac=>{Sr=Math.max(Ac.duration+Ac.delay,Sr)}),x.length)return Ff(i,this._triggerName,o,u,st,q,be,[],[],Pe,Ye,Sr,x);Ir.forEach(Ac=>{const Nc=Ac.element,AP=mi(Pe,Nc,{});Ac.preStyleProps.forEach(wm=>AP[wm]=!0);const UE=mi(Ye,Nc,{});Ac.postStyleProps.forEach(wm=>UE[wm]=!0),Nc!==i&&xe.add(Nc)});const ui=bs(xe.values());return Ff(i,this._triggerName,o,u,st,q,be,Ir,ui,Pe,Ye,Sr)}}class a0{constructor(r,i,o){this.styles=r,this.defaultParams=i,this.normalizer=o}buildStyles(r,i){const o={},u=Qi(this.defaultParams);return Object.keys(r).forEach(h=>{const m=r[h];null!=m&&(u[h]=m)}),this.styles.styles.forEach(h=>{if("string"!=typeof h){const m=h;Object.keys(m).forEach(v=>{let C=m[v];C.length>1&&(C=Mf(C,u,i));const S=this.normalizer.normalizePropertyName(v,i);C=this.normalizer.normalizeStyleValue(v,S,C,i),o[S]=C})}}),o}}class u0{constructor(r,i,o){this.name=r,this.ast=i,this._normalizer=o,this.transitionFactories=[],this.states={},i.states.forEach(u=>{this.states[u.name]=new a0(u.style,u.options&&u.options.params||{},o)}),d0(this.states,"true","1"),d0(this.states,"false","0"),i.transitions.forEach(u=>{this.transitionFactories.push(new Lf(r,u,this.states))}),this.fallbackTransition=function(s,r,i){return new Lf(s,{type:1,animation:{type:2,steps:[],options:null},matchers:[(m,v)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,i,o,u){return this.transitionFactories.find(m=>m.match(r,i,o,u))||null}matchStyles(r,i,o){return this.fallbackTransition.buildStyles(r,i,o)}}function d0(s,r,i){s.hasOwnProperty(r)?s.hasOwnProperty(i)||(s[i]=s[r]):s.hasOwnProperty(i)&&(s[r]=s[i])}const xr=new Su;class bl{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,i){const o=[],u=kf(this._driver,i,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[r]=u}_buildPlayer(r,i,o){const u=r.element,h=Jc(0,this._normalizer,0,r.keyframes,i,o);return this._driver.animate(u,h,r.duration,r.delay,r.easing,[],!0)}create(r,i,o={}){const u=[],h=this._animations[r];let m;const v=new Map;if(h?(m=s_(this._driver,i,h,_i,da,{},{},o,xr,u),m.forEach(N=>{const x=mi(v,N.element,{});N.postStyleProps.forEach(F=>x[F]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),m=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);v.forEach((N,x)=>{Object.keys(N).forEach(F=>{N[F]=this._driver.computeStyle(x,F,xi)})});const S=Qr(m.map(N=>{const x=v.get(N.element);return this._buildPlayer(N,{},x)}));return this._playersById[r]=S,S.onDestroy(()=>this.destroy(r)),this.players.push(S),S}destroy(r){const i=this._getPlayer(r);i.destroy(),delete this._playersById[r];const o=this.players.indexOf(i);o>=0&&this.players.splice(o,1)}_getPlayer(r){const i=this._playersById[r];if(!i)throw new Error(`Unable to find the timeline player referenced by ${r}`);return i}listen(r,i,o,u){const h=zm(i,"","","");return $s(this._getPlayer(r),o,h,u),()=>{}}command(r,i,o,u){if("register"==o)return void this.register(r,u[0]);if("create"==o)return void this.create(r,i,u[0]||{});const h=this._getPlayer(r);switch(o){case"play":h.play();break;case"pause":h.pause();break;case"reset":h.reset();break;case"restart":h.restart();break;case"finish":h.finish();break;case"init":h.init();break;case"setPosition":h.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(r)}}}const Vf="ng-animate-queued",h_="ng-animate-disabled",ud=".ng-animate-disabled",cd=[],f_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},p0={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ei="__ng_removed";class Bf{constructor(r,i=""){this.namespaceId=i;const o=r&&r.hasOwnProperty("value");if(this.value=null!=(s=o?r.value:r)?s:null,o){const h=Qi(r);delete h.value,this.options=h}else this.options={};var s;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const i=r.params;if(i){const o=this.options.params;Object.keys(i).forEach(u=>{null==o[u]&&(o[u]=i[u])})}}}const dd="void",jf=new Bf(dd);class Nu{constructor(r,i,o){this.id=r,this.hostElement=i,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,ti(i,this._hostClassName)}listen(r,i,o,u){if(!this._triggers.hasOwnProperty(i))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${i}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${i}" because the provided event is undefined!`);if("start"!=(s=o)&&"done"!=s)throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${i}" is not supported!`);var s;const h=mi(this._elementListeners,r,[]),m={name:i,phase:o,callback:u};h.push(m);const v=mi(this._engine.statesByElement,r,{});return v.hasOwnProperty(i)||(ti(r,wu),ti(r,wu+"-"+i),v[i]=jf),()=>{this._engine.afterFlush(()=>{const C=h.indexOf(m);C>=0&&h.splice(C,1),this._triggers[i]||delete v[i]})}}register(r,i){return!this._triggers[r]&&(this._triggers[r]=i,!0)}_getTrigger(r){const i=this._triggers[r];if(!i)throw new Error(`The provided animation trigger "${r}" has not been registered!`);return i}trigger(r,i,o,u=!0){const h=this._getTrigger(i),m=new yi(this.id,i,r);let v=this._engine.statesByElement.get(r);v||(ti(r,wu),ti(r,wu+"-"+i),this._engine.statesByElement.set(r,v={}));let C=v[i];const S=new Bf(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&C&&S.absorbOptions(C.options),v[i]=S,C||(C=jf),S.value!==dd&&C.value===S.value){if(!function(s,r){const i=Object.keys(s),o=Object.keys(r);if(i.length!=o.length)return!1;for(let u=0;u<i.length;u++){const h=i[u];if(!r.hasOwnProperty(h)||s[h]!==r[h])return!1}return!0}(C.params,S.params)){const re=[],be=h.matchStyles(C.value,C.params,re),xe=h.matchStyles(S.value,S.params,re);re.length?this._engine.reportError(re):this._engine.afterFlush(()=>{yo(r,be),Pi(r,xe)})}return}const F=mi(this._engine.playersByElement,r,[]);F.forEach(re=>{re.namespaceId==this.id&&re.triggerName==i&&re.queued&&re.destroy()});let L=h.matchTransition(C.value,S.value,r,S.params),q=!1;if(!L){if(!u)return;L=h.fallbackTransition,q=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:i,transition:L,fromState:C,toState:S,player:m,isFallbackTransition:q}),q||(ti(r,Vf),m.onStart(()=>{Ru(r,Vf)})),m.onDone(()=>{let re=this.players.indexOf(m);re>=0&&this.players.splice(re,1);const be=this._engine.playersByElement.get(r);if(be){let xe=be.indexOf(m);xe>=0&&be.splice(xe,1)}}),this.players.push(m),F.push(m),m}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((i,o)=>{delete i[r]}),this._elementListeners.forEach((i,o)=>{this._elementListeners.set(o,i.filter(u=>u.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const i=this._engine.playersByElement.get(r);i&&(i.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,i){const o=this._engine.driver.query(r,fl,!0);o.forEach(u=>{if(u[ei])return;const h=this._engine.fetchNamespacesByElement(u);h.size?h.forEach(m=>m.triggerLeaveAnimation(u,i,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(r,i,o,u){const h=this._engine.statesByElement.get(r);if(h){const m=[];if(Object.keys(h).forEach(v=>{if(this._triggers[v]){const C=this.trigger(r,v,dd,u);C&&m.push(C)}}),m.length)return this._engine.markElementAsRemoved(this.id,r,!0,i),o&&Qr(m).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const i=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(i&&o){const u=new Set;i.forEach(h=>{const m=h.name;if(u.has(m))return;u.add(m);const C=this._triggers[m].fallbackTransition,S=o[m]||jf,N=new Bf(dd),x=new yi(this.id,m,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:m,transition:C,fromState:S,toState:N,player:x,isFallbackTransition:!0})})}}removeNode(r,i){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,i),this.triggerLeaveAnimation(r,i,!0))return;let u=!1;if(o.totalAnimations){const h=o.players.length?o.playersByQueriedElement.get(r):[];if(h&&h.length)u=!0;else{let m=r;for(;m=m.parentNode;)if(o.statesByElement.get(m)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(r),u)o.markElementAsRemoved(this.id,r,!1,i);else{const h=r[ei];(!h||h===f_)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,i))}}insertNode(r,i){ti(r,this._hostClassName)}drainQueuedTransitions(r){const i=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const h=o.element,m=this._elementListeners.get(h);m&&m.forEach(v=>{if(v.name==o.triggerName){const C=zm(h,o.triggerName,o.fromState.value,o.toState.value);C._data=r,$s(o.player,v.phase,C,v.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):i.push(o)}),this._queue=[],i.sort((o,u)=>{const h=o.transition.ast.depCount,m=u.transition.ast.depCount;return 0==h||0==m?h-m:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(r){this.players.forEach(i=>i.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let i=!1;return this._elementListeners.has(r)&&(i=!0),i=!!this._queue.find(o=>o.element===r)||i,i}}class p_{constructor(r,i,o){this.bodyNode=r,this.driver=i,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,h)=>{}}_onRemovalComplete(r,i){this.onRemovalComplete(r,i)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(i=>{i.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,i){const o=new Nu(r,i,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,i)?this._balanceNamespaceList(o,i):(this.newHostElements.set(i,o),this.collectEnterElement(i)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,i){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let h=o;h>=0;h--)if(this.driver.containsElement(this._namespaceList[h].hostElement,i)){this._namespaceList.splice(h+1,0,r),u=!0;break}u||this._namespaceList.splice(0,0,r)}else this._namespaceList.push(r);return this.namespacesByHostElement.set(i,r),r}register(r,i){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,i)),o}registerTrigger(r,i,o){let u=this._namespaceLookup[r];u&&u.register(i,o)&&this.totalAnimations++}destroy(r,i){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(i))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const i=new Set,o=this.statesByElement.get(r);if(o){const u=Object.keys(o);for(let h=0;h<u.length;h++){const m=o[u[h]].namespaceId;if(m){const v=this._fetchNamespace(m);v&&i.add(v)}}}return i}trigger(r,i,o,u){if(Mu(i)){const h=this._fetchNamespace(r);if(h)return h.trigger(i,o,u),!0}return!1}insertNode(r,i,o,u){if(!Mu(i))return;const h=i[ei];if(h&&h.setForRemoval){h.setForRemoval=!1,h.setForMove=!0;const m=this.collectedLeaveElements.indexOf(i);m>=0&&this.collectedLeaveElements.splice(m,1)}if(r){const m=this._fetchNamespace(r);m&&m.insertNode(i,o)}u&&this.collectEnterElement(i)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,i){i?this.disabledNodes.has(r)||(this.disabledNodes.add(r),ti(r,h_)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),Ru(r,h_))}removeNode(r,i,o,u){if(Mu(i)){const h=r?this._fetchNamespace(r):null;if(h?h.removeNode(i,u):this.markElementAsRemoved(r,i,!1,u),o){const m=this.namespacesByHostElement.get(i);m&&m.id!==r&&m.removeNode(i,u)}}else this._onRemovalComplete(i,u)}markElementAsRemoved(r,i,o,u){this.collectedLeaveElements.push(i),i[ei]={namespaceId:r,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(r,i,o,u,h){return Mu(i)?this._fetchNamespace(r).listen(i,o,u,h):()=>{}}_buildInstruction(r,i,o,u,h){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,u,r.fromState.options,r.toState.options,i,h)}destroyInnerAnimations(r){let i=this.driver.query(r,fl,!0);i.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(i=this.driver.query(r,Qc,!0),i.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const i=this.playersByElement.get(r);i&&i.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const i=this.playersByQueriedElement.get(r);i&&i.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Qr(this.players).onDone(()=>r());r()})}processLeaveNode(r){const i=r[ei];if(i&&i.setForRemoval){if(r[ei]=f_,i.namespaceId){this.destroyInnerAnimations(r);const o=this._fetchNamespace(i.namespaceId);o&&o.clearElementCache(r)}this._onRemovalComplete(r,i.setForRemoval)}this.driver.matchesElement(r,ud)&&this.markElementAsDisabled(r,!1),this.driver.query(r,ud,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(r=-1){let i=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)ti(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{i=this._flushAnimations(o,r)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],i.length?Qr(i).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(r){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${r.join("\n")}`)}_flushAnimations(r,i){const o=new Su,u=[],h=new Map,m=[],v=new Map,C=new Map,S=new Map,N=new Set;this.disabledNodes.forEach(Ke=>{N.add(Ke);const ft=this.driver.query(Ke,".ng-animate-queued",!0);for(let Dt=0;Dt<ft.length;Dt++)N.add(ft[Dt])});const x=this.bodyNode,F=Array.from(this.statesByElement.keys()),L=m0(F,this.collectedEnterElements),q=new Map;let re=0;L.forEach((Ke,ft)=>{const Dt=_i+re++;q.set(ft,Dt),Ke.forEach(Xt=>ti(Xt,Dt))});const be=[],xe=new Set,Pe=new Set;for(let Ke=0;Ke<this.collectedLeaveElements.length;Ke++){const ft=this.collectedLeaveElements[Ke],Dt=ft[ei];Dt&&Dt.setForRemoval&&(be.push(ft),xe.add(ft),Dt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Xt=>xe.add(Xt)):Pe.add(ft))}const Ye=new Map,st=m0(F,Array.from(xe));st.forEach((Ke,ft)=>{const Dt=da+re++;Ye.set(ft,Dt),Ke.forEach(Xt=>ti(Xt,Dt))}),r.push(()=>{L.forEach((Ke,ft)=>{const Dt=q.get(ft);Ke.forEach(Xt=>Ru(Xt,Dt))}),st.forEach((Ke,ft)=>{const Dt=Ye.get(ft);Ke.forEach(Xt=>Ru(Xt,Dt))}),be.forEach(Ke=>{this.processLeaveNode(Ke)})});const qt=[],Ir=[];for(let Ke=this._namespaceList.length-1;Ke>=0;Ke--)this._namespaceList[Ke].drainQueuedTransitions(i).forEach(Dt=>{const Xt=Dt.player,ci=Dt.element;if(qt.push(Xt),this.collectedEnterElements.length){const tu=ci[ei];if(tu&&tu.setForMove)return void Xt.destroy()}const eu=!x||!this.driver.containsElement(x,ci),so=Ye.get(ci),qh=q.get(ci),ar=this._buildInstruction(Dt,o,qh,so,eu);if(ar.errors&&ar.errors.length)Ir.push(ar);else{if(eu)return Xt.onStart(()=>yo(ci,ar.fromStyles)),Xt.onDestroy(()=>Pi(ci,ar.toStyles)),void u.push(Xt);if(Dt.isFallbackTransition)return Xt.onStart(()=>yo(ci,ar.fromStyles)),Xt.onDestroy(()=>Pi(ci,ar.toStyles)),void u.push(Xt);ar.timelines.forEach(tu=>tu.stretchStartingKeyframe=!0),o.append(ci,ar.timelines),m.push({instruction:ar,player:Xt,element:ci}),ar.queriedElements.forEach(tu=>mi(v,tu,[]).push(Xt)),ar.preStyleProps.forEach((tu,BE)=>{const OS=Object.keys(tu);if(OS.length){let Em=C.get(BE);Em||C.set(BE,Em=new Set),OS.forEach(QR=>Em.add(QR))}}),ar.postStyleProps.forEach((tu,BE)=>{const OS=Object.keys(tu);let Em=S.get(BE);Em||S.set(BE,Em=new Set),OS.forEach(QR=>Em.add(QR))})}});if(Ir.length){const Ke=[];Ir.forEach(ft=>{Ke.push(`@${ft.triggerName} has failed due to:\n`),ft.errors.forEach(Dt=>Ke.push(`- ${Dt}\n`))}),qt.forEach(ft=>ft.destroy()),this.reportError(Ke)}const Sr=new Map,ui=new Map;m.forEach(Ke=>{const ft=Ke.element;o.has(ft)&&(ui.set(ft,ft),this._beforeAnimationBuild(Ke.player.namespaceId,Ke.instruction,Sr))}),u.forEach(Ke=>{const ft=Ke.element;this._getPreviousPlayers(ft,!1,Ke.namespaceId,Ke.triggerName,null).forEach(Xt=>{mi(Sr,ft,[]).push(Xt),Xt.destroy()})});const Ac=be.filter(Ke=>v_(Ke,C,S)),Nc=new Map;g0(Nc,this.driver,Pe,S,xi).forEach(Ke=>{v_(Ke,C,S)&&Ac.push(Ke)});const UE=new Map;L.forEach((Ke,ft)=>{g0(UE,this.driver,new Set(Ke),C,"!")}),Ac.forEach(Ke=>{const ft=Nc.get(Ke),Dt=UE.get(Ke);Nc.set(Ke,Object.assign(Object.assign({},ft),Dt))});const wm=[],NP=[],MP={};m.forEach(Ke=>{const{element:ft,player:Dt,instruction:Xt}=Ke;if(o.has(ft)){if(N.has(ft))return Dt.onDestroy(()=>Pi(ft,Xt.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(Xt.totalTime),void u.push(Dt);let ci=MP;if(ui.size>1){let so=ft;const qh=[];for(;so=so.parentNode;){const ar=ui.get(so);if(ar){ci=ar;break}qh.push(so)}qh.forEach(ar=>ui.set(ar,ci))}const eu=this._buildAnimation(Dt.namespaceId,Xt,Sr,h,UE,Nc);if(Dt.setRealPlayer(eu),ci===MP)wm.push(Dt);else{const so=this.playersByElement.get(ci);so&&so.length&&(Dt.parentPlayer=Qr(so)),u.push(Dt)}}else yo(ft,Xt.fromStyles),Dt.onDestroy(()=>Pi(ft,Xt.toStyles)),NP.push(Dt),N.has(ft)&&u.push(Dt)}),NP.forEach(Ke=>{const ft=h.get(Ke.element);if(ft&&ft.length){const Dt=Qr(ft);Ke.setRealPlayer(Dt)}}),u.forEach(Ke=>{Ke.parentPlayer?Ke.syncPlayerEvents(Ke.parentPlayer):Ke.destroy()});for(let Ke=0;Ke<be.length;Ke++){const ft=be[Ke],Dt=ft[ei];if(Ru(ft,da),Dt&&Dt.hasAnimation)continue;let Xt=[];if(v.size){let eu=v.get(ft);eu&&eu.length&&Xt.push(...eu);let so=this.driver.query(ft,Qc,!0);for(let qh=0;qh<so.length;qh++){let ar=v.get(so[qh]);ar&&ar.length&&Xt.push(...ar)}}const ci=Xt.filter(eu=>!eu.destroyed);ci.length?_0(this,ft,ci):this.processLeaveNode(ft)}return be.length=0,wm.forEach(Ke=>{this.players.push(Ke),Ke.onDone(()=>{Ke.destroy();const ft=this.players.indexOf(Ke);this.players.splice(ft,1)}),Ke.play()}),wm}elementContainsData(r,i){let o=!1;const u=i[ei];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(i)&&(o=!0),this.playersByQueriedElement.has(i)&&(o=!0),this.statesByElement.has(i)&&(o=!0),this._fetchNamespace(r).elementContainsData(i)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,i,o,u,h){let m=[];if(i){const v=this.playersByQueriedElement.get(r);v&&(m=v)}else{const v=this.playersByElement.get(r);if(v){const C=!h||h==dd;v.forEach(S=>{S.queued||!C&&S.triggerName!=u||m.push(S)})}}return(o||u)&&(m=m.filter(v=>!(o&&o!=v.namespaceId||u&&u!=v.triggerName))),m}_beforeAnimationBuild(r,i,o){const h=i.element,m=i.isRemovalTransition?void 0:r,v=i.isRemovalTransition?void 0:i.triggerName;for(const C of i.timelines){const S=C.element,N=S!==h,x=mi(o,S,[]);this._getPreviousPlayers(S,N,m,v,i.toState).forEach(L=>{const q=L.getRealPlayer();q.beforeDestroy&&q.beforeDestroy(),L.destroy(),x.push(L)})}yo(h,i.fromStyles)}_buildAnimation(r,i,o,u,h,m){const v=i.triggerName,C=i.element,S=[],N=new Set,x=new Set,F=i.timelines.map(q=>{const re=q.element;N.add(re);const be=re[ei];if(be&&be.removedBeforeQueried)return new po(q.duration,q.delay);const xe=re!==C,Pe=function(s){const r=[];return y_(s,r),r}((o.get(re)||cd).map(Sr=>Sr.getRealPlayer())).filter(Sr=>!!Sr.element&&Sr.element===re),Ye=h.get(re),st=m.get(re),qt=Jc(0,this._normalizer,0,q.keyframes,Ye,st),Ir=this._buildPlayer(q,qt,Pe);if(q.subTimeline&&u&&x.add(re),xe){const Sr=new yi(r,v,re);Sr.setRealPlayer(Ir),S.push(Sr)}return Ir});S.forEach(q=>{mi(this.playersByQueriedElement,q.element,[]).push(q),q.onDone(()=>function(s,r,i){let o;if(s instanceof Map){if(o=s.get(r),o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&s.delete(r)}}else if(o=s[r],o){if(o.length){const u=o.indexOf(i);o.splice(u,1)}0==o.length&&delete s[r]}return o}(this.playersByQueriedElement,q.element,q))}),N.forEach(q=>ti(q,Xm));const L=Qr(F);return L.onDestroy(()=>{N.forEach(q=>Ru(q,Xm)),Pi(C,i.toStyles)}),x.forEach(q=>{mi(u,q,[]).push(L)}),L}_buildPlayer(r,i,o){return i.length>0?this.driver.animate(r.element,i,r.duration,r.delay,r.easing,o):new po(r.duration,r.delay)}}class yi{constructor(r,i,o){this.namespaceId=r,this.triggerName=i,this.element=o,this._player=new po,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(i=>{this._queuedCallbacks[i].forEach(o=>$s(r,i,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const i=this._player;i.triggerCallback&&r.onStart(()=>i.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,i){mi(this._queuedCallbacks,r,[]).push(i)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const i=this._player;i.triggerCallback&&i.triggerCallback(r)}}function Mu(s){return s&&1===s.nodeType}function Hf(s,r){const i=s.style.display;return s.style.display=null!=r?r:"none",i}function g0(s,r,i,o,u){const h=[];i.forEach(C=>h.push(Hf(C)));const m=[];o.forEach((C,S)=>{const N={};C.forEach(x=>{const F=N[x]=r.computeStyle(S,x,u);(!F||0==F.length)&&(S[ei]=p0,m.push(S))}),s.set(S,N)});let v=0;return i.forEach(C=>Hf(C,h[v++])),m}function m0(s,r){const i=new Map;if(s.forEach(v=>i.set(v,[])),0==r.length)return i;const u=new Set(r),h=new Map;function m(v){if(!v)return 1;let C=h.get(v);if(C)return C;const S=v.parentNode;return C=i.has(S)?S:u.has(S)?1:m(S),h.set(v,C),C}return r.forEach(v=>{const C=m(v);1!==C&&i.get(C).push(v)}),i}const Ws="$$classes";function ti(s,r){if(s.classList)s.classList.add(r);else{let i=s[Ws];i||(i=s[Ws]={}),i[r]=!0}}function Ru(s,r){if(s.classList)s.classList.remove(r);else{let i=s[Ws];i&&delete i[r]}}function _0(s,r,i){Qr(i).onDone(()=>s.processLeaveNode(r))}function y_(s,r){for(let i=0;i<s.length;i++){const o=s[i];o instanceof aa?y_(o.players,r):r.push(o)}}function v_(s,r,i){const o=i.get(s);if(!o)return!1;let u=r.get(s);return u?o.forEach(h=>u.add(h)):r.set(s,o),i.delete(s),!0}class ya{constructor(r,i,o){this.bodyNode=r,this._driver=i,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,h)=>{},this._transitionEngine=new p_(r,i,o),this._timelineEngine=new bl(r,i,o),this._transitionEngine.onRemovalComplete=(u,h)=>this.onRemovalComplete(u,h)}registerTrigger(r,i,o,u,h){const m=r+"-"+u;let v=this._triggerCache[m];if(!v){const C=[],S=kf(this._driver,h,C);if(C.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);v=function(s,r,i){return new u0(s,r,i)}(u,S,this._normalizer),this._triggerCache[m]=v}this._transitionEngine.registerTrigger(i,u,v)}register(r,i){this._transitionEngine.register(r,i)}destroy(r,i){this._transitionEngine.destroy(r,i)}onInsert(r,i,o,u){this._transitionEngine.insertNode(r,i,o,u)}onRemove(r,i,o,u){this._transitionEngine.removeNode(r,i,u||!1,o)}disableAnimations(r,i){this._transitionEngine.markElementAsDisabled(r,i)}process(r,i,o,u){if("@"==o.charAt(0)){const[h,m]=Wm(o);this._timelineEngine.command(h,i,m,u)}else this._transitionEngine.trigger(r,i,o,u)}listen(r,i,o,u,h){if("@"==o.charAt(0)){const[m,v]=Wm(o);return this._timelineEngine.listen(m,i,v,h)}return this._transitionEngine.listen(r,i,o,u,h)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function $f(s,r){let i=null,o=null;return Array.isArray(r)&&r.length?(i=fd(r[0]),r.length>1&&(o=fd(r[r.length-1]))):r&&(i=fd(r)),i||o?new ws(s,i,o):null}class ws{constructor(r,i,o){this._element=r,this._startStyles=i,this._endStyles=o,this._state=0;let u=ws.initialStylesByElement.get(r);u||ws.initialStylesByElement.set(r,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&Pi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Pi(this._element,this._initialStyles),this._endStyles&&(Pi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(ws.initialStylesByElement.delete(this._element),this._startStyles&&(yo(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(yo(this._element,this._endStyles),this._endStyles=null),Pi(this._element,this._initialStyles),this._state=3)}}function fd(s){let r=null;const i=Object.keys(s);for(let o=0;o<i.length;o++){const u=i[o];Gf(u)&&(r=r||{},r[u]=s[u])}return r}function Gf(s){return"display"===s||"position"===s}ws.initialStylesByElement=new WeakMap;const pn="animation",Zf="animationend";class xu{constructor(r,i,o,u,h,m,v){this._element=r,this._name=i,this._duration=o,this._delay=u,this._easing=h,this._fillMode=m,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(s,r){const i=gd(s,"").trim();let o=0;i.length&&(function(s,r){let i=0;for(let o=0;o<s.length;o++)","===s.charAt(o)&&i++;return i}(i)+1,r=`${i}, ${r}`),Yf(s,"",r)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Wf(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){pd(this._element,this._name,"paused")}resume(){pd(this._element,this._name,"running")}setPosition(r){const i=ni(this._element,this._name);this._position=r*this._duration,Yf(this._element,"Delay",`-${this._position}ms`,i)}getPosition(){return this._position}_handleCallback(r){const i=r._ngTestManualTimestamp||Date.now(),o=1e3*parseFloat(r.elapsedTime.toFixed(3));r.animationName==this._name&&Math.max(i-this._startTime,0)>=this._delay&&o>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Wf(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(s,r){const o=gd(s,"").split(","),u=va(o,r);u>=0&&(o.splice(u,1),Yf(s,"",o.join(",")))}(this._element,this._name))}}function pd(s,r,i){Yf(s,"PlayState",i,ni(s,r))}function ni(s,r){const i=gd(s,"");return i.indexOf(",")>0?va(i.split(","),r):va([i],r)}function va(s,r){for(let i=0;i<s.length;i++)if(s[i].indexOf(r)>=0)return i;return-1}function Wf(s,r,i){i?s.removeEventListener(Zf,r):s.addEventListener(Zf,r)}function Yf(s,r,i,o){const u=pn+r;if(null!=o){const h=s.style[u];if(h.length){const m=h.split(",");m[o]=i,i=m.join(",")}}s.style[u]=i}function gd(s,r){return s.style[pn+r]||""}class Kf{constructor(r,i,o,u,h,m,v,C){this.element=r,this.keyframes=i,this.animationName=o,this._duration=u,this._delay=h,this._finalStyles=v,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=m||"linear",this.totalTime=u+h,this._buildStyler()}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(r=>r()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(r){this._styler.setPosition(r)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new xu(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}beforeDestroy(){this.init();const r={};if(this.hasStarted()){const i=this._state>=3;Object.keys(this._finalStyles).forEach(o=>{"offset"!=o&&(r[o]=i?this._finalStyles[o]:nd(this.element,o))})}this.currentSnapshot=r}}class Ys extends po{constructor(r,i){super(),this.element=r,this._startingStyles={},this.__initialized=!1,this._styles=nn(i)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(r=>{this._startingStyles[r]=this.element.style[r]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(r=>this.element.style.setProperty(r,this._styles[r])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(r=>{const i=this._startingStyles[r];i?this.element.style.setProperty(r,i):this.element.style.removeProperty(r)}),this._startingStyles=null,super.destroy())}}class _d{constructor(){this._count=0}validateStyleProperty(r){return bu(r)}matchesElement(r,i){return Jm(r,i)}containsElement(r,i){return Gs(r,i)}query(r,i,o){return dl(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}buildKeyframeElement(r,i,o){o=o.map(v=>nn(v));let u=`@keyframes ${i} {\n`,h="";o.forEach(v=>{h=" ";const C=parseFloat(v.offset);u+=`${h}${100*C}% {\n`,h+=" ",Object.keys(v).forEach(S=>{const N=v[S];switch(S){case"offset":return;case"easing":return void(N&&(u+=`${h}animation-timing-function: ${N};\n`));default:return void(u+=`${h}${S}: ${N};\n`)}}),u+=`${h}}\n`}),u+="}\n";const m=document.createElement("style");return m.textContent=u,m}animate(r,i,o,u,h,m=[],v){const C=m.filter(be=>be instanceof Kf),S={};t_(o,u)&&C.forEach(be=>{let xe=be.currentSnapshot;Object.keys(xe).forEach(Pe=>S[Pe]=xe[Pe])});const N=function(s){let r={};return s&&(Array.isArray(s)?s:[s]).forEach(o=>{Object.keys(o).forEach(u=>{"offset"==u||"easing"==u||(r[u]=o[u])})}),r}(i=td(r,i,S));if(0==o)return new Ys(r,N);const x="gen_css_kf_"+this._count++,F=this.buildKeyframeElement(r,x,i);(function(s){var r;const i=null===(r=s.getRootNode)||void 0===r?void 0:r.call(s);return"undefined"!=typeof ShadowRoot&&i instanceof ShadowRoot?i:document.head})(r).appendChild(F);const q=$f(r,i),re=new Kf(r,i,x,o,u,h,N,q);return re.onDestroy(()=>{var s;(s=F).parentNode.removeChild(s)}),re}}class vd{constructor(r,i,o,u){this.element=r,this.keyframes=i,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,i,o){return r.animate(i,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(i=>{"offset"!=i&&(r[i]=this._finished?this._finalKeyframe[i]:nd(this.element,i))}),this.currentSnapshot=r}triggerCallback(r){const i="start"==r?this._onStartFns:this._onDoneFns;i.forEach(o=>o()),i.length=0}}class w_{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(El().toString()),this._cssKeyframesDriver=new _d}validateStyleProperty(r){return bu(r)}matchesElement(r,i){return Jm(r,i)}containsElement(r,i){return Gs(r,i)}query(r,i,o){return dl(r,i,o)}computeStyle(r,i,o){return window.getComputedStyle(r)[i]}overrideWebAnimationsSupport(r){this._isNativeImpl=r}animate(r,i,o,u,h,m=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(r,i,o,u,h,m);const N={duration:o,delay:u,fill:0==u?"both":"forwards"};h&&(N.easing=h);const x={},F=m.filter(q=>q instanceof vd);t_(o,u)&&F.forEach(q=>{let re=q.currentSnapshot;Object.keys(re).forEach(be=>x[be]=re[be])});const L=$f(r,i=td(r,i=i.map(q=>Xi(q,!1)),x));return new vd(r,i,N,L)}}function El(){return la()&&Element.prototype.animate||{}}let E_=(()=>{class s extends yu{constructor(i,o){super(),this._nextAnimationId=0,this._renderer=i.createRenderer(o.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(i){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(i)?Ef(i):i;return Xf(this._renderer,null,o,"register",[u]),new Qf(o,this._renderer)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.FYo),c.LFG(ae))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class Qf extends class{}{constructor(r,i){super(),this._id=r,this._renderer=i}create(r,i){return new ku(this._id,r,i||{},this._renderer)}}class ku{constructor(r,i,o,u){this.id=r,this.element=i,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,i){return this._renderer.listen(this.element,`@@${this.id}:${r}`,i)}_command(r,...i){return Xf(this._renderer,this.element,this.id,r,i)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,i;return null!==(i=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==i?i:0}}function Xf(s,r,i,o,u){return s.setProperty(r,`@@${i}:${o}`,u)}const E0="@.disabled";let C_=(()=>{class s{constructor(i,o,u){this.delegate=i,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(h,m)=>{m&&m.parentNode(h)&&m.removeChild(h.parentNode,h)}}createRenderer(i,o){const h=this.delegate.createRenderer(i,o);if(!(i&&o&&o.data&&o.data.animation)){let N=this._rendererCache.get(h);return N||(N=new T("",h,this.engine),this._rendererCache.set(h,N)),N}const m=o.id,v=o.id+"-"+this._currentId;this._currentId++,this.engine.register(v,i);const C=N=>{Array.isArray(N)?N.forEach(C):this.engine.registerTrigger(m,v,i,N.name,N)};return o.data.animation.forEach(C),new y(this,v,h,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(i,o,u){i>=0&&i<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(h=>{const[m,v]=h;m(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.FYo),c.LFG(ya),c.LFG(c.R0b))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class T{constructor(r,i,o){this.namespaceId=r,this.delegate=i,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>i.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,i){this.delegate.appendChild(r,i),this.engine.onInsert(this.namespaceId,i,r,!1)}insertBefore(r,i,o,u=!0){this.delegate.insertBefore(r,i,o),this.engine.onInsert(this.namespaceId,i,r,u)}removeChild(r,i,o){this.engine.onRemove(this.namespaceId,i,this.delegate,o)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,o,u){this.delegate.setAttribute(r,i,o,u)}removeAttribute(r,i,o){this.delegate.removeAttribute(r,i,o)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,o,u){this.delegate.setStyle(r,i,o,u)}removeStyle(r,i,o){this.delegate.removeStyle(r,i,o)}setProperty(r,i,o){"@"==i.charAt(0)&&i==E0?this.disableAnimations(r,!!o):this.delegate.setProperty(r,i,o)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,o){return this.delegate.listen(r,i,o)}disableAnimations(r,i){this.engine.disableAnimations(r,i)}}class y extends T{constructor(r,i,o,u){super(i,o,u),this.factory=r,this.namespaceId=i}setProperty(r,i,o){"@"==i.charAt(0)?"."==i.charAt(1)&&i==E0?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,i.substr(1),o):this.delegate.setProperty(r,i,o)}listen(r,i,o){if("@"==i.charAt(0)){const u=function(s){switch(s){case"body":return document.body;case"document":return document;case"window":return window;default:return s}}(r);let h=i.substr(1),m="";return"@"!=h.charAt(0)&&([h,m]=function(s){const r=s.indexOf(".");return[s.substring(0,r),s.substr(r+1)]}(h)),this.engine.listen(this.namespaceId,u,h,m,v=>{this.factory.scheduleListenerCallback(v._data||-1,o,v)})}return this.delegate.listen(r,i,o)}}let R=(()=>{class s extends ya{constructor(i,o,u){super(i.body,o,u)}ngOnDestroy(){this.flush()}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae),c.LFG(ca),c.LFG(wo))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const Ve=new c.OlP("AnimationModuleType"),$e=[{provide:yu,useClass:E_},{provide:wo,useFactory:function(){return new s0}},{provide:ya,useClass:R},{provide:c.FYo,useFactory:function(s,r,i){return new C_(s,r,i)},deps:[Hs,ya,c.R0b]}],et=[{provide:ca,useFactory:function(){return"function"==typeof El()?new w_:new _d}},{provide:Ve,useValue:"BrowserAnimations"},...$e],rt=[{provide:ca,useClass:ua},{provide:Ve,useValue:"NoopAnimations"},...$e];let Bn=(()=>{class s{static withConfig(i){return{ngModule:s,providers:i.disableAnimations?rt:et}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:et,imports:[il]}),s})();var rn=U(4402),it=U(5917),en=U(9765),ep=U(7971);class On extends en.xQ{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const i=super._subscribe(r);return i&&!i.closed&&r.next(this._value),i}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ep.N;return this._value}next(r){super.next(this._value=r)}}var Cl=U(4869),Fi=U(9796),fn=U(7393);class wd extends fn.L{notifyNext(r,i,o,u,h){this.destination.next(i)}notifyError(r,i){this.destination.error(r)}notifyComplete(r){this.destination.complete()}}class C0 extends fn.L{constructor(r,i,o){super(),this.parent=r,this.outerValue=i,this.outerIndex=o,this.index=0}_next(r){this.parent.notifyNext(this.outerValue,r,this.outerIndex,this.index++,this)}_error(r){this.parent.notifyError(r,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var T_=U(7444),Wn=U(7574);function Li(s,r,i,o,u=new C0(s,i,o)){if(!u.closed)return r instanceof Wn.y?r.subscribe(u):(0,T_.s)(r)(u)}var tp=U(6693);const D_={};class XE{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new np(r,this.resultSelector))}}class np extends wd{constructor(r,i){super(r),this.resultSelector=i,this.active=0,this.values=[],this.observables=[]}_next(r){this.values.push(D_),this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{this.active=i,this.toRespond=i;for(let o=0;o<i;o++)this.add(Li(this,r[o],void 0,o))}}notifyComplete(r){0==(this.active-=1)&&this.destination.complete()}notifyNext(r,i,o){const u=this.values,m=this.toRespond?u[o]===D_?--this.toRespond:this.toRespond:0;u[o]=i,0===m&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}const rp=(()=>{function s(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return s.prototype=Object.create(Error.prototype),s})();var Ed=U(3282);function ip(...s){return(0,Ed.J)(1)((0,it.of)(...s))}var Tl=U(9193);function Ou(s){return new Wn.y(r=>{let i;try{i=s()}catch(u){return void r.error(u)}return(i?(0,rn.D)(i):(0,Tl.c)()).subscribe(r)})}var I0=U(2441),nt=U(8002),Cs=U(5345);function jn(s,r){return"function"==typeof r?i=>i.pipe(jn((o,u)=>(0,rn.D)(s(o,u)).pipe((0,nt.U)((h,m)=>r(o,h,u,m))))):i=>i.lift(new HS(s))}class HS{constructor(r){this.project=r}call(r,i){return i.subscribe(new $S(r,this.project))}}class $S extends Cs.Ds{constructor(r,i){super(r),this.project=i,this.index=0}_next(r){let i;const o=this.index++;try{i=this.project(r,o)}catch(u){return void this.destination.error(u)}this._innerSub(i)}_innerSub(r){const i=this.innerSubscription;i&&i.unsubscribe();const o=new Cs.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,Cs.ft)(r,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:r}=this;(!r||r.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(r){this.destination.next(r)}}const eC=(()=>{function s(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return s.prototype=Object.create(Error.prototype),s})();function vi(s){return r=>0===s?(0,Tl.c)():r.lift(new GS(s))}class GS{constructor(r){if(this.total=r,this.total<0)throw new eC}call(r,i){return i.subscribe(new tC(r,this.total))}}class tC extends fn.L{constructor(r,i){super(r),this.total=i,this.count=0}_next(r){const i=this.total,o=++this.count;o<=i&&(this.destination.next(r),o===i&&(this.destination.complete(),this.unsubscribe()))}}function wa(...s){const r=s[s.length-1];return(0,Cl.K)(r)?(s.pop(),i=>ip(s,i,r)):i=>ip(s,i)}function Cd(s,r){let i=!1;return arguments.length>=2&&(i=!0),function(u){return u.lift(new S0(s,r,i))}}class S0{constructor(r,i,o=!1){this.accumulator=r,this.seed=i,this.hasSeed=o}call(r,i){return i.subscribe(new ZS(r,this.accumulator,this.seed,this.hasSeed))}}class ZS extends fn.L{constructor(r,i,o,u){super(r),this.accumulator=i,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(r){this.hasSeed=!0,this._seed=r}_next(r){if(this.hasSeed)return this._tryNext(r);this.seed=r,this.destination.next(r)}_tryNext(r){const i=this.index++;let o;try{o=this.accumulator(this.seed,r,i)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function Dn(s,r){return function(o){return o.lift(new nC(s,r))}}class nC{constructor(r,i){this.predicate=r,this.thisArg=i}call(r,i){return i.subscribe(new rC(r,this.predicate,this.thisArg))}}class rC extends fn.L{constructor(r,i,o){super(r),this.predicate=i,this.thisArg=o,this.count=0}_next(r){let i;try{i=this.predicate.call(this.thisArg,r,this.count++)}catch(o){return void this.destination.error(o)}i&&this.destination.next(r)}}function ts(s){return function(i){const o=new iC(s),u=i.lift(o);return o.caught=u}}class iC{constructor(r){this.selector=r}call(r,i){return i.subscribe(new sC(r,this.selector,this.caught))}}class sC extends Cs.Ds{constructor(r,i,o){super(r),this.selector=i,this.caught=o}error(r){if(!this.isStopped){let i;try{i=this.selector(r,this.caught)}catch(h){return void super.error(h)}this._unsubscribeAndRecycle();const o=new Cs.IY(this);this.add(o);const u=(0,Cs.ft)(i,o);u!==o&&this.add(u)}}}var ri=U(9773);function Ea(s,r){return(0,ri.zg)(s,r,1)}function A0(s){return function(i){return 0===s?(0,Tl.c)():i.lift(new oC(s))}}class oC{constructor(r){if(this.total=r,this.total<0)throw new eC}call(r,i){return i.subscribe(new aC(r,this.total))}}class aC extends fn.L{constructor(r,i){super(r),this.total=i,this.ring=new Array,this.count=0}_next(r){const i=this.ring,o=this.total,u=this.count++;i.length<o?i.push(r):i[u%o]=r}_complete(){const r=this.destination;let i=this.count;if(i>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let h=0;h<o;h++){const m=i++%o;r.next(u[m])}}r.complete()}}function N0(s=I_){return r=>r.lift(new M0(s))}class M0{constructor(r){this.errorFactory=r}call(r,i){return i.subscribe(new lC(r,this.errorFactory))}}class lC extends fn.L{constructor(r,i){super(r),this.errorFactory=i,this.hasValue=!1}_next(r){this.hasValue=!0,this.destination.next(r)}_complete(){if(this.hasValue)return this.destination.complete();{let r;try{r=this.errorFactory()}catch(i){r=i}this.destination.error(r)}}}function I_(){return new rp}function sp(s=null){return r=>r.lift(new uC(s))}class uC{constructor(r){this.defaultValue=r}call(r,i){return i.subscribe(new R0(r,this.defaultValue))}}class R0 extends fn.L{constructor(r,i){super(r),this.defaultValue=i,this.isEmpty=!0}_next(r){this.isEmpty=!1,this.destination.next(r)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var x0=U(4487);function Js(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Dn((u,h)=>s(u,h,o)):x0.y,vi(1),i?sp(r):N0(()=>new rp))}var Pr=U(8307),cC=U(1307),dC=U(5319);class hC{constructor(r){this.callback=r}call(r,i){return i.subscribe(new O0(r,this.callback))}}class O0 extends fn.L{constructor(r,i){super(r),this.add(new dC.w(i))}}class Eo{constructor(r,i){this.id=r,this.url=i}}class P0 extends Eo{constructor(r,i,o="imperative",u=null){super(r,i),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Td extends Eo{constructor(r,i,o){super(r,i),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fC extends Eo{constructor(r,i,o){super(r,i),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class pC extends Eo{constructor(r,i,o){super(r,i),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zS extends Eo{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WS extends Eo{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qs extends Eo{constructor(r,i,o,u,h){super(r,i),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=h}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class YS extends Eo{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gC extends Eo{constructor(r,i,o,u){super(r,i),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mC{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class _C{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class KS{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class JS{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yC{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class QS{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vC{constructor(r,i,o){this.routerEvent=r,this.position=i,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Et{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){const i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}}function Pu(s){return new Et(s)}const F0="ngNavigationCancelingError";function Dd(s){const r=Error("NavigationCancelingError: "+s);return r[F0]=!0,r}function bC(s,r,i){const o=i.path.split("/");if(o.length>s.length||"full"===i.pathMatch&&(r.hasChildren()||o.length<s.length))return null;const u={};for(let h=0;h<o.length;h++){const m=o[h],v=s[h];if(m.startsWith(":"))u[m.substring(1)]=v;else if(m!==v.path)return null}return{consumed:s.slice(0,o.length),posParams:u}}function Ts(s,r){const i=s?Object.keys(s):void 0,o=r?Object.keys(r):void 0;if(!i||!o||i.length!=o.length)return!1;let u;for(let h=0;h<i.length;h++)if(u=i[h],!Co(s[u],r[u]))return!1;return!0}function Co(s,r){if(Array.isArray(s)&&Array.isArray(r)){if(s.length!==r.length)return!1;const i=[...s].sort(),o=[...r].sort();return i.every((u,h)=>o[h]===u)}return s===r}function S_(s){return Array.prototype.concat.apply([],s)}function L0(s){return s.length>0?s[s.length-1]:null}function ii(s,r){for(const i in s)s.hasOwnProperty(i)&&r(s[i],i)}function eo(s){return(0,c.CqO)(s)?s:(0,c.QGY)(s)?(0,rn.D)(Promise.resolve(s)):(0,it.of)(s)}const Ca={exact:function eA(s,r,i){if(!Ta(s.segments,r.segments)||!A_(s.segments,r.segments,i)||s.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!s.children[o]||!eA(s.children[o],r.children[o],i))return!1;return!0},subset:U0},op={exact:function(s,r){return Ts(s,r)},subset:function(s,r){return Object.keys(r).length<=Object.keys(s).length&&Object.keys(r).every(i=>Co(s[i],r[i]))},ignored:()=>!0};function ap(s,r,i){return Ca[i.paths](s.root,r.root,i.matrixParams)&&op[i.queryParams](s.queryParams,r.queryParams)&&!("exact"===i.fragment&&s.fragment!==r.fragment)}function U0(s,r,i){return nA(s,r,r.segments,i)}function nA(s,r,i,o){if(s.segments.length>i.length){const u=s.segments.slice(0,i.length);return!(!Ta(u,i)||r.hasChildren()||!A_(u,i,o))}if(s.segments.length===i.length){if(!Ta(s.segments,i)||!A_(s.segments,i,o))return!1;for(const u in r.children)if(!s.children[u]||!U0(s.children[u],r.children[u],o))return!1;return!0}{const u=i.slice(0,s.segments.length),h=i.slice(s.segments.length);return!!(Ta(s.segments,u)&&A_(s.segments,u,o)&&s.children[Pt])&&nA(s.children[Pt],r,h,o)}}function A_(s,r,i){return r.every((o,u)=>op[i](s[u].parameters,o.parameters))}class Id{constructor(r,i,o){this.root=r,this.queryParams=i,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return nx.serialize(this)}}class Bt{constructor(r,i){this.segments=r,this.children=i,this.parent=null,ii(i,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return B0(this)}}class Sd{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap||(this._parameterMap=Pu(this.parameters)),this._parameterMap}toString(){return M_(this)}}function Ta(s,r){return s.length===r.length&&s.every((i,o)=>i.path===r[o].path)}class EC{}class iA{parse(r){const i=new lA(r);return new Id(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){var s;return`${`/${N_(r.root,!0)}`}${function(s){const r=Object.keys(s).map(i=>{const o=s[i];return Array.isArray(o)?o.map(u=>`${j0(i)}=${j0(u)}`).join("&"):`${j0(i)}=${j0(o)}`}).filter(i=>!!i);return r.length?`?${r.join("&")}`:""}(r.queryParams)}${"string"==typeof r.fragment?`#${s=r.fragment,encodeURI(s)}`:""}`}}const nx=new iA;function B0(s){return s.segments.map(r=>M_(r)).join("/")}function N_(s,r){if(!s.hasChildren())return B0(s);if(r){const i=s.children[Pt]?N_(s.children[Pt],!1):"",o=[];return ii(s.children,(u,h)=>{h!==Pt&&o.push(`${h}:${N_(u,!1)}`)}),o.length>0?`${i}(${o.join("//")})`:i}{const i=function(s,r){let i=[];return ii(s.children,(o,u)=>{u===Pt&&(i=i.concat(r(o,u)))}),ii(s.children,(o,u)=>{u!==Pt&&(i=i.concat(r(o,u)))}),i}(s,(o,u)=>u===Pt?[N_(s.children[Pt],!1)]:[`${u}:${N_(o,!1)}`]);return 1===Object.keys(s.children).length&&null!=s.children[Pt]?`${B0(s)}/${i[0]}`:`${B0(s)}/(${i.join("//")})`}}function sA(s){return encodeURIComponent(s).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function j0(s){return sA(s).replace(/%3B/gi,";")}function CC(s){return sA(s).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function H0(s){return decodeURIComponent(s)}function Da(s){return H0(s.replace(/\+/g,"%20"))}function M_(s){return`${CC(s.path)}${function(s){return Object.keys(s).map(r=>`;${CC(r)}=${CC(s[r])}`).join("")}(s.parameters)}`}const $0=/^[^\/()?;=#]+/;function lp(s){const r=s.match($0);return r?r[0]:""}const G0=/^[^=?&#]+/,Dl=/^[^?&#]+/;class lA{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Bt([],{}):new Bt([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(o[Pt]=new Bt(r,i)),o}parseSegment(){const r=lp(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Sd(H0(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const i=lp(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const u=lp(this.remaining);u&&(o=u,this.capture(o))}r[H0(i)]=H0(o)}parseQueryParam(r){const i=function(s){const r=s.match(G0);return r?r[0]:""}(this.remaining);if(!i)return;this.capture(i);let o="";if(this.consumeOptional("=")){const m=function(s){const r=s.match(Dl);return r?r[0]:""}(this.remaining);m&&(o=m,this.capture(o))}const u=Da(i),h=Da(o);if(r.hasOwnProperty(u)){let m=r[u];Array.isArray(m)||(m=[m],r[u]=m),m.push(h)}else r[u]=h}parseParens(r){const i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=lp(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let h;o.indexOf(":")>-1?(h=o.substr(0,o.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=Pt);const m=this.parseChildren();i[h]=1===Object.keys(m).length?m[Pt]:new Bt([],m),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class uA{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){const i=up(r,this._root);return i?i.children.map(o=>o.value):[]}firstChild(r){const i=up(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){const i=Z0(r,this._root);return i.length<2?[]:i[i.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Z0(r,this._root).map(i=>i.value)}}function up(s,r){if(s===r.value)return r;for(const i of r.children){const o=up(s,i);if(o)return o}return null}function Z0(s,r){if(s===r.value)return[r];for(const i of r.children){const o=Z0(s,i);if(o.length)return o.unshift(r),o}return[]}class To{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}}function cp(s){const r={};return s&&s.children.forEach(i=>r[i.value.outlet]=i),r}class IC extends uA{constructor(r,i){super(r),this.snapshot=i,R_(this,r)}toString(){return this.snapshot.toString()}}function Ad(s,r){const i=function(s,r){const m=new Ia([],{},{},"",{},Pt,r,null,s.root,-1,{});return new SC("",new To(m,[]))}(s,r),o=new On([new Sd("",{})]),u=new On({}),h=new On({}),m=new On({}),v=new On(""),C=new Il(o,u,m,v,h,Pt,r,i.root);return C.snapshot=i.root,new IC(new To(C,[]),i)}class Il{constructor(r,i,o,u,h,m,v,C){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this._futureSnapshot=C}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(r=>Pu(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(r=>Pu(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Fu(s,r="emptyOnly"){const i=s.pathFromRoot;let o=0;if("always"!==r)for(o=i.length-1;o>=1;){const u=i[o],h=i[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(h.component)break;o--}}return function(s){return s.reduce((r,i)=>({params:Object.assign(Object.assign({},r.params),i.params),data:Object.assign(Object.assign({},r.data),i.data),resolve:Object.assign(Object.assign({},r.resolve),i._resolvedData)}),{params:{},data:{},resolve:{}})}(i.slice(o))}class Ia{constructor(r,i,o,u,h,m,v,C,S,N,x){this.url=r,this.params=i,this.queryParams=o,this.fragment=u,this.data=h,this.outlet=m,this.component=v,this.routeConfig=C,this._urlSegment=S,this._lastPathIndex=N,this._resolve=x}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Pu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Pu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class SC extends uA{constructor(r,i){super(i),this.url=r,R_(this,i)}toString(){return q0(this._root)}}function R_(s,r){r.value._routerState=s,r.children.forEach(i=>R_(s,i))}function q0(s){const r=s.children.length>0?` { ${s.children.map(q0).join(", ")} } `:"";return`${s.value}${r}`}function hp(s){if(s.snapshot){const r=s.snapshot,i=s._futureSnapshot;s.snapshot=i,Ts(r.queryParams,i.queryParams)||s.queryParams.next(i.queryParams),r.fragment!==i.fragment&&s.fragment.next(i.fragment),Ts(r.params,i.params)||s.params.next(i.params),function(s,r){if(s.length!==r.length)return!1;for(let i=0;i<s.length;++i)if(!Ts(s[i],r[i]))return!1;return!0}(r.url,i.url)||s.url.next(i.url),Ts(r.data,i.data)||s.data.next(i.data)}else s.snapshot=s._futureSnapshot,s.data.next(s._futureSnapshot.data)}function fp(s,r){return Ts(s.params,r.params)&&function(s,r){return Ta(s,r)&&s.every((i,o)=>Ts(i.parameters,r[o].parameters))}(s.url,r.url)&&!(!s.parent!=!r.parent)&&(!s.parent||fp(s.parent,r.parent))}function Lu(s,r,i){if(i&&s.shouldReuseRoute(r.value,i.value.snapshot)){const o=i.value;o._futureSnapshot=r.value;const u=function(s,r,i){return r.children.map(o=>{for(const u of i.children)if(s.shouldReuseRoute(o.value,u.value.snapshot))return Lu(s,o,u);return Lu(s,o)})}(s,r,i);return new To(o,u)}{if(s.shouldAttach(r.value)){const h=s.retrieve(r.value);if(null!==h){const m=h.route;return NC(r,m),m}}const o=function(s){return new Il(new On(s.url),new On(s.params),new On(s.queryParams),new On(s.fragment),new On(s.data),s.outlet,s.component,s)}(r.value),u=r.children.map(h=>Lu(s,h));return new To(o,u)}}function NC(s,r){if(s.value.routeConfig!==r.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(s.children.length!==r.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");r.value._futureSnapshot=s.value;for(let i=0;i<s.children.length;++i)NC(s.children[i],r.children[i])}function pp(s){return"object"==typeof s&&null!=s&&!s.outlets&&!s.segmentPath}function gp(s){return"object"==typeof s&&null!=s&&s.outlets}function x_(s,r,i,o,u){let h={};return o&&ii(o,(m,v)=>{h[v]=Array.isArray(m)?m.map(C=>`${C}`):`${m}`}),new Id(i.root===s?r:xC(i.root,s,r),h,u)}function xC(s,r,i){const o={};return ii(s.children,(u,h)=>{o[h]=u===r?i:xC(u,r,i)}),new Bt(s.segments,o)}class kC{constructor(r,i,o){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=o,r&&o.length>0&&pp(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(gp);if(u&&u!==L0(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class z0{constructor(r,i,o){this.segmentGroup=r,this.processChildren=i,this.index=o}}function W0(s,r,i){if(s||(s=new Bt([],{})),0===s.segments.length&&s.hasChildren())return Y0(s,r,i);const o=function(s,r,i){let o=0,u=r;const h={match:!1,pathIndex:0,commandIndex:0};for(;u<s.segments.length;){if(o>=i.length)return h;const m=s.segments[u],v=i[o];if(gp(v))break;const C=`${v}`,S=o<i.length-1?i[o+1]:null;if(u>0&&void 0===C)break;if(C&&S&&"object"==typeof S&&void 0===S.outlets){if(!FC(C,S,m))return h;o+=2}else{if(!FC(C,{},m))return h;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(s,r,i),u=i.slice(o.commandIndex);if(o.match&&o.pathIndex<s.segments.length){const h=new Bt(s.segments.slice(0,o.pathIndex),{});return h.children[Pt]=new Bt(s.segments.slice(o.pathIndex),s.children),Y0(h,0,u)}return o.match&&0===u.length?new Bt(s.segments,{}):o.match&&!s.hasChildren()?mp(s,r,i):o.match?Y0(s,0,u):mp(s,r,i)}function Y0(s,r,i){if(0===i.length)return new Bt(s.segments,{});{const o=function(s){return gp(s[0])?s[0].outlets:{[Pt]:s}}(i),u={};return ii(o,(h,m)=>{"string"==typeof h&&(h=[h]),null!==h&&(u[m]=W0(s.children[m],r,h))}),ii(s.children,(h,m)=>{void 0===o[m]&&(u[m]=h)}),new Bt(s.segments,u)}}function mp(s,r,i){const o=s.segments.slice(0,r);let u=0;for(;u<i.length;){const h=i[u];if(gp(h)){const C=OC(h.outlets);return new Bt(o,C)}if(0===u&&pp(i[0])){o.push(new Sd(s.segments[r].path,PC(i[0]))),u++;continue}const m=gp(h)?h.outlets[Pt]:`${h}`,v=u<i.length-1?i[u+1]:null;m&&v&&pp(v)?(o.push(new Sd(m,PC(v))),u+=2):(o.push(new Sd(m,{})),u++)}return new Bt(o,{})}function OC(s){const r={};return ii(s,(i,o)=>{"string"==typeof i&&(i=[i]),null!==i&&(r[o]=mp(new Bt([],{}),0,i))}),r}function PC(s){const r={};return ii(s,(i,o)=>r[o]=`${i}`),r}function FC(s,r,i){return s==i.path&&Ts(r,i.parameters)}class LC{constructor(r,i,o,u){this.routeReuseStrategy=r,this.futureState=i,this.currState=o,this.forwardEvent=u}activate(r){const i=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,o,r),hp(this.futureState.root),this.activateChildRoutes(i,o,r)}deactivateChildRoutes(r,i,o){const u=cp(i);r.children.forEach(h=>{const m=h.value.outlet;this.deactivateRoutes(h,u[m],o),delete u[m]}),ii(u,(h,m)=>{this.deactivateRouteAndItsChildren(h,o)})}deactivateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(u===h)if(u.component){const m=o.getContext(u.outlet);m&&this.deactivateChildRoutes(r,i,m.children)}else this.deactivateChildRoutes(r,i,o);else h&&this.deactivateRouteAndItsChildren(i,o)}deactivateRouteAndItsChildren(r,i){this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){const o=i.getContext(r.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),h=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:h})}}deactivateRouteAndOutlet(r,i){const o=i.getContext(r.value.outlet),u=o&&r.value.component?o.children:i,h=cp(r);for(const m of Object.keys(h))this.deactivateRouteAndItsChildren(h[m],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,i,o){const u=cp(i);r.children.forEach(h=>{this.activateRoutes(h,u[h.value.outlet],o),this.forwardEvent(new QS(h.value.snapshot))}),r.children.length&&this.forwardEvent(new JS(r.value.snapshot))}activateRoutes(r,i,o){const u=r.value,h=i?i.value:null;if(hp(u),u===h)if(u.component){const m=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,i,m.children)}else this.activateChildRoutes(r,i,o);else if(u.component){const m=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const v=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),m.children.onOutletReAttached(v.contexts),m.attachRef=v.componentRef,m.route=v.route.value,m.outlet&&m.outlet.attach(v.componentRef,v.route.value),VC(v.route)}else{const v=function(s){for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig;if(i&&i.component)return null}return null}(u.snapshot),C=v?v.module.componentFactoryResolver:null;m.attachRef=null,m.route=u,m.resolver=C,m.outlet&&m.outlet.activateWith(u,C),this.activateChildRoutes(r,null,m.children)}}else this.activateChildRoutes(r,null,o)}}function VC(s){hp(s.value),s.children.forEach(VC)}class K0{constructor(r,i){this.routes=r,this.module=i}}function Sl(s){return"function"==typeof s}function Al(s){return s instanceof Id}const _p=Symbol("INITIAL_VALUE");function k_(){return jn(s=>function(...s){let r,i;return(0,Cl.K)(s[s.length-1])&&(i=s.pop()),"function"==typeof s[s.length-1]&&(r=s.pop()),1===s.length&&(0,Fi.k)(s[0])&&(s=s[0]),(0,tp.n)(s,i).lift(new XE(r))}(s.map(r=>r.pipe(vi(1),wa(_p)))).pipe(Cd((r,i)=>{let o=!1;return i.reduce((u,h,m)=>u!==_p?u:(h===_p&&(o=!0),o||!1!==h&&m!==i.length-1&&!Al(h)?u:h),r)},_p),Dn(r=>r!==_p),(0,nt.U)(r=>Al(r)?r:!0===r),vi(1)))}let Q0=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["ng-component"]],decls:1,vars:0,template:function(i,o){1&i&&c._UZ(0,"router-outlet")},directives:function(){return[hb]},encapsulation:2}),s})();function jC(s,r=""){for(let i=0;i<s.length;i++){const o=s[i];gA(o,mA(r,o))}}function gA(s,r){s.children&&jC(s.children,r)}function mA(s,r){return r?s||r.path?s&&!r.path?`${s}/`:!s&&r.path?r.path:`${s}/${r.path}`:"":s}function yp(s){const r=s.children&&s.children.map(yp),i=r?Object.assign(Object.assign({},s),{children:r}):Object.assign({},s);return!i.component&&(r||i.loadChildren)&&i.outlet&&i.outlet!==Pt&&(i.component=Q0),i}function Ds(s){return s.outlet||Pt}function HC(s,r){const i=s.filter(o=>Ds(o)===r);return i.push(...s.filter(o=>Ds(o)!==r)),i}const vp={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Md(s,r,i){var o;if(""===r.path)return"full"===r.pathMatch&&(s.hasChildren()||i.length>0)?Object.assign({},vp):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const h=(r.matcher||bC)(i,s,r);if(!h)return Object.assign({},vp);const m={};ii(h.posParams,(C,S)=>{m[S]=C.path});const v=h.consumed.length>0?Object.assign(Object.assign({},m),h.consumed[h.consumed.length-1].parameters):m;return{matched:!0,consumedSegments:h.consumed,lastChild:h.consumed.length,parameters:v,positionalParamSegments:null!==(o=h.posParams)&&void 0!==o?o:{}}}function O_(s,r,i,o,u="corrected"){if(i.length>0&&function(s,r,i){return i.some(o=>P_(s,r,o)&&Ds(o)!==Pt)}(s,i,o)){const m=new Bt(r,function(s,r,i,o){const u={};u[Pt]=o,o._sourceSegment=s,o._segmentIndexShift=r.length;for(const h of i)if(""===h.path&&Ds(h)!==Pt){const m=new Bt([],{});m._sourceSegment=s,m._segmentIndexShift=r.length,u[Ds(h)]=m}return u}(s,r,o,new Bt(i,s.children)));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:[]}}if(0===i.length&&function(s,r,i){return i.some(o=>P_(s,r,o))}(s,i,o)){const m=new Bt(s.segments,function(s,r,i,o,u,h){const m={};for(const v of o)if(P_(s,i,v)&&!u[Ds(v)]){const C=new Bt([],{});C._sourceSegment=s,C._segmentIndexShift="legacy"===h?s.segments.length:r.length,m[Ds(v)]=C}return Object.assign(Object.assign({},u),m)}(s,r,i,o,s.children,u));return m._sourceSegment=s,m._segmentIndexShift=r.length,{segmentGroup:m,slicedSegments:i}}const h=new Bt(s.segments,s.children);return h._sourceSegment=s,h._segmentIndexShift=r.length,{segmentGroup:h,slicedSegments:i}}function P_(s,r,i){return(!(s.hasChildren()||r.length>0)||"full"!==i.pathMatch)&&""===i.path}function F_(s,r,i,o){return!!(Ds(s)===o||o!==Pt&&P_(r,i,s))&&("**"===s.path||Md(r,s,i).matched)}function yA(s,r,i){return 0===r.length&&!s.children[i]}class bp{constructor(r){this.segmentGroup=r||null}}class tb{constructor(r){this.urlTree=r}}function wp(s){return new Wn.y(r=>r.error(new bp(s)))}function nb(s){return new Wn.y(r=>r.error(new tb(s)))}function GC(s){return new Wn.y(r=>r.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${s}'`)))}class L_{constructor(r,i,o,u,h){this.configLoader=i,this.urlSerializer=o,this.urlTree=u,this.config=h,this.allowRedirects=!0,this.ngModule=r.get(c.h0i)}apply(){const r=O_(this.urlTree.root,[],[],this.config).segmentGroup,i=new Bt(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,i,Pt).pipe((0,nt.U)(h=>this.createUrlTree(rb(h),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ts(h=>{if(h instanceof tb)return this.allowRedirects=!1,this.match(h.urlTree);throw h instanceof bp?this.noMatchError(h):h}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Pt).pipe((0,nt.U)(u=>this.createUrlTree(rb(u),r.queryParams,r.fragment))).pipe(ts(u=>{throw u instanceof bp?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,i,o){const u=r.segments.length>0?new Bt([],{[Pt]:r}):r;return new Id(u,i,o)}expandSegmentGroup(r,i,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,i,o).pipe((0,nt.U)(h=>new Bt([],h))):this.expandSegment(r,o,i,o.segments,u,!0)}expandChildren(r,i,o){const u=[];for(const h of Object.keys(o.children))"primary"===h?u.unshift(h):u.push(h);return(0,rn.D)(u).pipe(Ea(h=>{const m=o.children[h],v=HC(i,h);return this.expandSegmentGroup(r,v,m,h).pipe((0,nt.U)(C=>({segment:C,outlet:h})))}),Cd((h,m)=>(h[m.outlet]=m.segment,h),{}),function(s,r){const i=arguments.length>=2;return o=>o.pipe(s?Dn((u,h)=>s(u,h,o)):x0.y,A0(1),i?sp(r):N0(()=>new rp))}())}expandSegment(r,i,o,u,h,m){return(0,rn.D)(o).pipe(Ea(v=>this.expandSegmentAgainstRoute(r,i,o,v,u,h,m).pipe(ts(S=>{if(S instanceof bp)return(0,it.of)(null);throw S}))),Js(v=>!!v),ts((v,C)=>{if(v instanceof rp||"EmptyError"===v.name){if(yA(i,u,h))return(0,it.of)(new Bt([],{}));throw new bp(i)}throw v}))}expandSegmentAgainstRoute(r,i,o,u,h,m,v){return F_(u,i,h,m)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,i,u,h,m):v&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m):wp(i):wp(i)}expandSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,m):this.expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,i,o,u){const h=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?nb(h):this.lineralizeSegments(o,h).pipe((0,ri.zg)(m=>{const v=new Bt(m,{});return this.expandSegment(r,v,i,m,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,i,o,u,h,m){const{matched:v,consumedSegments:C,lastChild:S,positionalParamSegments:N}=Md(i,u,h);if(!v)return wp(i);const x=this.applyRedirectCommands(C,u.redirectTo,N);return u.redirectTo.startsWith("/")?nb(x):this.lineralizeSegments(u,x).pipe((0,ri.zg)(F=>this.expandSegment(r,i,o,F.concat(h.slice(S)),m,!1)))}matchSegmentAgainstRoute(r,i,o,u,h){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,it.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,nt.U)(F=>(o._loadedConfig=F,new Bt(u,{})))):(0,it.of)(new Bt(u,{}));const{matched:m,consumedSegments:v,lastChild:C}=Md(i,o,u);if(!m)return wp(i);const S=u.slice(C);return this.getChildConfig(r,o,u).pipe((0,ri.zg)(x=>{const F=x.module,L=x.routes,{segmentGroup:q,slicedSegments:re}=O_(i,v,S,L),be=new Bt(q.segments,q.children);if(0===re.length&&be.hasChildren())return this.expandChildren(F,L,be).pipe((0,nt.U)(st=>new Bt(v,st)));if(0===L.length&&0===re.length)return(0,it.of)(new Bt(v,{}));const xe=Ds(o)===h;return this.expandSegment(F,be,L,re,xe?Pt:h,!0).pipe((0,nt.U)(Ye=>new Bt(v.concat(Ye.segments),Ye.children)))}))}getChildConfig(r,i,o){return i.children?(0,it.of)(new K0(i.children,r)):i.loadChildren?void 0!==i._loadedConfig?(0,it.of)(i._loadedConfig):this.runCanLoadGuards(r.injector,i,o).pipe((0,ri.zg)(u=>{return u?this.configLoader.load(r.injector,i).pipe((0,nt.U)(h=>(i._loadedConfig=h,h))):(s=i,new Wn.y(r=>r.error(Dd(`Cannot load children because the guard of the route "path: '${s.path}'" returned false`))));var s})):(0,it.of)(new K0([],r))}runCanLoadGuards(r,i,o){const u=i.canLoad;if(!u||0===u.length)return(0,it.of)(!0);const h=u.map(m=>{const v=r.get(m);let C;if((s=v)&&Sl(s.canLoad))C=v.canLoad(i,o);else{if(!Sl(v))throw new Error("Invalid CanLoad guard");C=v(i,o)}var s;return eo(C)});return(0,it.of)(h).pipe(k_(),(0,Pr.b)(m=>{if(!Al(m))return;const v=Dd(`Redirecting to "${this.urlSerializer.serialize(m)}"`);throw v.url=m,v}),(0,nt.U)(m=>!0===m))}lineralizeSegments(r,i){let o=[],u=i.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,it.of)(o);if(u.numberOfChildren>1||!u.children[Pt])return GC(r.redirectTo);u=u.children[Pt]}}applyRedirectCommands(r,i,o){return this.applyRedirectCreatreUrlTree(i,this.urlSerializer.parse(i),r,o)}applyRedirectCreatreUrlTree(r,i,o,u){const h=this.createSegmentGroup(r,i.root,o,u);return new Id(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){const o={};return ii(r,(u,h)=>{if("string"==typeof u&&u.startsWith(":")){const v=u.substring(1);o[h]=i[v]}else o[h]=u}),o}createSegmentGroup(r,i,o,u){const h=this.createSegments(r,i.segments,o,u);let m={};return ii(i.children,(v,C)=>{m[C]=this.createSegmentGroup(r,v,o,u)}),new Bt(h,m)}createSegments(r,i,o,u){return i.map(h=>h.path.startsWith(":")?this.findPosParam(r,h,u):this.findOrReturn(h,o))}findPosParam(r,i,o){const u=o[i.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${i.path}'.`);return u}findOrReturn(r,i){let o=0;for(const u of i){if(u.path===r.path)return i.splice(o),u;o++}return r}}function rb(s){const r={};for(const o of Object.keys(s.children)){const h=rb(s.children[o]);(h.segments.length>0||h.hasChildren())&&(r[o]=h)}return function(s){if(1===s.numberOfChildren&&s.children[Pt]){const r=s.children[Pt];return new Bt(s.segments.concat(r.segments),r.children)}return s}(new Bt(s.segments,r))}class Vu{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Ep{constructor(r,i){this.component=r,this.route=i}}function Cp(s,r,i){const o=s._root;return Rd(o,r?r._root:null,i,[o.value])}function V_(s,r,i){const o=function(s){if(!s)return null;for(let r=s.parent;r;r=r.parent){const i=r.routeConfig;if(i&&i._loadedConfig)return i._loadedConfig}return null}(r);return(o?o.module.injector:i).get(s)}function Rd(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=cp(r);return s.children.forEach(m=>{(function(s,r,i,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const h=s.value,m=r?r.value:null,v=i?i.getContext(s.value.outlet):null;if(m&&h.routeConfig===m.routeConfig){const C=function(s,r,i){if("function"==typeof i)return i(s,r);switch(i){case"pathParamsChange":return!Ta(s.url,r.url);case"pathParamsOrQueryParamsChange":return!Ta(s.url,r.url)||!Ts(s.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fp(s,r)||!Ts(s.queryParams,r.queryParams);case"paramsChange":default:return!fp(s,r)}}(m,h,h.routeConfig.runGuardsAndResolvers);C?u.canActivateChecks.push(new Vu(o)):(h.data=m.data,h._resolvedData=m._resolvedData),Rd(s,r,h.component?v?v.children:null:i,o,u),C&&v&&v.outlet&&v.outlet.isActivated&&u.canDeactivateChecks.push(new Ep(v.outlet.component,m))}else m&&Dp(r,v,u),u.canActivateChecks.push(new Vu(o)),Rd(s,null,h.component?v?v.children:null:i,o,u)})(m,h[m.value.outlet],i,o.concat([m.value]),u),delete h[m.value.outlet]}),ii(h,(m,v)=>Dp(m,i.getContext(v),u)),u}function Dp(s,r,i){const o=cp(s),u=s.value;ii(o,(h,m)=>{Dp(h,u.component?r?r.children.getContext(m):null:r,i)}),i.canDeactivateChecks.push(new Ep(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class kd{}function YC(s){return new Wn.y(r=>r.error(s))}class IA{constructor(r,i,o,u,h,m){this.rootComponentType=r,this.config=i,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=h,this.relativeLinkResolution=m}recognize(){const r=O_(this.urlTree.root,[],[],this.config.filter(m=>void 0===m.redirectTo),this.relativeLinkResolution).segmentGroup,i=this.processSegmentGroup(this.config,r,Pt);if(null===i)return null;const o=new Ia([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new To(o,i),h=new SC(this.url,u);return this.inheritParamsAndData(h._root),h}inheritParamsAndData(r){const i=r.value,o=Fu(i,this.paramsInheritanceStrategy);i.params=Object.freeze(o.params),i.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,i,o){return 0===i.segments.length&&i.hasChildren()?this.processChildren(r,i):this.processSegment(r,i,i.segments,o)}processChildren(r,i){const o=[];for(const h of Object.keys(i.children)){const m=i.children[h],v=HC(r,h),C=this.processSegmentGroup(v,m,h);if(null===C)return null;o.push(...C)}const u=ob(o);return u.sort((r,i)=>r.value.outlet===Pt?-1:i.value.outlet===Pt?1:r.value.outlet.localeCompare(i.value.outlet)),u}processSegment(r,i,o,u){for(const h of r){const m=this.processSegmentAgainstRoute(h,i,o,u);if(null!==m)return m}return yA(i,o,u)?[]:null}processSegmentAgainstRoute(r,i,o,u){if(r.redirectTo||!F_(r,i,o,u))return null;let h,m=[],v=[];if("**"===r.path){const L=o.length>0?L0(o).parameters:{};h=new Ia(o,L,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Io(r),Ds(r),r.component,r,U_(i),NA(i)+o.length,B_(r))}else{const L=Md(i,r,o);if(!L.matched)return null;m=L.consumedSegments,v=o.slice(L.lastChild),h=new Ia(m,L.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Io(r),Ds(r),r.component,r,U_(i),NA(i)+m.length,B_(r))}const C=(s=r).children?s.children:s.loadChildren?s._loadedConfig.routes:[],{segmentGroup:S,slicedSegments:N}=O_(i,m,v,C.filter(L=>void 0===L.redirectTo),this.relativeLinkResolution);var s;if(0===N.length&&S.hasChildren()){const L=this.processChildren(C,S);return null===L?null:[new To(h,L)]}if(0===C.length&&0===N.length)return[new To(h,[])];const x=Ds(r)===u,F=this.processSegment(C,S,N,x?Pt:u);return null===F?null:[new To(h,F)]}}function AA(s){const r=s.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function ob(s){const r=[],i=new Set;for(const o of s){if(!AA(o)){r.push(o);continue}const u=r.find(h=>o.value.routeConfig===h.value.routeConfig);void 0!==u?(u.children.push(...o.children),i.add(u)):r.push(o)}for(const o of i){const u=ob(o.children);r.push(new To(o.value,u))}return r.filter(o=>!i.has(o))}function U_(s){let r=s;for(;r._sourceSegment;)r=r._sourceSegment;return r}function NA(s){let r=s,i=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,i+=r._segmentIndexShift?r._segmentIndexShift:0;return i-1}function Io(s){return s.data||{}}function B_(s){return s.resolve||{}}function j_(s){return jn(r=>{const i=s(r);return i?(0,rn.D)(i).pipe((0,nt.U)(()=>r)):(0,it.of)(r)})}class xA extends class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}}{}const lb=new c.OlP("ROUTES");class Od{constructor(r,i,o,u){this.loader=r,this.compiler=i,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,i){if(i._loader$)return i._loader$;this.onLoadStartListener&&this.onLoadStartListener(i);const u=this.loadModuleFactory(i.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);const m=h.create(r);return new K0(S_(m.injector.get(lb,void 0,c.XFs.Self|c.XFs.Optional)).map(yp),m)}),ts(h=>{throw i._loader$=void 0,h}));return i._loader$=new I0.c(u,()=>new en.xQ).pipe((0,cC.x)()),i._loader$}loadModuleFactory(r){return"string"==typeof r?(0,rn.D)(this.loader.load(r)):eo(r()).pipe((0,ri.zg)(i=>i instanceof c.YKP?(0,it.of)(i):(0,rn.D)(this.compiler.compileModuleAsync(i))))}}class ub{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Uu,this.attachRef=null}}class Uu{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new ub,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}class eT{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}function tT(s){throw s}function kA(s,r,i){return r.parse("/")}function nT(s,r){return(0,it.of)(null)}const OA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},PA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let si=(()=>{class s{constructor(i,o,u,h,m,v,C,S){this.rootComponentType=i,this.urlSerializer=o,this.rootContexts=u,this.location=h,this.config=S,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new en.xQ,this.errorHandler=tT,this.malformedUriErrorHandler=kA,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:nT,afterPreactivation:nT},this.urlHandlingStrategy=new eT,this.routeReuseStrategy=new xA,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=m.get(c.h0i),this.console=m.get(c.c2e);const F=m.get(c.R0b);this.isNgZoneEnabled=F instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(S),this.currentUrlTree=new Id(new Bt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Od(v,C,L=>this.triggerEvent(new mC(L)),L=>this.triggerEvent(new _C(L))),this.routerState=Ad(this.currentUrlTree,this.rootComponentType),this.transitions=new On({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var i;return null===(i=this.location.getState())||void 0===i?void 0:i.\u0275routerPageId}setupNavigations(i){const o=this.events;return i.pipe(Dn(u=>0!==u.id),(0,nt.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),jn(u=>{let h=!1,m=!1;return(0,it.of)(u).pipe((0,Pr.b)(v=>{this.currentNavigation={id:v.id,initialUrl:v.currentRawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),jn(v=>{const C=!this.navigated||v.extractedUrl.toString()!==this.browserUrlTree.toString(),S=("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(v.rawUrl);if(Ip(v.source)&&(this.browserUrlTree=v.rawUrl),S)return(0,it.of)(v).pipe(jn(N=>{const x=this.transitions.getValue();return o.next(new P0(N.id,this.serializeUrl(N.extractedUrl),N.source,N.restoredState)),x!==this.transitions.getValue()?Tl.E:Promise.resolve(N)}),function(s,r,i,o){return jn(u=>function(s,r,i,o,u){return new L_(s,r,i,o,u).apply()}(s,r,i,u.extractedUrl,o).pipe((0,nt.U)(h=>Object.assign(Object.assign({},u),{urlAfterRedirects:h}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Pr.b)(N=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:N.urlAfterRedirects})}),function(s,r,i,o,u){return(0,ri.zg)(h=>function(s,r,i,o,u="emptyOnly",h="legacy"){try{const m=new IA(s,r,i,o,u,h).recognize();return null===m?YC(new kd):(0,it.of)(m)}catch(m){return YC(m)}}(s,r,h.urlAfterRedirects,i(h.urlAfterRedirects),o,u).pipe((0,nt.U)(m=>Object.assign(Object.assign({},h),{targetSnapshot:m}))))}(this.rootComponentType,this.config,N=>this.serializeUrl(N),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Pr.b)(N=>{"eager"===this.urlUpdateStrategy&&(N.extras.skipLocationChange||this.setBrowserUrl(N.urlAfterRedirects,N),this.browserUrlTree=N.urlAfterRedirects);const x=new zS(N.id,this.serializeUrl(N.extractedUrl),this.serializeUrl(N.urlAfterRedirects),N.targetSnapshot);o.next(x)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:F,source:L,restoredState:q,extras:re}=v,be=new P0(x,this.serializeUrl(F),L,q);o.next(be);const xe=Ad(F,this.rootComponentType).snapshot;return(0,it.of)(Object.assign(Object.assign({},v),{targetSnapshot:xe,urlAfterRedirects:F,extras:Object.assign(Object.assign({},re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=v.rawUrl,this.browserUrlTree=v.urlAfterRedirects,v.resolve(null),Tl.E}),j_(v=>{const{targetSnapshot:C,id:S,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:L}}=v;return this.hooks.beforePreactivation(C,{navigationId:S,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!L})}),(0,Pr.b)(v=>{const C=new WS(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot);this.triggerEvent(C)}),(0,nt.U)(v=>Object.assign(Object.assign({},v),{guards:Cp(v.targetSnapshot,v.currentSnapshot,this.rootContexts)})),function(s,r){return(0,ri.zg)(i=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:h,canDeactivateChecks:m}}=i;return 0===m.length&&0===h.length?(0,it.of)(Object.assign(Object.assign({},i),{guardsResult:!0})):function(s,r,i,o){return(0,rn.D)(s).pipe((0,ri.zg)(u=>function(s,r,i,o,u){const h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||0===h.length)return(0,it.of)(!0);const m=h.map(v=>{const C=V_(v,r,u);let S;if(function(s){return s&&Sl(s.canDeactivate)}(C))S=eo(C.canDeactivate(s,r,i,o));else{if(!Sl(C))throw new Error("Invalid CanDeactivate guard");S=eo(C(s,r,i,o))}return S.pipe(Js())});return(0,it.of)(m).pipe(k_())}(u.component,u.route,i,r,o)),Js(u=>!0!==u,!0))}(m,o,u,s).pipe((0,ri.zg)(v=>v&&function(s){return"boolean"==typeof s}(v)?function(s,r,i,o){return(0,rn.D)(r).pipe(Ea(u=>ip(function(s,r){return null!==s&&r&&r(new KS(s)),(0,it.of)(!0)}(u.route.parent,o),function(s,r){return null!==s&&r&&r(new yC(s)),(0,it.of)(!0)}(u.route,o),function(s,r,i){const o=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(m=>function(s){const r=s.routeConfig?s.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:s,guards:r}:null}(m)).filter(m=>null!==m).map(m=>Ou(()=>{const v=m.guards.map(C=>{const S=V_(C,m.node,i);let N;if(function(s){return s&&Sl(s.canActivateChild)}(S))N=eo(S.canActivateChild(o,s));else{if(!Sl(S))throw new Error("Invalid CanActivateChild guard");N=eo(S(o,s))}return N.pipe(Js())});return(0,it.of)(v).pipe(k_())}));return(0,it.of)(h).pipe(k_())}(s,u.path,i),function(s,r,i){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,it.of)(!0);const u=o.map(h=>Ou(()=>{const m=V_(h,r,i);let v;if(function(s){return s&&Sl(s.canActivate)}(m))v=eo(m.canActivate(r,s));else{if(!Sl(m))throw new Error("Invalid CanActivate guard");v=eo(m(r,s))}return v.pipe(Js())}));return(0,it.of)(u).pipe(k_())}(s,u.route,i))),Js(u=>!0!==u,!0))}(o,h,s,r):(0,it.of)(v)),(0,nt.U)(v=>Object.assign(Object.assign({},i),{guardsResult:v})))})}(this.ngModule.injector,v=>this.triggerEvent(v)),(0,Pr.b)(v=>{if(Al(v.guardsResult)){const S=Dd(`Redirecting to "${this.serializeUrl(v.guardsResult)}"`);throw S.url=v.guardsResult,S}const C=new Qs(v.id,this.serializeUrl(v.extractedUrl),this.serializeUrl(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.triggerEvent(C)}),Dn(v=>!!v.guardsResult||(this.restoreHistory(v),this.cancelNavigationTransition(v,""),!1)),j_(v=>{if(v.guards.canActivateChecks.length)return(0,it.of)(v).pipe((0,Pr.b)(C=>{const S=new YS(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}),jn(C=>{let S=!1;return(0,it.of)(C).pipe(function(s,r){return(0,ri.zg)(i=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=i;if(!u.length)return(0,it.of)(i);let h=0;return(0,rn.D)(u).pipe(Ea(m=>function(s,r,i,o){return function(s,r,i,o){const u=Object.keys(s);if(0===u.length)return(0,it.of)({});const h={};return(0,rn.D)(u).pipe((0,ri.zg)(m=>function(s,r,i,o){const u=V_(s,r,o);return eo(u.resolve?u.resolve(r,i):u(r,i))}(s[m],r,i,o).pipe((0,Pr.b)(v=>{h[m]=v}))),A0(1),(0,ri.zg)(()=>Object.keys(h).length===u.length?(0,it.of)(h):Tl.E))}(s._resolve,s,r,o).pipe((0,nt.U)(h=>(s._resolvedData=h,s.data=Object.assign(Object.assign({},s.data),Fu(s,i).resolve),null)))}(m.route,o,s,r)),(0,Pr.b)(()=>h++),A0(1),(0,ri.zg)(m=>h===u.length?(0,it.of)(i):Tl.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Pr.b)({next:()=>S=!0,complete:()=>{S||(this.restoreHistory(C),this.cancelNavigationTransition(C,"At least one route resolver didn't emit any value."))}}))}),(0,Pr.b)(C=>{const S=new gC(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);this.triggerEvent(S)}))}),j_(v=>{const{targetSnapshot:C,id:S,extractedUrl:N,rawUrl:x,extras:{skipLocationChange:F,replaceUrl:L}}=v;return this.hooks.afterPreactivation(C,{navigationId:S,appliedUrlTree:N,rawUrlTree:x,skipLocationChange:!!F,replaceUrl:!!L})}),(0,nt.U)(v=>{const C=function(s,r,i){const o=Lu(s,r._root,i?i._root:void 0);return new IC(o,r)}(this.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return Object.assign(Object.assign({},v),{targetRouterState:C})}),(0,Pr.b)(v=>{this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects)}),((s,r,i)=>(0,nt.U)(o=>(new LC(r,o.targetRouterState,o.currentRouterState,i).activate(s),o)))(this.rootContexts,this.routeReuseStrategy,v=>this.triggerEvent(v)),(0,Pr.b)({next(){h=!0},complete(){h=!0}}),function(s){return r=>r.lift(new hC(s))}(()=>{if(!h&&!m){const v=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,v)):this.cancelNavigationTransition(u,v)}this.currentNavigation=null}),ts(v=>{if(m=!0,function(s){return s&&s[F0]}(v)){const C=Al(v.url);C||(this.navigated=!0,this.restoreHistory(u,!0));const S=new fC(u.id,this.serializeUrl(u.extractedUrl),v.message);o.next(S),C?setTimeout(()=>{const N=this.urlHandlingStrategy.merge(v.url,this.rawUrlTree),x={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ip(u.source)};this.scheduleNavigation(N,"imperative",null,x,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const C=new pC(u.id,this.serializeUrl(u.extractedUrl),v);o.next(C);try{u.resolve(this.errorHandler(v))}catch(S){u.reject(S)}}return Tl.E}))}))}resetRootComponentType(i){this.rootComponentType=i,this.routerState.root.component=this.rootComponentType}getTransition(){const i=this.transitions.value;return i.urlAfterRedirects=this.browserUrlTree,i}setTransition(i){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),i))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(i=>{const o=this.extractLocationChangeInfoFromEvent(i);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:h,urlTree:m}=o,v={replaceUrl:!0};if(h){const C=Object.assign({},h);delete C.navigationId,delete C.\u0275routerPageId,0!==Object.keys(C).length&&(v.state=C)}this.scheduleNavigation(m,u,h,v)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(i){var o;return{source:"popstate"===i.type?"popstate":"hashchange",urlTree:this.parseUrl(i.url),state:(null===(o=i.state)||void 0===o?void 0:o.navigationId)?i.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(i,o){if(!i)return!0;const u=o.urlTree.toString()===i.urlTree.toString();return o.transitionId!==i.transitionId||!u||!("hashchange"===o.source&&"popstate"===i.source||"popstate"===o.source&&"hashchange"===i.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(i){this.events.next(i)}resetConfig(i){jC(i),this.config=i.map(yp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(i,o={}){const{relativeTo:u,queryParams:h,fragment:m,queryParamsHandling:v,preserveFragment:C}=o,S=u||this.routerState.root,N=C?this.currentUrlTree.fragment:m;let x=null;switch(v){case"merge":x=Object.assign(Object.assign({},this.currentUrlTree.queryParams),h);break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=h||null}return null!==x&&(x=this.removeEmptyProps(x)),function(s,r,i,o,u){if(0===i.length)return x_(r.root,r.root,r,o,u);const h=function(s){if("string"==typeof s[0]&&1===s.length&&"/"===s[0])return new kC(!0,0,s);let r=0,i=!1;const o=s.reduce((u,h,m)=>{if("object"==typeof h&&null!=h){if(h.outlets){const v={};return ii(h.outlets,(C,S)=>{v[S]="string"==typeof C?C.split("/"):C}),[...u,{outlets:v}]}if(h.segmentPath)return[...u,h.segmentPath]}return"string"!=typeof h?[...u,h]:0===m?(h.split("/").forEach((v,C)=>{0==C&&"."===v||(0==C&&""===v?i=!0:".."===v?r++:""!=v&&u.push(v))}),u):[...u,h]},[]);return new kC(i,r,o)}(i);if(h.toRoot())return x_(r.root,new Bt([],{}),r,o,u);const m=function(s,r,i){if(s.isAbsolute)return new z0(r.root,!0,0);if(-1===i.snapshot._lastPathIndex){const h=i.snapshot._urlSegment;return new z0(h,h===r.root,0)}const o=pp(s.commands[0])?0:1;return function(s,r,i){let o=s,u=r,h=i;for(;h>u;){if(h-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new z0(o,!1,u-h)}(i.snapshot._urlSegment,i.snapshot._lastPathIndex+o,s.numberOfDoubleDots)}(h,r,s),v=m.processChildren?Y0(m.segmentGroup,m.index,h.commands):W0(m.segmentGroup,m.index,h.commands);return x_(m.segmentGroup,v,r,o,u)}(S,this.currentUrlTree,i,x,null!=N?N:null)}navigateByUrl(i,o={skipLocationChange:!1}){const u=Al(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(h,"imperative",null,o)}navigate(i,o={skipLocationChange:!1}){return function(s){for(let r=0;r<s.length;r++){const i=s[r];if(null==i)throw new Error(`The requested path contains ${i} segment at index ${r}`)}}(i),this.navigateByUrl(this.createUrlTree(i,o),o)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){let o;try{o=this.urlSerializer.parse(i)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,i)}return o}isActive(i,o){let u;if(u=!0===o?Object.assign({},OA):!1===o?Object.assign({},PA):o,Al(i))return ap(this.currentUrlTree,i,u);const h=this.parseUrl(i);return ap(this.currentUrlTree,h,u)}removeEmptyProps(i){return Object.keys(i).reduce((o,u)=>{const h=i[u];return null!=h&&(o[u]=h),o},{})}processNavigations(){this.navigations.subscribe(i=>{this.navigated=!0,this.lastSuccessfulId=i.id,this.currentPageId=i.targetPageId,this.events.next(new Td(i.id,this.serializeUrl(i.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,i.resolve(!0)},i=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(i,o,u,h,m){var v,C;if(this.disposed)return Promise.resolve(!1);const S=this.getTransition(),N=Ip(o)&&S&&!Ip(S.source),L=(this.lastSuccessfulId===S.id||this.currentNavigation?S.rawUrl:S.urlAfterRedirects).toString()===i.toString();if(N&&L)return Promise.resolve(!0);let q,re,be;m?(q=m.resolve,re=m.reject,be=m.promise):be=new Promise((Ye,st)=>{q=Ye,re=st});const xe=++this.navigationId;let Pe;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Pe=u&&u.\u0275routerPageId?u.\u0275routerPageId:h.replaceUrl||h.skipLocationChange?null!==(v=this.browserPageId)&&void 0!==v?v:0:(null!==(C=this.browserPageId)&&void 0!==C?C:0)+1):Pe=0,this.setTransition({id:xe,targetPageId:Pe,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:i,extras:h,resolve:q,reject:re,promise:be,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),be.catch(Ye=>Promise.reject(Ye))}setBrowserUrl(i,o){const u=this.urlSerializer.serialize(i),h=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",h):this.location.go(u,"",h)}restoreHistory(i,o=!1){var u,h;if("computed"===this.canceledNavigationResolution){const m=this.currentPageId-i.targetPageId;"popstate"!==i.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===m?this.currentUrlTree===(null===(h=this.currentNavigation)||void 0===h?void 0:h.finalUrl)&&0===m&&(this.resetState(i),this.browserUrlTree=i.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(m)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=i.currentRouterState,this.currentUrlTree=i.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(i,o){const u=new fC(i.id,this.serializeUrl(i.extractedUrl),o);this.triggerEvent(u),i.resolve(!1)}generateNgRouterState(i,o){return"computed"===this.canceledNavigationResolution?{navigationId:i,\u0275routerPageId:o}:{navigationId:i}}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.DyG),c.LFG(EC),c.LFG(Uu),c.LFG(tt),c.LFG(c.zs3),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(void 0))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();function Ip(s){return"imperative"!==s}let cb=(()=>{class s{constructor(i,o,u,h,m){this.router=i,this.route=o,this.commands=[],this.onChanges=new en.xQ,null==u&&h.setAttribute(m.nativeElement,"tabindex","0")}ngOnChanges(i){this.onChanges.next(this)}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}onClick(){const i={skipLocationChange:Sp(this.skipLocationChange),replaceUrl:Sp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sp(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(si),c.Y36(Il),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},s.\u0275dir=c.lG2({type:s,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(i,o){1&i&&c.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),s})(),H_=(()=>{class s{constructor(i,o,u){this.router=i,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new en.xQ,this.subscription=i.events.subscribe(h=>{h instanceof Td&&this.updateTargetUrlAndHref()})}set routerLink(i){this.commands=null!=i?Array.isArray(i)?i:[i]:[]}ngOnChanges(i){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(i,o,u,h,m){if(0!==i||o||u||h||m||"string"==typeof this.target&&"_self"!=this.target)return!0;const v={skipLocationChange:Sp(this.skipLocationChange),replaceUrl:Sp(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,v),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Sp(this.preserveFragment)})}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(si),c.Y36(Il),c.Y36(Me))},s.\u0275dir=c.lG2({type:s,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(i,o){1&i&&c.NdJ("click",function(h){return o.onClick(h.button,h.ctrlKey,h.shiftKey,h.altKey,h.metaKey)}),2&i&&(c.Ikx("href",o.href,c.LSH),c.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[c.TTD]}),s})();function Sp(s){return""===s||!!s}let FA=(()=>{class s{constructor(i,o,u,h,m,v){this.router=i,this.element=o,this.renderer=u,this.cdr=h,this.link=m,this.linkWithHref=v,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=i.events.subscribe(C=>{C instanceof Td&&this.update()})}ngAfterContentInit(){(0,it.of)(this.links.changes,this.linksWithHrefs.changes,(0,it.of)(null)).pipe((0,Ed.J)()).subscribe(i=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var i;null===(i=this.linkInputChangesSubscription)||void 0===i||i.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(u=>!!u).map(u=>u.onChanges);this.linkInputChangesSubscription=(0,rn.D)(o).pipe((0,Ed.J)()).subscribe(u=>{this.isActive!==this.isLinkActive(this.router)(u)&&this.update()})}set routerLinkActive(i){const o=Array.isArray(i)?i:i.split(" ");this.classes=o.filter(u=>!!u)}ngOnChanges(i){this.update()}ngOnDestroy(){var i;this.routerEventsSubscription.unsubscribe(),null===(i=this.linkInputChangesSubscription)||void 0===i||i.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const i=this.hasActiveLinks();this.isActive!==i&&(this.isActive=i,this.cdr.markForCheck(),this.classes.forEach(o=>{i?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}))})}isLinkActive(i){const o=function(s){return!!s.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return u=>i.isActive(u.urlTree,o)}hasActiveLinks(){const i=this.isLinkActive(this.router);return this.link&&i(this.link)||this.linkWithHref&&i(this.linkWithHref)||this.links.some(i)||this.linksWithHrefs.some(i)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(si),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(cb,8),c.Y36(H_,8))},s.\u0275dir=c.lG2({type:s,selectors:[["","routerLinkActive",""]],contentQueries:function(i,o,u){if(1&i&&(c.Suo(u,cb,5),c.Suo(u,H_,5)),2&i){let h;c.iGM(h=c.CRH())&&(o.links=h),c.iGM(h=c.CRH())&&(o.linksWithHrefs=h)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[c.TTD]}),s})(),hb=(()=>{class s{constructor(i,o,u,h,m){this.parentContexts=i,this.location=o,this.resolver=u,this.changeDetector=m,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.name=h||Pt,i.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const i=this.parentContexts.getContext(this.name);i&&i.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const i=this.activated;return this.activated=null,this._activatedRoute=null,i}attach(i,o){this.activated=i,this._activatedRoute=o,this.location.insert(i.hostView)}deactivate(){if(this.activated){const i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=i;const m=(o=o||this.resolver).resolveComponentFactory(i._futureSnapshot.routeConfig.component),v=this.parentContexts.getOrCreateContext(this.name).children,C=new rT(i,v,this.location.injector);this.activated=this.location.createComponent(m,this.location.length,C),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(Uu),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},s.\u0275dir=c.lG2({type:s,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),s})();class rT{constructor(r,i,o){this.route=r,this.childContexts=i,this.parent=o}get(r,i){return r===Il?this.route:r===Uu?this.childContexts:this.parent.get(r,i)}}class fb{}class Is{preload(r,i){return(0,it.of)(null)}}let LA=(()=>{class s{constructor(i,o,u,h,m){this.router=i,this.injector=h,this.preloadingStrategy=m,this.loader=new Od(o,u,S=>i.triggerEvent(new mC(S)),S=>i.triggerEvent(new _C(S)))}setUpPreloading(){this.subscription=this.router.events.pipe(Dn(i=>i instanceof Td),Ea(()=>this.preload())).subscribe(()=>{})}preload(){const i=this.injector.get(c.h0i);return this.processRoutes(i,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,o){const u=[];for(const h of o)if(h.loadChildren&&!h.canLoad&&h._loadedConfig){const m=h._loadedConfig;u.push(this.processRoutes(m.module,m.routes))}else h.loadChildren&&!h.canLoad?u.push(this.preloadConfig(i,h)):h.children&&u.push(this.processRoutes(i,h.children));return(0,rn.D)(u).pipe((0,Ed.J)(),(0,nt.U)(h=>{}))}preloadConfig(i,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,it.of)(o._loadedConfig):this.loader.load(i.injector,o)).pipe((0,ri.zg)(h=>(o._loadedConfig=h,this.processRoutes(h.module,h.routes)))))}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(si),c.LFG(c.v3s),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(fb))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),iT=(()=>{class s{constructor(i,o,u={}){this.router=i,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(i=>{i instanceof P0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Td&&(this.lastId=i.id,this.scheduleScrollEvent(i,this.router.parseUrl(i.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(i=>{i instanceof vC&&(i.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(i.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,o){this.router.triggerEvent(new vC(i,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(si),c.LFG(Oc),c.LFG(void 0))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const Nl=new c.OlP("ROUTER_CONFIGURATION"),pb=new c.OlP("ROUTER_FORROOT_GUARD"),VA=[tt,{provide:EC,useClass:iA},{provide:si,useFactory:function(s,r,i,o,u,h,m,v={},C,S){const N=new si(null,s,r,i,o,u,h,S_(m));return C&&(N.urlHandlingStrategy=C),S&&(N.routeReuseStrategy=S),function(s,r){s.errorHandler&&(r.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(r.malformedUriErrorHandler=s.malformedUriErrorHandler),s.onSameUrlNavigation&&(r.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.relativeLinkResolution&&(r.relativeLinkResolution=s.relativeLinkResolution),s.urlUpdateStrategy&&(r.urlUpdateStrategy=s.urlUpdateStrategy)}(v,N),v.enableTracing&&N.events.subscribe(x=>{var F,L;null===(F=console.group)||void 0===F||F.call(console,`Router Event: ${x.constructor.name}`),console.log(x.toString()),console.log(x),null===(L=console.groupEnd)||void 0===L||L.call(console)}),N},deps:[EC,Uu,tt,c.zs3,c.v3s,c.Sil,lb,Nl,[class{},new c.FiY],[class{},new c.FiY]]},Uu,{provide:Il,useFactory:function(s){return s.routerState.root},deps:[si]},{provide:c.v3s,useClass:c.EAV},LA,Is,class{preload(r,i){return i().pipe(ts(()=>(0,it.of)(null)))}},{provide:Nl,useValue:{enableTracing:!1}}];function hx(){return new c.PXZ("Router",si)}let gb=(()=>{class s{constructor(i,o){}static forRoot(i,o){return{ngModule:s,providers:[VA,oT(i),{provide:pb,useFactory:_b,deps:[[si,new c.FiY,new c.tp0]]},{provide:Nl,useValue:o||{}},{provide:Me,useFactory:UA,deps:[J,[new c.tBr(ue),new c.FiY],Nl]},{provide:iT,useFactory:mb,deps:[si,Oc,Nl]},{provide:fb,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Is},{provide:c.PXZ,multi:!0,useFactory:hx},[yb,{provide:c.ip1,multi:!0,useFactory:$A,deps:[yb]},{provide:Bu,useFactory:$_,deps:[yb]},{provide:c.tb,multi:!0,useExisting:Bu}]]}}static forChild(i){return{ngModule:s,providers:[oT(i)]}}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(pb,8),c.LFG(si,8))},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})();function mb(s,r,i){return i.scrollOffset&&r.setOffset(i.scrollOffset),new iT(s,r,i)}function UA(s,r,i={}){return i.useHash?new Le(s,r):new je(s,r)}function _b(s){return"guarded"}function oT(s){return[{provide:c.deG,multi:!0,useValue:s},{provide:lb,multi:!0,useValue:s}]}let yb=(()=>{class s{constructor(i){this.injector=i,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new en.xQ}appInitializer(){return this.injector.get(V,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(v=>o=v),h=this.injector.get(si),m=this.injector.get(Nl);return"disabled"===m.initialNavigation?(h.setUpLocationChangeListener(),o(!0)):"enabled"===m.initialNavigation||"enabledBlocking"===m.initialNavigation?(h.hooks.afterPreactivation=()=>this.initNavigation?(0,it.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),h.initialNavigation()):o(!0),u})}bootstrapListener(i){const o=this.injector.get(Nl),u=this.injector.get(LA),h=this.injector.get(iT),m=this.injector.get(si),v=this.injector.get(c.z2F);i===v.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&m.initialNavigation(),u.setUpPreloading(),h.init(),m.resetRootComponentType(v.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.zs3))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();function $A(s){return s.appInitializer.bind(s)}function $_(s){return s.bootstrapListener.bind(s)}const Bu=new c.OlP("Router Initializer");let Ap=(()=>{class s{constructor(){}ngOnInit(){}GoTop(){window.scroll(0,0)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-acerca-demi"]],decls:94,vars:0,consts:[["id","contenedor",1,"containter","bg-dark"],["id","titulo",1,"text-center","text-decoration-underline"],[1,"row"],[1,"col-md-6","bg-dark"],[1,"position-sticky",2,"top","2rem"],[1,"bg-dark","p-4"],[1,"fst-italic"],[1,"mb-0"],[1,"p-4"],[1,"fst-italic","fuente","border-bottom"],[1,"col-md-6","bg-dark","d-flex","justify-content-end"],[1,"blog-post"],[1,"blog-post-title"],[1,""],["src","./assets/imagenes/fotocv.png","alt","",1,"img-fluid","img","w-25"],[1,"col-12","p-4","borden-bottom","bg-dark"],[1,"pb-4","mb-4","fst-italic","border-bottom","w-100"],[1,"col-md-4","bg-dark"],[1,"position-sticky",2,"top","3rem"],[1,"p-4","mb-3","bg-dark"],[1,"p-0"],[1,"p-sm-4"],[1,"col-md-8","bg-dark"],[1,"fuente","pb-sm-5","mb-5","fst-italic"],[1,"table-sm","table-dark","table-bordered","table-striped","w-100"],[1,"text-center"],[1,"col-sm-4","border","border-5"],["src","./assets/imagenes/git.svg","width","150","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/dotnet-logo-text-logo-Purple.svg","width","125","alt","",1,"img-fluid","h-100"],[1,"border","border-5"],["src","./assets/imagenes/icons8-html-5.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/javascript.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/typescript.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/icons8-css3.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/Ruby_on_Rails-Logo.wine.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/angular-3.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/Bootstrap_logo.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/nodejs-icon.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/Postgresql_elephant.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/microsoft-sql-server-logo-svgrepo-com.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/icons8-firebase.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/icons8-java.svg","width","125","alt","",1,"img-fluid","h-100"],["src","./assets/imagenes/rest-api-logo.svg","width","125","alt","",1,"img-fluid","h-100"],["aria-label","Pagination",1,"blog-pagination","pt-3"],[1,"btn","btn-primary","col-6",3,"click"],[1,"fas","fa-arrow-up"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.TgZ(1,"p",1),c._uU(2,"Acerca de m\xed"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c._UZ(7,"h4",6),c._UZ(8,"p",7),c.qZA(),c.TgZ(9,"div",8),c.TgZ(10,"h4",9),c._uU(11,"Quien soy"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(12,"div",10),c.TgZ(13,"article",11),c._UZ(14,"h2",12),c._UZ(15,"p",8),c.TgZ(16,"p",13),c._uU(17," Mi nombre completo es Joel Ezequiel Ocampo. "),c.qZA(),c.TgZ(18,"p"),c._uU(19," Naci en 1988 en Argentina. "),c.qZA(),c.TgZ(20,"p"),c._uU(21,"Conozco sobre diferentes paradigmas de programacion."),c.qZA(),c.TgZ(22,"p"),c._uU(23," Generalmente uso postman para probar las api "),c.qZA(),c.TgZ(24,"p"),c._uU(25,"Conocimientos en modelado de negocio(BPMN , UML) "),c.qZA(),c.TgZ(26,"p"),c._uU(27,"Desarollo de software con metodologias iterativas e incrementales, SCRUM, metodologias agiles, conocimientos basicos de docker. "),c.qZA(),c.TgZ(28,"p"),c._uU(29,"Actualmente cursando 4\xba a\xf1o en la UTN frc, tengo una certificaci\xf3n de desarrollador fullstack junior entregada por el gobierno de cordoba. "),c.qZA(),c.TgZ(30,"p"),c._uU(31," Se trabajo en diferentes equipos multidiciplinarios enfocados en el desarrollo de software. "),c.qZA(),c.TgZ(32,"p"),c._uU(33,'Por la pandemia se trabajo en su mayoria en modalidad "home office" utilizando jira, y algun repositorio como github, gitlab.... '),c.qZA(),c.TgZ(34,"p"),c._uU(35,"El ultimo desarrollo fue un trabajo para la empresa ASC Ascentio 100% remoto donde se trabajo con jira, jitsi, mattermost entre otros sistemas como medio de coordinacion."),c.qZA(),c.TgZ(36,"p"),c._uU(37,"Actualmente 2021 estoy enfocado al desarrollo web utilizando Angular y diferentes sericios como back."),c.qZA(),c._UZ(38,"img",14),c.qZA(),c.qZA(),c.qZA(),c.TgZ(39,"div",15),c._UZ(40,"h3",16),c.qZA(),c.TgZ(41,"div",2),c.TgZ(42,"div",17),c.TgZ(43,"div",18),c.TgZ(44,"div",19),c._UZ(45,"h4",6),c._UZ(46,"p",7),c.qZA(),c.TgZ(47,"div",20),c.TgZ(48,"h4",9),c._uU(49,"Conocimientos en"),c.qZA(),c.qZA(),c._UZ(50,"div",21),c.qZA(),c.qZA(),c.TgZ(51,"div",22),c._UZ(52,"h3",23),c.TgZ(53,"table",24),c.TgZ(54,"tbody",25),c.TgZ(55,"tr",13),c.TgZ(56,"td",26),c._UZ(57,"img",27),c.qZA(),c.TgZ(58,"td",26),c._UZ(59,"img",28),c.qZA(),c.TgZ(60,"td",29),c._UZ(61,"img",30),c.qZA(),c.qZA(),c.TgZ(62,"tr"),c.TgZ(63,"td",26),c._UZ(64,"img",31),c.qZA(),c.TgZ(65,"td",26),c._UZ(66,"img",32),c.qZA(),c.TgZ(67,"td",29),c._UZ(68,"img",33),c.qZA(),c.qZA(),c.TgZ(69,"tr"),c.TgZ(70,"td",26),c._UZ(71,"img",34),c.qZA(),c.TgZ(72,"td",26),c._UZ(73,"img",35),c.qZA(),c.TgZ(74,"td",29),c._UZ(75,"img",36),c.qZA(),c.qZA(),c.TgZ(76,"tr",13),c.TgZ(77,"td",29),c._UZ(78,"img",37),c.qZA(),c.TgZ(79,"td",29),c._UZ(80,"img",38),c.qZA(),c.TgZ(81,"td",29),c._UZ(82,"img",39),c.qZA(),c.qZA(),c.TgZ(83,"tr"),c.TgZ(84,"td",29),c._UZ(85,"img",40),c.qZA(),c.TgZ(86,"td",29),c._UZ(87,"img",41),c.qZA(),c.TgZ(88,"td",29),c._UZ(89,"img",42),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(90,"nav",43),c.TgZ(91,"button",44),c.NdJ("click",function(){return o.GoTop()}),c._UZ(92,"span",45),c._uU(93," Top"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:["#contenedor[_ngcontent-%COMP%]{padding-top:7rem;font-size:1rem;color:#f5f5f5;height:100vh}#titulo[_ngcontent-%COMP%]{font-size:3rem}#principal2[_ngcontent-%COMP%]{background-image:url(backgroudinicio.jpg);background-attachment:fixed;background-repeat:no-repeat;background-position:center;background-size:100% 100%;position:fixed;height:100%;width:100%}.fuente[_ngcontent-%COMP%]{font-size:1rem;color:#f5f5f5}"]}),s})();var Ce=U(8239),GA=U(1555);function rs(s,r){return new Wn.y(i=>{const o=s.length;if(0===o)return void i.complete();const u=new Array(o);let h=0,m=0;for(let v=0;v<o;v++){const C=(0,rn.D)(s[v]);let S=!1;i.add(C.subscribe({next:N=>{S||(S=!0,m++),u[v]=N},error:N=>i.error(N),complete:()=>{h++,(h===o||!S)&&(m===o&&i.next(r?r.reduce((N,x,F)=>(N[x]=u[F],N),{}):u),i.complete())}}))}})}let Pd=(()=>{class s{constructor(i,o){this._renderer=i,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(i,o){this._renderer.setProperty(this._elementRef.nativeElement,i,o)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(c.Qsj),c.Y36(c.SBq))},s.\u0275dir=c.lG2({type:s}),s})(),Pn=(()=>{class s extends Pd{}return s.\u0275fac=function(){let r;return function(o){return(r||(r=c.n5z(s)))(o||s)}}(),s.\u0275dir=c.lG2({type:s,features:[c.qOj]}),s})();const In=new c.OlP("NgValueAccessor"),bb={provide:In,useExisting:(0,c.Gpc)(()=>Aa),multi:!0},Ld=new c.OlP("CompositionEventMode");let Aa=(()=>{class s extends Pd{constructor(i,o,u){super(i,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const s=Z()?Z().getUserAgent():"";return/android (\d+)/.test(s.toLowerCase())}())}writeValue(i){this.setProperty("value",null==i?"":i)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(Ld,8))},s.\u0275dir=c.lG2({type:s,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){1&i&&c.NdJ("input",function(h){return o._handleInput(h.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(h){return o._compositionEnd(h.target.value)})},features:[c._Bn([bb]),c.qOj]}),s})();function ss(s){return null==s||0===s.length}function ju(s){return null!=s&&"number"==typeof s.length}const Fn=new c.OlP("NgValidators"),os=new c.OlP("NgAsyncValidators"),Vd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ud{static min(r){return function(s){return r=>{if(ss(r.value)||ss(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i<s?{min:{min:s,actual:r.value}}:null}}(r)}static max(r){return function(s){return r=>{if(ss(r.value)||ss(s))return null;const i=parseFloat(r.value);return!isNaN(i)&&i>s?{max:{max:s,actual:r.value}}:null}}(r)}static required(r){return function(s){return ss(s.value)?{required:!0}:null}(r)}static requiredTrue(r){return function(s){return!0===s.value?null:{required:!0}}(r)}static email(r){return function(s){return ss(s.value)||Vd.test(s.value)?null:{email:!0}}(r)}static minLength(r){return function(s){return r=>ss(r.value)||!ju(r.value)?null:r.value.length<s?{minlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static maxLength(r){return function(s){return r=>ju(r.value)&&r.value.length>s?{maxlength:{requiredLength:s,actualLength:r.value.length}}:null}(r)}static pattern(r){return function(s){if(!s)return Na;let r,i;return"string"==typeof s?(i="","^"!==s.charAt(0)&&(i+="^"),i+=s,"$"!==s.charAt(s.length-1)&&(i+="$"),r=new RegExp(i)):(i=s.toString(),r=s),o=>{if(ss(o.value))return null;const u=o.value;return r.test(u)?null:{pattern:{requiredPattern:i,actualValue:u}}}}(r)}static nullValidator(r){return null}static compose(r){return ZA(r)}static composeAsync(r){return xb(r)}}function Na(s){return null}function lT(s){return null!=s}function Nb(s){const r=(0,c.QGY)(s)?(0,rn.D)(s):s;return(0,c.CqO)(r),r}function uT(s){let r={};return s.forEach(i=>{r=null!=i?Object.assign(Object.assign({},r),i):r}),0===Object.keys(r).length?null:r}function Mb(s,r){return r.map(i=>i(s))}function dT(s){return s.map(r=>function(s){return!s.validate}(r)?r:i=>r.validate(i))}function ZA(s){if(!s)return null;const r=s.filter(lT);return 0==r.length?null:function(i){return uT(Mb(i,r))}}function Rb(s){return null!=s?ZA(dT(s)):null}function xb(s){if(!s)return null;const r=s.filter(lT);return 0==r.length?null:function(i){return function(...s){if(1===s.length){const r=s[0];if((0,Fi.k)(r))return rs(r,null);if((0,GA.K)(r)&&Object.getPrototypeOf(r)===Object.prototype){const i=Object.keys(r);return rs(i.map(o=>r[o]),i)}}if("function"==typeof s[s.length-1]){const r=s.pop();return rs(s=1===s.length&&(0,Fi.k)(s[0])?s[0]:s,null).pipe((0,nt.U)(i=>r(...i)))}return rs(s,null)}(Mb(i,r).map(Nb)).pipe((0,nt.U)(uT))}}function kb(s){return null!=s?xb(dT(s)):null}function Ob(s,r){return null===s?[r]:Array.isArray(s)?[...s,r]:[s,r]}function hT(s){return s._rawValidators}function fT(s){return s._rawAsyncValidators}function pT(s){return s?Array.isArray(s)?s:[s]:[]}function Z_(s,r){return Array.isArray(s)?s.includes(r):s===r}function Pb(s,r){const i=pT(r);return pT(s).forEach(u=>{Z_(i,u)||i.push(u)}),i}function qA(s,r){return pT(r).filter(i=>!Z_(s,i))}let zA=(()=>{class s{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=Rb(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=kb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,o){return!!this.control&&this.control.hasError(i,o)}getError(i,o){return this.control?this.control.getError(i,o):null}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=c.lG2({type:s}),s})(),Vi=(()=>{class s extends zA{get formDirective(){return null}get path(){return null}}return s.\u0275fac=function(){let r;return function(o){return(r||(r=c.n5z(s)))(o||s)}}(),s.\u0275dir=c.lG2({type:s,features:[c.qOj]}),s})();class Ml extends zA{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WA{constructor(r){this._cd=r}is(r){var i,o,u;return"submitted"===r?!!(null===(i=this._cd)||void 0===i?void 0:i.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}let q_=(()=>{class s extends WA{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(Ml,2))},s.\u0275dir=c.lG2({type:s,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){2&i&&c.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[c.qOj]}),s})(),z_=(()=>{class s extends WA{constructor(i){super(i)}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(Vi,10))},s.\u0275dir=c.lG2({type:s,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){2&i&&c.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[c.qOj]}),s})();function W_(s,r){Lb(s,r),r.valueAccessor.writeValue(s.value),function(s,r){r.valueAccessor.registerOnChange(i=>{s._pendingValue=i,s._pendingChange=!0,s._pendingDirty=!0,"change"===s.updateOn&&mT(s,r)})}(s,r),function(s,r){const i=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};s.registerOnChange(i),r._registerOnDestroy(()=>{s._unregisterOnChange(i)})}(s,r),function(s,r){r.valueAccessor.registerOnTouched(()=>{s._pendingTouched=!0,"blur"===s.updateOn&&s._pendingChange&&mT(s,r),"submit"!==s.updateOn&&s.markAsTouched()})}(s,r),function(s,r){if(r.valueAccessor.setDisabledState){const i=o=>{r.valueAccessor.setDisabledState(o)};s.registerOnDisabledChange(i),r._registerOnDestroy(()=>{s._unregisterOnDisabledChange(i)})}}(s,r)}function Y_(s,r,i=!0){const o=()=>{};r.valueAccessor&&(r.valueAccessor.registerOnChange(o),r.valueAccessor.registerOnTouched(o)),Ma(s,r),s&&(r._invokeOnDestroyCallbacks(),s._registerOnCollectionChange(()=>{}))}function Np(s,r){s.forEach(i=>{i.registerOnValidatorChange&&i.registerOnValidatorChange(r)})}function Lb(s,r){const i=hT(s);null!==r.validator?s.setValidators(Ob(i,r.validator)):"function"==typeof i&&s.setValidators([i]);const o=fT(s);null!==r.asyncValidator?s.setAsyncValidators(Ob(o,r.asyncValidator)):"function"==typeof o&&s.setAsyncValidators([o]);const u=()=>s.updateValueAndValidity();Np(r._rawValidators,u),Np(r._rawAsyncValidators,u)}function Ma(s,r){let i=!1;if(null!==s){if(null!==r.validator){const u=hT(s);if(Array.isArray(u)&&u.length>0){const h=u.filter(m=>m!==r.validator);h.length!==u.length&&(i=!0,s.setValidators(h))}}if(null!==r.asyncValidator){const u=fT(s);if(Array.isArray(u)&&u.length>0){const h=u.filter(m=>m!==r.asyncValidator);h.length!==u.length&&(i=!0,s.setAsyncValidators(h))}}}const o=()=>{};return Np(r._rawValidators,o),Np(r._rawAsyncValidators,o),i}function mT(s,r){s._pendingDirty&&s.markAsDirty(),s.setValue(s._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(s._pendingValue),s._pendingChange=!1}function Rp(s,r){const i=s.indexOf(r);i>-1&&s.splice(i,1)}const Bd="VALID",xp="INVALID",Rl="PENDING",K_="DISABLED";function jb(s){return(kp(s)?s.validators:s)||null}function eN(s){return Array.isArray(s)?Rb(s):s||null}function Hu(s,r){return(kp(r)?r.asyncValidators:s)||null}function vT(s){return Array.isArray(s)?kb(s):s||null}function kp(s){return null!=s&&!Array.isArray(s)&&"object"==typeof s}class Op{constructor(r,i){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=i,this._composedValidatorFn=eN(this._rawValidators),this._composedAsyncValidatorFn=vT(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===Bd}get invalid(){return this.status===xp}get pending(){return this.status==Rl}get disabled(){return this.status===K_}get enabled(){return this.status!==K_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=eN(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=vT(r)}addValidators(r){this.setValidators(Pb(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Pb(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(qA(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(qA(r,this._rawAsyncValidators))}hasValidator(r){return Z_(this._rawValidators,r)}hasAsyncValidator(r){return Z_(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(i=>{i.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=Rl,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=K_,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const i=this._parentMarkedDirty(r.onlySelf);this.status=Bd,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:i})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Bd||this.status===Rl)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(i=>i._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?K_:Bd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=Rl,this._hasOwnPendingAsyncValidator=!0;const i=Nb(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,i={}){this.errors=r,this._updateControlsErrors(!1!==i.emitEvent)}get(r){return function(s,r,i){if(null==r||(Array.isArray(r)||(r=r.split(".")),Array.isArray(r)&&0===r.length))return null;let o=s;return r.forEach(u=>{o=o instanceof $u?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof Pp&&o.at(u)||null}),o}(this,r)}getError(r,i){const o=i?this.get(i):this;return o&&o.errors?o.errors[r]:null}hasError(r,i){return!!this.getError(r,i)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?K_:this.errors?xp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rl)?Rl:this._anyControlsHaveStatus(xp)?xp:Bd}_anyControlsHaveStatus(r){return this._anyControls(i=>i.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){kp(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class jd extends Op{constructor(r=null,i,o){super(jb(i),Hu(o,i)),this._onChange=[],this._applyFormState(r),this._setUpdateStrategy(i),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(r,i={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==i.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==i.emitViewToModelChange)),this.updateValueAndValidity(i)}patchValue(r,i={}){this.setValue(r,i)}reset(r=null,i={}){this._applyFormState(r),this.markAsPristine(i),this.markAsUntouched(i),this.setValue(this.value,i),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Rp(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Rp(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class $u extends Op{constructor(r,i,o){super(jb(i),Hu(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,i){return this.controls[r]?this.controls[r]:(this.controls[r]=i,i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange),i)}addControl(r,i,o={}){this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],i&&this.registerControl(r,i),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,i={}){this._checkAllValuesPresent(r),Object.keys(r).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r={},i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this._reduceChildren({},(r,i,o)=>(r[o]=i instanceof jd?i.value:i.getRawValue(),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(i,o)=>!!o._syncPendingControls()||i);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[r])throw new Error(`Cannot find form control with name: ${r}.`)}_forEachChild(r){Object.keys(this.controls).forEach(i=>{const o=this.controls[i];o&&r(o,i)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const i of Object.keys(this.controls)){const o=this.controls[i];if(this.contains(i)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,i,o)=>((i.enabled||this.disabled)&&(r[o]=i.value),r))}_reduceChildren(r,i){let o=r;return this._forEachChild((u,h)=>{o=i(o,u,h)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Pp extends Op{constructor(r,i,o){super(jb(i),Hu(o,i)),this.controls=r,this._initObservables(),this._setUpdateStrategy(i),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,i={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}insert(r,i,o={}){this.controls.splice(r,0,i),this._registerControl(i),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,i={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:i.emitEvent})}setControl(r,i,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),i&&(this.controls.splice(r,0,i),this._registerControl(i)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,i={}){this._checkAllValuesPresent(r),r.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i)}patchValue(r,i={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:i.emitEvent})}),this.updateValueAndValidity(i))}reset(r=[],i={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:i.emitEvent})}),this._updatePristine(i),this._updateTouched(i),this.updateValueAndValidity(i)}getRawValue(){return this.controls.map(r=>r instanceof jd?r.value:r.getRawValue())}clear(r={}){this.controls.length<1||(this._forEachChild(i=>i._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((i,o)=>!!o._syncPendingControls()||i,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_throwIfControlMissing(r){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(r))throw new Error(`Cannot find form control at index ${r}`)}_forEachChild(r){this.controls.forEach((i,o)=>{r(i,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(i=>i.enabled&&r(i))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_checkAllValuesPresent(r){this._forEachChild((i,o)=>{if(void 0===r[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}let TT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=c.lG2({type:s,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),s})(),IT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})();const ey=new c.OlP("NgModelWithFormControlWarning"),NT={provide:Vi,useExisting:(0,c.Gpc)(()=>Up)};let Up=(()=>{class s extends Vi{constructor(i,o){super(),this.validators=i,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(i),this._setAsyncValidators(o)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ma(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){const o=this.form.get(i.path);return W_(o,i),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),o}getControl(i){return this.form.get(i.path)}removeControl(i){Y_(i.control||null,i,!1),Rp(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,o){this.form.get(i.path).setValue(o)}onSubmit(i){return this.submitted=!0,function(s,r){s._syncPendingControls(),r.forEach(i=>{const o=i.control;"submit"===o.updateOn&&o._pendingChange&&(i.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(i),!1}onReset(){this.resetForm()}resetForm(i){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{const o=i.control,u=this.form.get(i.path);o!==u&&(Y_(o||null,i),u instanceof jd&&(W_(u,i),i.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){const o=this.form.get(i.path);(function(s,r){Lb(s,r)})(o,i),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){const o=this.form.get(i.path);o&&function(s,r){return Ma(s,r)}(o,i)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Lb(this.form,this),this._oldForm&&Ma(this._oldForm,this)}_checkFormPresent(){}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(Fn,10),c.Y36(os,10))},s.\u0275dir=c.lG2({type:s,selectors:[["","formGroup",""]],hostBindings:function(i,o){1&i&&c.NdJ("submit",function(h){return o.onSubmit(h)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([NT]),c.qOj,c.TTD]}),s})();const nN={provide:Ml,useExisting:(0,c.Gpc)(()=>ny)};let ny=(()=>{class s extends Ml{constructor(i,o,u,h,m){super(),this._ngModelWarningConfig=m,this._added=!1,this.update=new c.vpe,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function(s,r){if(!r)return null;let i,o,u;return Array.isArray(r),r.forEach(h=>{h.constructor===Aa?i=h:function(s){return Object.getPrototypeOf(s.constructor)===Pn}(h)?o=h:u=h}),u||o||i||null}(0,h)}set isDisabled(i){}ngOnChanges(i){this._added||this._setUpControl(),function(s,r){if(!s.hasOwnProperty("model"))return!1;const i=s.model;return!!i.isFirstChange()||!Object.is(r,i.currentValue)}(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return function(s,r){return[...r.path,s]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(Vi,13),c.Y36(Fn,10),c.Y36(os,10),c.Y36(In,10),c.Y36(ey,8))},s.\u0275dir=c.lG2({type:s,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[c._Bn([nN]),c.qOj,c.TTD]}),s._ngModelWarningSentOnce=!1,s})(),ZT=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[IT]]}),s})(),t1=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[ZT]}),s})(),qT=(()=>{class s{static withConfig(i){return{ngModule:s,providers:[{provide:ey,useValue:i.warnOnNgModelWithFormControl}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[ZT]}),s})(),WT=(()=>{class s{group(i,o=null){const u=this._reduceControls(i);let v,h=null,m=null;return null!=o&&(function(s){return void 0!==s.asyncValidators||void 0!==s.validators||void 0!==s.updateOn}(o)?(h=null!=o.validators?o.validators:null,m=null!=o.asyncValidators?o.asyncValidators:null,v=null!=o.updateOn?o.updateOn:void 0):(h=null!=o.validator?o.validator:null,m=null!=o.asyncValidator?o.asyncValidator:null)),new $u(u,{asyncValidators:m,updateOn:v,validators:h})}control(i,o,u){return new jd(i,o,u)}array(i,o,u){const h=i.map(m=>this._createControl(m));return new Pp(h,o,u)}_reduceControls(i){const o={};return Object.keys(i).forEach(u=>{o[u]=this._createControl(i[u])}),o}_createControl(i){return i instanceof jd||i instanceof $u||i instanceof Pp?i:Array.isArray(i)?this.control(i[0],i.length>1?i[1]:null,i.length>2?i[2]:null):this.control(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=(0,c.Yz7)({factory:function(){return new s},token:s,providedIn:qT}),s})();var r1=U(3637),Fr=U(9126);function sy(){return s=>s.lift(new i1)}class i1{call(r,i){return i.subscribe(new oy(r))}}class oy extends fn.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let i;this.hasPrev?i=[this.prev,r]:this.hasPrev=!0,this.prev=r,i&&this.destination.next(i)}}class YT{constructor(r,i){this.compare=r,this.keySelector=i}call(r,i){return i.subscribe(new KT(r,this.compare,this.keySelector))}}class KT extends fn.L{constructor(r,i,o){super(r),this.keySelector=o,this.hasKey=!1,"function"==typeof i&&(this.compare=i)}compare(r,i){return r===i}_next(r){let i;try{const{keySelector:u}=this;i=u?u(r):r}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,i)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=i,this.destination.next(r))}}var Gu=U(9746),Mo=U(9958),JT=(U(6300),U(4486)),ay=U(5452),QT=U(6034),Zu=U(300),Qt=U(4685),ly=function(s,r){return(ly=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(i[u]=o[u])})(s,r)};function XT(s){var r="function"==typeof Symbol&&Symbol.iterator,i=r&&s[r],o=0;if(i)return i.call(s);if(s&&"number"==typeof s.length)return{next:function(){return s&&o>=s.length&&(s=void 0),{value:s&&s[o++],done:!s}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ge,uN="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},s1=s1||{},Ct=uN||self;function uy(){}function o1(s){var r=typeof s;return"array"==(r="object"!=r?r:s?Array.isArray(s)?"array":r:"null")||"object"==r&&"number"==typeof s.length}function jp(s){var r=typeof s;return"object"==r&&null!=s||"function"==r}var a1="closure_uid_"+(1e9*Math.random()>>>0),dN=0;function hN(s,r,i){return s.call.apply(s.bind,arguments)}function fN(s,r,i){if(!s)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),s.apply(r,u)}}return function(){return s.apply(r,arguments)}}function yr(s,r,i){return(yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?hN:fN).apply(null,arguments)}function Hp(s,r){var i=Array.prototype.slice.call(arguments,1);return function(){var o=i.slice();return o.push.apply(o,arguments),s.apply(this,o)}}function vr(s,r){function i(){}i.prototype=r.prototype,s.Z=r.prototype,s.prototype=new i,s.prototype.constructor=s,s.Vb=function(o,u,h){for(var m=Array(arguments.length-2),v=2;v<arguments.length;v++)m[v-2]=arguments[v];return r.prototype[u].apply(o,m)}}function Ra(){this.s=this.s,this.o=this.o}var tD={};Ra.prototype.s=!1,Ra.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var s=function(s){return Object.prototype.hasOwnProperty.call(s,a1)&&s[a1]||(s[a1]=++dN)}(this);delete tD[s]}},Ra.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var l1=Array.prototype.indexOf?function(s,r){return Array.prototype.indexOf.call(s,r,void 0)}:function(s,r){if("string"==typeof s)return"string"!=typeof r||1!=r.length?-1:s.indexOf(r,0);for(var i=0;i<s.length;i++)if(i in s&&s[i]===r)return i;return-1},u1=Array.prototype.forEach?function(s,r,i){Array.prototype.forEach.call(s,r,i)}:function(s,r,i){for(var o=s.length,u="string"==typeof s?s.split(""):s,h=0;h<o;h++)h in u&&r.call(i,u[h],h,s)};function cy(s){return Array.prototype.concat.apply([],arguments)}function $p(s){var r=s.length;if(0<r){for(var i=Array(r),o=0;o<r;o++)i[o]=s[o];return i}return[]}function Ro(s){return/^[\s\xa0]*$/.test(s)}var Ui,rD=String.prototype.trim?function(s){return s.trim()}:function(s){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(s)[1]};function bi(s,r){return-1!=s.indexOf(r)}function kl(s,r){return s<r?-1:s>r?1:0}e:{var dy=Ct.navigator;if(dy){var pN=dy.userAgent;if(pN){Ui=pN;break e}}Ui=""}function hy(s,r,i){for(var o in s)r.call(i,s[o],o,s)}function c1(s){var r={};for(var i in s)r[i]=s[i];return r}var gN="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(s,r){for(var i,o,u=1;u<arguments.length;u++){for(i in o=arguments[u])s[i]=o[i];for(var h=0;h<gN.length;h++)i=gN[h],Object.prototype.hasOwnProperty.call(o,i)&&(s[i]=o[i])}}function d1(s){return d1[" "](s),s}d1[" "]=uy;var Zp,s,_N=bi(Ui,"Opera"),xa=bi(Ui,"Trident")||bi(Ui,"MSIE"),iD=bi(Ui,"Edge"),Hd=iD||xa,Gp=bi(Ui,"Gecko")&&!(bi(Ui.toLowerCase(),"webkit")&&!bi(Ui,"Edge"))&&!(bi(Ui,"Trident")||bi(Ui,"MSIE"))&&!bi(Ui,"Edge"),Ln=bi(Ui.toLowerCase(),"webkit")&&!bi(Ui,"Edge");function yN(){var s=Ct.document;return s?s.documentMode:void 0}e:{var qp="",h1=(s=Ui,Gp?/rv:([^\);]+)(\)|;)/.exec(s):iD?/Edge\/([\d\.]+)/.exec(s):xa?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(s):Ln?/WebKit\/(\S+)/.exec(s):_N?/(?:Version)[ \/]?(\S+)/.exec(s):void 0);if(h1&&(qp=h1?h1[1]:""),xa){var fy=yN();if(null!=fy&&fy>parseFloat(qp)){Zp=String(fy);break e}}Zp=qp}var sD={};function oD(){return r=sD,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var s=0,r=rD(String(Zp)).split("."),i=rD("9").split("."),o=Math.max(r.length,i.length),u=0;0==s&&u<o;u++){var h=r[u]||"",m=i[u]||"";do{if(h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],0==h[0].length&&0==m[0].length)break;s=kl(0==h[1].length?0:parseInt(h[1],10),0==m[1].length?0:parseInt(m[1],10))||kl(0==h[2].length,0==m[2].length)||kl(h[2],m[2]),h=h[3],m=m[3]}while(0==s)}return 0<=s}();var r}var vN=Ct.document&&xa&&(yN()||parseInt(Zp,10))||void 0,bN=function(){if(!Ct.addEventListener||!Object.defineProperty)return!1;var s=!1,r=Object.defineProperty({},"passive",{get:function(){s=!0}});try{Ct.addEventListener("test",uy,r),Ct.removeEventListener("test",uy,r)}catch(i){}return s}();function Kn(s,r){this.type=s,this.g=this.target=r,this.defaultPrevented=!1}function zp(s,r){if(Kn.call(this,s?s.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,s){var i=this.type=s.type,o=s.changedTouches&&s.changedTouches.length?s.changedTouches[0]:null;if(this.target=s.target||s.srcElement,this.g=r,r=s.relatedTarget){if(Gp){e:{try{d1(r.nodeName);var u=!0;break e}catch(h){}u=!1}u||(r=null)}}else"mouseover"==i?r=s.fromElement:"mouseout"==i&&(r=s.toElement);this.relatedTarget=r,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0),this.button=s.button,this.key=s.key||"",this.ctrlKey=s.ctrlKey,this.altKey=s.altKey,this.shiftKey=s.shiftKey,this.metaKey=s.metaKey,this.pointerId=s.pointerId||0,this.pointerType="string"==typeof s.pointerType?s.pointerType:wN[s.pointerType]||"",this.state=s.state,this.i=s,s.defaultPrevented&&zp.Z.h.call(this)}}Kn.prototype.h=function(){this.defaultPrevented=!0},vr(zp,Kn);var wN={2:"touch",3:"pen",4:"mouse"};zp.prototype.h=function(){zp.Z.h.call(this);var s=this.i;s.preventDefault?s.preventDefault():s.returnValue=!1};var Wp="closure_listenable_"+(1e6*Math.random()|0),gy=0;function lD(s,r,i,o,u){this.listener=s,this.proxy=null,this.src=r,this.type=i,this.capture=!!o,this.ia=u,this.key=++gy,this.ca=this.fa=!1}function Yp(s){s.ca=!0,s.listener=null,s.proxy=null,s.src=null,s.ia=null}function Kp(s){this.src=s,this.g={},this.h=0}function f1(s,r){var i=r.type;if(i in s.g){var h,o=s.g[i],u=l1(o,r);(h=0<=u)&&Array.prototype.splice.call(o,u,1),h&&(Yp(r),0==s.g[i].length&&(delete s.g[i],s.h--))}}function qu(s,r,i,o){for(var u=0;u<s.length;++u){var h=s[u];if(!h.ca&&h.listener==r&&h.capture==!!i&&h.ia==o)return u}return-1}Kp.prototype.add=function(s,r,i,o,u){var h=s.toString();(s=this.g[h])||(s=this.g[h]=[],this.h++);var m=qu(s,r,o,u);return-1<m?(r=s[m],i||(r.fa=!1)):((r=new lD(r,this.src,h,!!o,u)).fa=i,s.push(r)),r};var zu="closure_lm_"+(1e6*Math.random()|0),p1={};function uD(s,r,i,o,u){if(o&&o.once)return g1(s,r,i,o,u);if(Array.isArray(r)){for(var h=0;h<r.length;h++)uD(s,r[h],i,o,u);return null}return i=fD(i),s&&s[Wp]?s.N(r,i,jp(o)?!!o.capture:!!o,u):cD(s,r,i,!1,o,u)}function cD(s,r,i,o,u,h){if(!r)throw Error("Invalid event type");var m=jp(u)?!!u.capture:!!u,v=v1(s);if(v||(s[zu]=v=new Kp(s)),(i=v.add(r,i,o,m,h)).proxy)return i;if(o=function(){var r=EN;return function s(i){return r.call(s.src,s.listener,i)}}(),i.proxy=o,o.src=s,o.listener=i,s.addEventListener)bN||(u=m),void 0===u&&(u=!1),s.addEventListener(r.toString(),o,u);else if(s.attachEvent)s.attachEvent(y1(r.toString()),o);else{if(!s.addListener||!s.removeListener)throw Error("addEventListener and attachEvent are unavailable.");s.addListener(o)}return i}function g1(s,r,i,o,u){if(Array.isArray(r)){for(var h=0;h<r.length;h++)g1(s,r[h],i,o,u);return null}return i=fD(i),s&&s[Wp]?s.O(r,i,jp(o)?!!o.capture:!!o,u):cD(s,r,i,!0,o,u)}function m1(s,r,i,o,u){if(Array.isArray(r))for(var h=0;h<r.length;h++)m1(s,r[h],i,o,u);else o=jp(o)?!!o.capture:!!o,i=fD(i),s&&s[Wp]?(s=s.i,(r=String(r).toString())in s.g&&-1<(i=qu(h=s.g[r],i,o,u))&&(Yp(h[i]),Array.prototype.splice.call(h,i,1),0==h.length&&(delete s.g[r],s.h--))):s&&(s=v1(s))&&(r=s.g[r.toString()],s=-1,r&&(s=qu(r,i,o,u)),(i=-1<s?r[s]:null)&&_1(i))}function _1(s){if("number"!=typeof s&&s&&!s.ca){var r=s.src;if(r&&r[Wp])f1(r.i,s);else{var i=s.type,o=s.proxy;r.removeEventListener?r.removeEventListener(i,o,s.capture):r.detachEvent?r.detachEvent(y1(i),o):r.addListener&&r.removeListener&&r.removeListener(o),(i=v1(r))?(f1(i,s),0==i.h&&(i.src=null,r[zu]=null)):Yp(s)}}}function y1(s){return s in p1?p1[s]:p1[s]="on"+s}function EN(s,r){if(s.ca)s=!0;else{r=new zp(r,this);var i=s.listener,o=s.ia||s.src;s.fa&&_1(s),s=i.call(o,r)}return s}function v1(s){return(s=s[zu])instanceof Kp?s:null}var hD="__closure_events_fn_"+(1e9*Math.random()>>>0);function fD(s){return"function"==typeof s?s:(s[hD]||(s[hD]=function(r){return s.handleEvent(r)}),s[hD])}function Lr(){Ra.call(this),this.i=new Kp(this),this.P=this,this.I=null}function oi(s,r){var i,o=s.I;if(o)for(i=[];o;o=o.I)i.push(o);if(s=s.P,o=r.type||r,"string"==typeof r)r=new Kn(r,s);else if(r instanceof Kn)r.target=r.target||s;else{var u=r;lt(r=new Kn(o,s),u)}if(u=!0,i)for(var h=i.length-1;0<=h;h--){var m=r.g=i[h];u=Jp(m,o,!0,r)&&u}if(u=Jp(m=r.g=s,o,!0,r)&&u,u=Jp(m,o,!1,r)&&u,i)for(h=0;h<i.length;h++)u=Jp(m=r.g=i[h],o,!1,r)&&u}function Jp(s,r,i,o){if(!(r=s.i.g[String(r)]))return!0;r=r.concat();for(var u=!0,h=0;h<r.length;++h){var m=r[h];if(m&&!m.ca&&m.capture==i){var v=m.listener,C=m.ia||m.src;m.fa&&f1(s.i,m),u=!1!==v.call(C,o)&&u}}return u&&!o.defaultPrevented}vr(Lr,Ra),Lr.prototype[Wp]=!0,Lr.prototype.removeEventListener=function(s,r,i,o){m1(this,s,r,i,o)},Lr.prototype.M=function(){if(Lr.Z.M.call(this),this.i){var r,s=this.i;for(r in s.g){for(var i=s.g[r],o=0;o<i.length;o++)Yp(i[o]);delete s.g[r],s.h--}}this.I=null},Lr.prototype.N=function(s,r,i,o){return this.i.add(String(s),r,!1,i,o)},Lr.prototype.O=function(s,r,i,o){return this.i.add(String(s),r,!0,i,o)};var $d=Ct.JSON.stringify;function CN(){var s=T1,r=null;return s.g&&(r=s.g,s.g=s.g.next,s.g||(s.h=null),r.next=null),r}var E1,TN=function(){function s(){this.h=this.g=null}return s.prototype.add=function(r,i){var o=b1.get();o.set(r,i),this.h?this.h.next=o:this.g=o,this.h=o},s}(),b1=new(function(){function s(r,i){this.i=r,this.j=i,this.h=0,this.g=null}return s.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},s}())(function(){return new Qp},function(s){return s.reset()}),Qp=function(){function s(){this.next=this.g=this.h=null}return s.prototype.set=function(r,i){this.h=r,this.g=i,this.next=null},s.prototype.reset=function(){this.next=this.g=this.h=null},s}();function DN(s){Ct.setTimeout(function(){throw s},0)}function w1(s,r){E1||function(){var s=Ct.Promise.resolve(void 0);E1=function(){s.then(SN)}}(),C1||(E1(),C1=!0),T1.add(s,r)}var C1=!1,T1=new TN;function SN(){for(var s;s=CN();){try{s.h.call(s.g)}catch(i){DN(i)}var r=b1;r.j(s),100>r.h&&(r.h++,s.next=r.g,r.g=s)}C1=!1}function my(s,r){Lr.call(this),this.h=s||1,this.g=r||Ct,this.j=yr(this.kb,this),this.l=Date.now()}function Ol(s){s.da=!1,s.S&&(s.g.clearTimeout(s.S),s.S=null)}function D1(s,r,i){if("function"==typeof s)i&&(s=yr(s,i));else{if(!s||"function"!=typeof s.handleEvent)throw Error("Invalid listener argument");s=yr(s.handleEvent,s)}return 2147483647<Number(r)?-1:Ct.setTimeout(s,r||0)}function I1(s){s.g=D1(function(){s.g=null,s.i&&(s.i=!1,I1(s))},s.j);var r=s.h;s.h=null,s.m.apply(null,r)}vr(my,Lr),(Ge=my.prototype).da=!1,Ge.S=null,Ge.kb=function(){if(this.da){var s=Date.now()-this.l;0<s&&s<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-s):(this.S&&(this.g.clearTimeout(this.S),this.S=null),oi(this,"tick"),this.da&&(Ol(this),this.start()))}},Ge.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){my.Z.M.call(this),Ol(this),delete this.g};var AN=function(s){function r(i,o){var u=s.call(this)||this;return u.m=i,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=s}ly(s,r),s.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}(r,s),r.prototype.l=function(i){this.h=arguments,this.g?this.i=!0:I1(this)},r.prototype.M=function(){s.prototype.M.call(this),this.g&&(Ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Ra);function Gd(s){Ra.call(this),this.h=s,this.g={}}vr(Gd,Ra);var pD=[];function S1(s,r,i,o){Array.isArray(i)||(i&&(pD[0]=i.toString()),i=pD);for(var u=0;u<i.length;u++){var h=uD(r,i[u],o||s.handleEvent,!1,s.h||s);if(!h)break;s.g[h.key]=h}}function gD(s){hy(s.g,function(r,i){this.g.hasOwnProperty(i)&&_1(r)},s),s.g={}}function Zd(){this.g=!0}function Wu(s,r,i,o){s.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(s,r){if(!s.g)return r;if(!r)return null;try{var i=JSON.parse(r);if(i)for(s=0;s<i.length;s++)if(Array.isArray(i[s])){var o=i[s];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if("noop"!=h&&"stop"!=h&&"close"!=h)for(var m=1;m<u.length;m++)u[m]=""}}}return $d(i)}catch(v){return r}}(s,i)+(o?" "+o:"")})}Gd.prototype.M=function(){Gd.Z.M.call(this),gD(this)},Gd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Zd.prototype.Aa=function(){this.g=!1},Zd.prototype.info=function(){};var Yu={},_y=null;function yy(){return _y=_y||new Lr}function A1(s){Kn.call(this,Yu.Ma,s)}function Xp(s){var r=yy();oi(r,new A1(r,s))}function _D(s,r){Kn.call(this,Yu.STAT_EVENT,s),this.stat=r}function wi(s){var r=yy();oi(r,new _D(r,s))}function yD(s,r){Kn.call(this,Yu.Na,s),this.size=r}function eg(s,r){if("function"!=typeof s)throw Error("Fn must not be null and must be a function");return Ct.setTimeout(function(){s()},r)}Yu.Ma="serverreachability",vr(A1,Kn),Yu.STAT_EVENT="statevent",vr(_D,Kn),Yu.Na="timingevent",vr(yD,Kn);var vy={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vD={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function N1(){}function R1(){}N1.prototype.h=null;var by,qd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function x1(){Kn.call(this,"d")}function tg(){Kn.call(this,"c")}function wy(){}function ng(s,r,i,o){this.l=s,this.j=r,this.m=i,this.X=o||1,this.V=new Gd(this),this.P=k1,this.W=new my(s=Hd?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ey}function Ey(){this.i=null,this.g="",this.h=!1}vr(x1,Kn),vr(tg,Kn),vr(wy,N1),wy.prototype.g=function(){return new XMLHttpRequest},wy.prototype.i=function(){return{}},by=new wy;var k1=45e3,Cy={},zd={};function O1(s,r,i){s.K=1,s.v=Dy(ka(r)),s.s=i,s.U=!0,bD(s,null)}function bD(s,r){s.F=Date.now(),rg(s),s.A=ka(s.v);var i=s.A,o=s.X;Array.isArray(o)||(o=[String(o)]),H1(i.h,"t",o),s.C=0,i=s.l.H,s.h=new Ey,s.g=Ul(s.l,i?r:null,!s.s),0<s.O&&(s.L=new AN(yr(s.Ia,s,s.g),s.O)),S1(s.V,s.g,"readystatechange",s.gb),r=s.H?c1(s.H):{},s.s?(s.u||(s.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",s.g.ea(s.A,s.u,s.s,r)):(s.u="GET",s.g.ea(s.A,s.u,null,r)),Xp(1),function(s,r,i,o,u,h){s.info(function(){if(s.g)if(h)for(var m="",v=h.split("&"),C=0;C<v.length;C++){var S=v[C].split("=");if(1<S.length){var N=S[0];S=S[1];var x=N.split("_");m=2<=x.length&&"type"==x[1]?m+(N+"=")+S+"&":m+(N+"=redacted&")}}else m=null;else m=h;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+r+"\n"+i+"\n"+m})}(s.j,s.u,s.A,s.m,s.X,s.s)}function Ty(s){return!!s.g&&"GET"==s.u&&2!=s.K&&s.l.Ba}function wD(s,r,i){for(var u,o=!0;!s.I&&s.C<i.length;){if((u=ED(s,i))==zd){4==r&&(s.o=4,wi(14),o=!1),Wu(s.j,s.m,null,"[Incomplete Response]");break}if(u==Cy){s.o=4,wi(15),Wu(s.j,s.m,i,"[Invalid Chunk]"),o=!1;break}Wu(s.j,s.m,u,null),F1(s,u)}Ty(s)&&u!=zd&&u!=Cy&&(s.h.g="",s.C=0),4!=r||0!=i.length||s.h.h||(s.o=1,wi(16),o=!1),s.i=s.i&&o,o?0<i.length&&!s.aa&&(s.aa=!0,(r=s.l).g==s&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+i.length),Wt(r),r.L=!0,wi(11))):(Wu(s.j,s.m,i,"[Invalid Chunked Response]"),Yd(s),Wd(s))}function ED(s,r){var i=s.C,o=r.indexOf("\n",i);return-1==o?zd:(i=Number(r.substring(i,o)),isNaN(i)?Cy:(o+=1)+i>r.length?zd:(r=r.substr(o,i),s.C=o+i,r))}function rg(s){s.Y=Date.now()+s.P,P1(s,s.P)}function P1(s,r){if(null!=s.B)throw Error("WatchDog timer not null");s.B=eg(yr(s.eb,s),r)}function ig(s){s.B&&(Ct.clearTimeout(s.B),s.B=null)}function Wd(s){0==s.l.G||s.I||rh(s.l,s)}function Yd(s){ig(s);var r=s.L;r&&"function"==typeof r.na&&r.na(),s.L=null,Ol(s.W),gD(s.V),s.g&&(r=s.g,s.g=null,r.abort(),r.na())}function F1(s,r){try{var i=s.l;if(0!=i.G&&(i.g==s||Qd(i.i,s)))if(i.I=s.N,!s.J&&Qd(i.i,s)&&3==i.G){try{var o=i.Ca.g.parse(r)}catch(be){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(i.u)i.ta=u[1],0<i.ta-i.U&&37500>u[2]&&i.N&&0==i.A&&!i.v&&(i.v=eg(yr(i.ab,i),6e3));else{if(i.g){if(!(i.g.F+3e3<s.F))break e;Pa(i),fg(i)}ec(i),wi(18)}if(1>=G1(i.i)&&i.ka){try{i.ka()}catch(be){}i.ka=void 0}}else ht(i,11)}else if((s.J||i.g==s)&&Pa(i),!Ro(r))for(u=i.Ca.g.parse(r),r=0;r<u.length;r++){var h=u[r];if(i.U=h[0],h=h[1],2==i.G)if("c"==h[0]){i.J=h[1],i.la=h[2];var m=h[3];null!=m&&(i.ma=m,i.h.info("VER="+i.ma));var v=h[4];null!=v&&(i.za=v,i.h.info("SVER="+i.za));var C=h[5];null!=C&&"number"==typeof C&&0<C&&(i.K=o=1.5*C,i.h.info("backChannelRequestTimeoutMs_="+o)),o=i;var S=s.g;if(S){var N=S.g?S.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(N){var x=o.i;!x.g&&(bi(N,"spdy")||bi(N,"quic")||bi(N,"h2"))&&(x.j=x.l,x.g=new Set,x.h&&(Xd(x,x.h),x.h=null))}if(o.D){var F=S.g?S.g.getResponseHeader("X-HTTP-Session-Id"):null;F&&(o.sa=F,vn(o.F,o.D,F))}}i.G=3,i.j&&i.j.xa(),i.$&&(i.O=Date.now()-s.F,i.h.info("Handshake RTT: "+i.O+"ms"));var L=s;if((o=i).oa=ky(o,o.H?o.la:null,o.W),L.J){eh(o.i,L);var q=L,re=o.K;re&&q.setTimeout(re),q.B&&(ig(q),rg(q)),o.g=L}else GN(o);0<i.l.length&&pg(i)}else"stop"!=h[0]&&"close"!=h[0]||ht(i,7);else 3==i.G&&("stop"==h[0]||"close"==h[0]?"stop"==h[0]?ht(i,7):xy(i):"noop"!=h[0]&&i.j&&i.j.wa(h),i.A=0)}Xp(4)}catch(be){}}function CD(s,r){if(s.forEach&&"function"==typeof s.forEach)s.forEach(r,void 0);else if(o1(s)||"string"==typeof s)u1(s,r,void 0);else{if(s.T&&"function"==typeof s.T)var i=s.T();else if(s.R&&"function"==typeof s.R)i=void 0;else if(o1(s)||"string"==typeof s){i=[];for(var o=s.length,u=0;u<o;u++)i.push(u)}else for(u in i=[],o=0,s)i[o++]=u;u=(o=function(s){if(s.R&&"function"==typeof s.R)return s.R();if("string"==typeof s)return s.split("");if(o1(s)){for(var r=[],i=s.length,o=0;o<i;o++)r.push(s[o]);return r}for(o in r=[],i=0,s)r[i++]=s[o];return r}(s)).length;for(var h=0;h<u;h++)r.call(void 0,o[h],i&&i[h],s)}}function Pl(s,r){this.h={},this.g=[],this.i=0;var i=arguments.length;if(1<i){if(i%2)throw Error("Uneven number of arguments");for(var o=0;o<i;o+=2)this.set(arguments[o],arguments[o+1])}else if(s)if(s instanceof Pl)for(i=s.T(),o=0;o<i.length;o++)this.set(i[o],s.get(i[o]));else for(o in s)this.set(o,s[o])}function Kd(s){if(s.i!=s.g.length){for(var r=0,i=0;r<s.g.length;){var o=s.g[r];Ju(s.h,o)&&(s.g[i++]=o),r++}s.g.length=i}if(s.i!=s.g.length){var u={};for(i=r=0;r<s.g.length;)Ju(u,o=s.g[r])||(s.g[i++]=o,u[o]=1),r++;s.g.length=i}}function Ju(s,r){return Object.prototype.hasOwnProperty.call(s,r)}(Ge=ng.prototype).setTimeout=function(s){this.P=s},Ge.gb=function(s){s=s.target;var r=this.L;r&&3==Ns(s)?r.l():this.Ia(s)},Ge.Ia=function(s){try{if(s==this.g)e:{var r=Ns(this.g),i=this.g.Da(),o=this.g.ba();if(!(3>r)&&(3!=r||Hd||this.g&&(this.h.h||this.g.ga()||RD(this.g)))){this.I||4!=r||7==i||Xp(8==i||0>=o?3:2),ig(this);var u=this.g.ba();this.N=u;t:if(Ty(this)){var h=RD(this.g);s="";var m=h.length,v=4==Ns(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Yd(this),Wd(this);var C="";break t}this.h.i=new Ct.TextDecoder}for(i=0;i<m;i++)this.h.h=!0,s+=this.h.i.decode(h[i],{stream:v&&i==m-1});h.splice(0,m),this.h.g+=s,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==u,function(s,r,i,o,u,h,m){s.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+r+"\n"+i+"\n"+h+" "+m})}(this.j,this.u,this.A,this.m,this.X,r,u),this.i){if(this.$&&!this.J){t:{if(this.g){var S,N=this.g;if((S=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ro(S)){var x=S;break t}}x=null}if(!(u=x)){this.i=!1,this.o=3,wi(12),Yd(this),Wd(this);break e}Wu(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,F1(this,u)}this.U?(wD(this,r,C),Hd&&this.i&&3==r&&(S1(this.V,this.W,"tick",this.fb),this.W.start())):(Wu(this.j,this.m,C,null),F1(this,C)),4==r&&Yd(this),this.i&&!this.I&&(4==r?rh(this.l,this):(this.i=!1,rg(this)))}else 400==u&&0<C.indexOf("Unknown SID")?(this.o=3,wi(12)):(this.o=0,wi(13)),Yd(this),Wd(this)}}}catch(F){}},Ge.fb=function(){if(this.g){var s=Ns(this.g),r=this.g.ga();this.C<r.length&&(ig(this),wD(this,s,r),this.i&&4!=s&&rg(this))}},Ge.cancel=function(){this.I=!0,Yd(this)},Ge.eb=function(){this.B=null;var s=Date.now();0<=s-this.Y?(function(s,r){s.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Xp(3),wi(17)),Yd(this),this.o=2,Wd(this)):P1(this,this.Y-s)},(Ge=Pl.prototype).R=function(){Kd(this);for(var s=[],r=0;r<this.g.length;r++)s.push(this.h[this.g[r]]);return s},Ge.T=function(){return Kd(this),this.g.concat()},Ge.get=function(s,r){return Ju(this.h,s)?this.h[s]:r},Ge.set=function(s,r){Ju(this.h,s)||(this.i++,this.g.push(s)),this.h[s]=r},Ge.forEach=function(s,r){for(var i=this.T(),o=0;o<i.length;o++){var u=i[o],h=this.get(u);s.call(r,h,u,this)}};var Qu=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Jd(s,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,s instanceof Jd){this.g=void 0!==r?r:s.g,as(this,s.j),this.s=s.s,sg(this,s.i),L1(this,s.m),this.l=s.l,r=s.h;var i=new ug;i.i=r.i,r.g&&(i.g=new Pl(r.g),i.h=r.h),og(this,i),this.o=s.o}else s&&(i=String(s).match(Qu))?(this.g=!!r,as(this,i[1]||"",!0),this.s=ag(i[2]||""),sg(this,i[3]||"",!0),L1(this,i[4]),this.l=ag(i[5]||"",!0),og(this,i[6]||"",!0),this.o=ag(i[7]||"")):(this.g=!!r,this.h=new ug(null,this.g))}function ka(s){return new Jd(s)}function as(s,r,i){s.j=i?ag(r,!0):r,s.j&&(s.j=s.j.replace(/:$/,""))}function sg(s,r,i){s.i=i?ag(r,!0):r}function L1(s,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);s.m=r}else s.m=null}function og(s,r,i){r instanceof ug?(s.h=r,function(s,r){r&&!s.j&&(Fl(s),s.i=null,s.g.forEach(function(i,o){var u=o.toLowerCase();o!=u&&(DD(this,o),H1(this,u,i))},s)),s.j=r}(s.h,s.g)):(i||(r=lg(r,ON)),s.h=new ug(r,s.g))}function vn(s,r,i){s.h.set(r,i)}function Dy(s){return vn(s,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),s}function ag(s,r){return s?r?decodeURI(s.replace(/%25/g,"%2525")):decodeURIComponent(s):""}function lg(s,r,i){return"string"==typeof s?(s=encodeURI(s).replace(r,V1),i&&(s=s.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s):null}function V1(s){return"%"+((s=s.charCodeAt(0))>>4&15).toString(16)+(15&s).toString(16)}Jd.prototype.toString=function(){var s=[],r=this.j;r&&s.push(lg(r,U1,!0),":");var i=this.i;return(i||"file"==r)&&(s.push("//"),(r=this.s)&&s.push(lg(r,U1,!0),"@"),s.push(encodeURIComponent(String(i)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(i=this.m)&&s.push(":",String(i))),(i=this.l)&&(this.i&&"/"!=i.charAt(0)&&s.push("/"),s.push(lg(i,"/"==i.charAt(0)?TD:B1,!0))),(i=this.h.toString())&&s.push("?",i),(i=this.o)&&s.push("#",lg(i,Ex)),s.join("")};var U1=/[#\/\?@]/g,B1=/[#\?:]/g,TD=/[#\?]/g,ON=/[#\?@]/g,Ex=/#/g;function ug(s,r){this.h=this.g=null,this.i=s||null,this.j=!!r}function Fl(s){s.g||(s.g=new Pl,s.h=0,s.i&&function(s,r){if(s){s=s.split("&");for(var i=0;i<s.length;i++){var o=s[i].indexOf("="),u=null;if(0<=o){var h=s[i].substring(0,o);u=s[i].substring(o+1)}else h=s[i];r(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(s.i,function(r,i){s.add(decodeURIComponent(r.replace(/\+/g," ")),i)}))}function DD(s,r){Fl(s),r=Xu(s,r),Ju(s.g.h,r)&&(s.i=null,s.h-=s.g.get(r).length,Ju((s=s.g).h,r)&&(delete s.h[r],s.i--,s.g.length>2*s.i&&Kd(s)))}function j1(s,r){return Fl(s),r=Xu(s,r),Ju(s.g.h,r)}function H1(s,r,i){DD(s,r),0<i.length&&(s.i=null,s.g.set(Xu(s,r),$p(i)),s.h+=i.length)}function Xu(s,r){return r=String(r),s.j&&(r=r.toLowerCase()),r}(Ge=ug.prototype).add=function(s,r){Fl(this),this.i=null,s=Xu(this,s);var i=this.g.get(s);return i||this.g.set(s,i=[]),i.push(r),this.h+=1,this},Ge.forEach=function(s,r){Fl(this),this.g.forEach(function(i,o){u1(i,function(u){s.call(r,u,o,this)},this)},this)},Ge.T=function(){Fl(this);for(var s=this.g.R(),r=this.g.T(),i=[],o=0;o<r.length;o++)for(var u=s[o],h=0;h<u.length;h++)i.push(r[o]);return i},Ge.R=function(s){Fl(this);var r=[];if("string"==typeof s)j1(this,s)&&(r=cy(r,this.g.get(Xu(this,s))));else{s=this.g.R();for(var i=0;i<s.length;i++)r=cy(r,s[i])}return r},Ge.set=function(s,r){return Fl(this),this.i=null,j1(this,s=Xu(this,s))&&(this.h-=this.g.get(s).length),this.g.set(s,[r]),this.h+=1,this},Ge.get=function(s,r){return s&&0<(s=this.R(s)).length?String(s[0]):r},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var s=[],r=this.g.T(),i=0;i<r.length;i++){var o=r[i],u=encodeURIComponent(String(o));o=this.R(o);for(var h=0;h<o.length;h++){var m=u;""!==o[h]&&(m+="="+encodeURIComponent(String(o[h]))),s.push(m)}}return this.i=s.join("&")};var FN=function(r,i){this.h=r,this.g=i};function $1(s){this.l=s||Iy,s=Ct.PerformanceNavigationTiming?0<(s=Ct.performance.getEntriesByType("navigation")).length&&("hq"==s[0].nextHopProtocol||"h2"==s[0].nextHopProtocol):!!(Ct.g&&Ct.g.Ea&&Ct.g.Ea()&&Ct.g.Ea().Zb),this.j=s?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Iy=10;function ID(s){return!!s.h||!!s.g&&s.g.size>=s.j}function G1(s){return s.h?1:s.g?s.g.size:0}function Qd(s,r){return s.h?s.h==r:!!s.g&&s.g.has(r)}function Xd(s,r){s.g?s.g.add(r):s.h=r}function eh(s,r){s.h&&s.h==r?s.h=null:s.g&&s.g.has(r)&&s.g.delete(r)}function SD(s){var r,i;if(null!=s.h)return s.i.concat(s.h.D);if(null!=s.g&&0!==s.g.size){var o=s.i;try{for(var u=XT(s.g.values()),h=u.next();!h.done;h=u.next())o=o.concat(h.value.D)}catch(v){r={error:v}}finally{try{h&&!h.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return o}return $p(s.i)}function Z1(){}function Cx(){this.g=new Z1}function LN(s,r,i){var o=i||"";try{CD(s,function(u,h){var m=u;jp(u)&&(m=$d(u)),r.push(o+h+"="+encodeURIComponent(m))})}catch(u){throw r.push(o+"type="+encodeURIComponent("_badmap")),u}}function Sy(s,r,i,o,u){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,u(o)}catch(h){}}function cg(s){this.l=s.$b||null,this.j=s.ib||!1}function Ay(s,r){Lr.call(this),this.D=s,this.u=r,this.m=void 0,this.readyState=q1,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$1.prototype.cancel=function(){var s,r;if(this.i=SD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var i=XT(this.g.values()),o=i.next();!o.done;o=i.next())o.value.cancel()}catch(h){s={error:h}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(s)throw s.error}}this.g.clear()}},Z1.prototype.stringify=function(s){return Ct.JSON.stringify(s,void 0)},Z1.prototype.parse=function(s){return Ct.JSON.parse(s,void 0)},vr(cg,N1),cg.prototype.g=function(){return new Ay(this.l,this.j)},cg.prototype.i=function(s){return function(){return s}}({}),vr(Ay,Lr);var q1=0;function AD(s){s.j.read().then(s.Sa.bind(s)).catch(s.ha.bind(s))}function dg(s){s.readyState=4,s.l=null,s.j=null,s.A=null,hg(s)}function hg(s){s.onreadystatechange&&s.onreadystatechange.call(s)}(Ge=Ay.prototype).open=function(s,r){if(this.readyState!=q1)throw this.abort(),Error("Error reopening a connection");this.C=s,this.B=r,this.readyState=1,hg(this)},Ge.send=function(s){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};s&&(r.body=s),(this.D||Ct).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dg(this)),this.readyState=q1},Ge.Va=function(s){if(this.g&&(this.l=s,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=s.headers,this.readyState=2,hg(this)),this.g&&(this.readyState=3,hg(this),this.g)))if("arraybuffer"===this.responseType)s.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ct.ReadableStream&&"body"in s){if(this.j=s.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;AD(this)}else s.text().then(this.Ua.bind(this),this.ha.bind(this))},Ge.Sa=function(s){if(this.g){if(this.u&&s.value)this.response.push(s.value);else if(!this.u){var r=s.value?s.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!s.done}))&&(this.response=this.responseText+=r)}s.done?dg(this):hg(this),3==this.readyState&&AD(this)}},Ge.Ua=function(s){this.g&&(this.response=this.responseText=s,dg(this))},Ge.Ta=function(s){this.g&&(this.response=s,dg(this))},Ge.ha=function(){this.g&&dg(this)},Ge.setRequestHeader=function(s,r){this.v.append(s,r)},Ge.getResponseHeader=function(s){return this.h&&this.h.get(s.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";for(var s=[],r=this.h.entries(),i=r.next();!i.done;)s.push((i=i.value)[0]+": "+i[1]),i=r.next();return s.join("\r\n")},Object.defineProperty(Ay.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(s){this.m=s?"include":"same-origin"}});var Tx=Ct.JSON.parse;function Jn(s){Lr.call(this),this.headers=new Pl,this.u=s||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=th,this.K=this.L=!1}vr(Jn,Lr);var th="",UN=/^https?$/i,BN=["POST","PUT"];function Ny(s){return"content-type"==s.toLowerCase()}function Ll(s,r){s.h=!1,s.g&&(s.l=!0,s.g.abort(),s.l=!1),s.j=r,s.m=5,z1(s),W1(s)}function z1(s){s.D||(s.D=!0,oi(s,"complete"),oi(s,"error"))}function ND(s){if(s.h&&void 0!==s1&&(!s.C[1]||4!=Ns(s)||2!=s.ba()))if(s.v&&4==Ns(s))D1(s.Fa,0,s);else if(oi(s,"readystatechange"),4==Ns(s)){s.h=!1;try{var o,r=s.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}if(!(o=i)){var u;if(u=0===r){var h=String(s.H).match(Qu)[1]||null;if(!h&&Ct.self&&Ct.self.location){var m=Ct.self.location.protocol;h=m.substr(0,m.length-1)}u=!UN.test(h?h.toLowerCase():"")}o=u}if(o)oi(s,"complete"),oi(s,"success");else{s.m=6;try{var v=2<Ns(s)?s.g.statusText:""}catch(C){v=""}s.j=v+" ["+s.ba()+"]",z1(s)}}finally{W1(s)}}}function W1(s,r){if(s.g){MD(s);var i=s.g,o=s.C[0]?uy:null;s.g=null,s.C=null,r||oi(s,"ready");try{i.onreadystatechange=o}catch(u){}}}function MD(s){s.g&&s.K&&(s.g.ontimeout=null),s.A&&(Ct.clearTimeout(s.A),s.A=null)}function Ns(s){return s.g?s.g.readyState:0}function RD(s){try{if(!s.g)return null;if("response"in s.g)return s.g.response;switch(s.J){case th:case"text":return s.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in s.g)return s.g.mozResponseArrayBuffer}return null}catch(r){return null}}function My(s,r,i){e:{for(o in i){var o=!1;break e}o=!0}o||(i=function(s){var r="";return hy(s,function(i,o){r+=o,r+=":",r+=i,r+="\r\n"}),r}(i),"string"==typeof s?null!=i&&encodeURIComponent(String(i)):vn(s,r,i))}function nh(s,r,i){return i&&i.internalChannelParams&&i.internalChannelParams[s]||r}function Ry(s){this.za=0,this.l=[],this.h=new Zd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=nh("failFast",!1,s),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=nh("baseRetryDelayMs",5e3,s),this.$a=nh("retryDelaySeedMs",1e4,s),this.Ya=nh("forwardChannelMaxRetries",2,s),this.ra=nh("forwardChannelRequestTimeoutMs",2e4,s),this.qa=s&&s.xmlHttpFactory||void 0,this.Ba=s&&s.Yb||!1,this.K=void 0,this.H=s&&s.supportsCrossDomainXhr||!1,this.J="",this.i=new $1(s&&s.concurrentRequestLimit),this.Ca=new Cx,this.ja=s&&s.fastHandshake||!1,this.Ra=s&&s.Wb||!1,s&&s.Aa&&this.h.Aa(),s&&s.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&s&&s.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!s||!1!==s.Xb}function xy(s){if(xD(s),3==s.G){var r=s.V++,i=ka(s.F);vn(i,"SID",s.J),vn(i,"RID",r),vn(i,"TYPE","terminate"),Vl(s,i),(r=new ng(s,s.h,r,void 0)).K=2,r.v=Dy(ka(i)),i=!1,Ct.navigator&&Ct.navigator.sendBeacon&&(i=Ct.navigator.sendBeacon(r.v.toString(),"")),!i&&Ct.Image&&((new Image).src=r.v,i=!0),i||(r.g=Ul(r.l,null),r.g.ea(r.v)),r.F=Date.now(),rg(r)}ls(s)}function fg(s){s.g&&(Wt(s),s.g.cancel(),s.g=null)}function xD(s){fg(s),s.u&&(Ct.clearTimeout(s.u),s.u=null),Pa(s),s.i.cancel(),s.m&&("number"==typeof s.m&&Ct.clearTimeout(s.m),s.m=null)}function Y1(s,r){s.l.push(new FN(s.Za++,r)),3==s.G&&pg(s)}function pg(s){ID(s.i)||s.m||(s.m=!0,w1(s.Ha,s),s.C=0)}function K1(s,r){var i;i=r?r.m:s.V++;var o=ka(s.F);vn(o,"SID",s.J),vn(o,"RID",i),vn(o,"AID",s.U),Vl(s,o),s.o&&s.s&&My(o,s.o,s.s),i=new ng(s,s.h,i,s.C+1),null===s.o&&(i.H=s.s),r&&(s.l=r.D.concat(s.l)),r=gg(s,i,1e3),i.setTimeout(Math.round(.5*s.ra)+Math.round(.5*s.ra*Math.random())),Xd(s.i,i),O1(i,o,r)}function Vl(s,r){s.j&&CD({},function(i,o){vn(r,o,i)})}function gg(s,r,i){i=Math.min(s.l.length,i);var o=s.j?yr(s.j.Oa,s.j,s):null;e:for(var u=s.l,h=-1;;){var m=["count="+i];-1==h?0<i?m.push("ofs="+(h=u[0].h)):h=0:m.push("ofs="+h);for(var v=!0,C=0;C<i;C++){var S=u[C].h,N=u[C].g;if(0>(S-=h))h=Math.max(0,u[C].h-100),v=!1;else try{LN(N,m,"req"+S+"_")}catch(x){o&&o(N)}}if(v){o=m.join("&");break e}}return s=s.l.splice(0,i),r.D=s,o}function GN(s){s.g||s.u||(s.Y=1,w1(s.Ga,s),s.A=0)}function ec(s){return!(s.g||s.u||3<=s.A||(s.Y++,s.u=eg(yr(s.Ga,s),ZN(s,s.A)),s.A++,0))}function Wt(s){null!=s.B&&(Ct.clearTimeout(s.B),s.B=null)}function Oa(s){s.g=new ng(s,s.h,"rpc",s.Y),null===s.o&&(s.g.H=s.s),s.g.O=0;var r=ka(s.oa);vn(r,"RID","rpc"),vn(r,"SID",s.J),vn(r,"CI",s.N?"0":"1"),vn(r,"AID",s.U),Vl(s,r),vn(r,"TYPE","xmlhttp"),s.o&&s.s&&My(r,s.o,s.s),s.K&&s.g.setTimeout(s.K);var i=s.g;s=s.la,i.K=1,i.v=Dy(ka(r)),i.s=null,i.U=!0,bD(i,s)}function Pa(s){null!=s.v&&(Ct.clearTimeout(s.v),s.v=null)}function rh(s,r){var i=null;if(s.g==r){Pa(s),Wt(s),s.g=null;var o=2}else{if(!Qd(s.i,r))return;i=r.D,eh(s.i,r),o=1}if(s.I=r.N,0!=s.G)if(r.i)if(1==o){i=r.s?r.s.length:0,r=Date.now()-r.F;var u=s.C;oi(o=yy(),new yD(o,i,r,u)),pg(s)}else GN(s);else if(3==(u=r.o)||0==u&&0<s.I||!(1==o&&function(s,r){return!(G1(s.i)>=s.i.j-(s.m?1:0)||(s.m?(s.l=r.D.concat(s.l),0):1==s.G||2==s.G||s.C>=(s.Xa?0:s.Ya)||(s.m=eg(yr(s.Ha,s,r),ZN(s,s.C)),s.C++,0)))}(s,r)||2==o&&ec(s)))switch(i&&0<i.length&&(r=s.i,r.i=r.i.concat(i)),u){case 1:ht(s,5);break;case 4:ht(s,10);break;case 3:ht(s,6);break;default:ht(s,2)}}function ZN(s,r){var i=s.Pa+Math.floor(Math.random()*s.$a);return s.j||(i*=2),i*r}function ht(s,r){if(s.h.info("Error code "+r),2==r){var i=null;s.j&&(i=null);var o=yr(s.jb,s);i||(i=new Jd("//www.google.com/images/cleardot.gif"),Ct.location&&"http"==Ct.location.protocol||as(i,"https"),Dy(i)),function(s,r){var i=new Zd;if(Ct.Image){var o=new Image;o.onload=Hp(Sy,i,o,"TestLoadImage: loaded",!0,r),o.onerror=Hp(Sy,i,o,"TestLoadImage: error",!1,r),o.onabort=Hp(Sy,i,o,"TestLoadImage: abort",!1,r),o.ontimeout=Hp(Sy,i,o,"TestLoadImage: timeout",!1,r),Ct.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=s}else r(!1)}(i.toString(),o)}else wi(2);s.G=0,s.j&&s.j.va(r),ls(s),xD(s)}function ls(s){s.G=0,s.I=-1,s.j&&((0!=SD(s.i).length||0!=s.l.length)&&(s.i.i.length=0,$p(s.l),s.l.length=0),s.j.ua())}function ky(s,r,i){var o=function(s){return s instanceof Jd?ka(s):new Jd(s,void 0)}(i);if(""!=o.i)r&&sg(o,r+"."+o.i),L1(o,o.m);else{var u=Ct.location;o=function(s,r,i,o){var u=new Jd(null,void 0);return s&&as(u,s),r&&sg(u,r),i&&L1(u,i),o&&(u.l=o),u}(u.protocol,r?r+"."+u.hostname:u.hostname,+u.port,i)}return s.aa&&hy(s.aa,function(h,m){vn(o,m,h)}),i=s.sa,(r=s.D)&&i&&vn(o,r,i),vn(o,"VER",s.ma),Vl(s,o),o}function Ul(s,r,i){if(r&&!s.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Jn(i&&s.Ba&&!s.qa?new cg({ib:!0}):s.qa)).L=s.H,r}function qN(){}function mg(){if(xa&&!(10<=Number(vN)))throw Error("Environmental error: no available transport.")}function Bi(s,r){Lr.call(this),this.g=new Ry(r),this.l=s,this.h=r&&r.messageUrlParams||null,s=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(s?s["X-Client-Protocol"]="webchannel":s={"X-Client-Protocol":"webchannel"}),this.g.s=s,s=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(s?s["X-WebChannel-Content-Type"]=r.messageContentType:s={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(s?s["X-WebChannel-Client-Profile"]=r.ya:s={"X-WebChannel-Client-Profile":r.ya}),this.g.P=s,(s=r&&r.httpHeadersOverwriteParam)&&!Ro(s)&&(this.g.o=s),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Ro(r)&&(this.g.D=r,null!==(s=this.h)&&r in s&&r in(s=this.h)&&delete s[r]),this.j=new ih(this)}function zN(s){x1.call(this);var r=s.__sm__;if(r){e:{for(var i in r){s=i;break e}s=void 0}(this.i=s)&&(s=this.i,r=null!==r&&s in r?r[s]:void 0),this.data=r}else this.data=s}function kD(){tg.call(this),this.status=1}function ih(s){this.g=s}(Ge=Jn.prototype).ea=function(s,r,i,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+s);r=r?r.toUpperCase():"GET",this.H=s,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():by.g(),this.C=function(s){return s.h||(s.h=s.i())}(this.u?this.u:by),this.g.onreadystatechange=yr(this.Fa,this);try{this.F=!0,this.g.open(r,String(s),!0),this.F=!1}catch(h){return void Ll(this,h)}s=i||"";var u=new Pl(this.headers);o&&CD(o,function(h,m){u.set(m,h)}),o=function(s){e:{for(var r=Ny,i=s.length,o="string"==typeof s?s.split(""):s,u=0;u<i;u++)if(u in o&&r.call(void 0,o[u],u,s)){r=u;break e}r=-1}return 0>r?null:"string"==typeof s?s.charAt(r):s[r]}(u.T()),i=Ct.FormData&&s instanceof Ct.FormData,!(0<=l1(BN,r))||o||i||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(h,m){this.g.setRequestHeader(m,h)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{MD(this),0<this.B&&((this.K=function(s){return xa&&oD()&&"number"==typeof s.timeout&&void 0!==s.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=yr(this.pa,this)):this.A=D1(this.pa,this.B,this)),this.v=!0,this.g.send(s),this.v=!1}catch(h){Ll(this,h)}},Ge.pa=function(){void 0!==s1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,oi(this,"timeout"),this.abort(8))},Ge.abort=function(s){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=s||7,oi(this,"complete"),oi(this,"abort"),W1(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),W1(this,!0)),Jn.Z.M.call(this)},Ge.Fa=function(){this.s||(this.F||this.v||this.l?ND(this):this.cb())},Ge.cb=function(){ND(this)},Ge.ba=function(){try{return 2<Ns(this)?this.g.status:-1}catch(s){return-1}},Ge.ga=function(){try{return this.g?this.g.responseText:""}catch(s){return""}},Ge.Qa=function(s){if(this.g){var r=this.g.responseText;return s&&0==r.indexOf(s)&&(r=r.substring(s.length)),Tx(r)}},Ge.Da=function(){return this.m},Ge.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=Ry.prototype).ma=8,Ge.G=1,Ge.hb=function(s){try{this.h.info("Origin Trials invoked: "+s)}catch(r){}},Ge.Ha=function(s){if(this.m)if(this.m=null,1==this.G){if(!s){this.V=Math.floor(1e5*Math.random()),s=this.V++;var r=new ng(this,this.h,s,void 0),i=this.s;if(this.P&&(i?lt(i=c1(i),this.P):i=this.P),null===this.o&&(r.H=i),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var h=this.l[u];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(o+=h)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=gg(this,r,o),vn(u=ka(this.F),"RID",s),vn(u,"CVER",22),this.D&&vn(u,"X-HTTP-Session-Id",this.D),Vl(this,u),this.o&&i&&My(u,this.o,i),Xd(this.i,r),this.Ra&&vn(u,"TYPE","init"),this.ja?(vn(u,"$req",o),vn(u,"SID","null"),r.$=!0,O1(r,u,null)):O1(r,u,o),this.G=2}}else 3==this.G&&(s?K1(this,s):0==this.l.length||ID(this.i)||K1(this))},Ge.Ga=function(){if(this.u=null,Oa(this),this.$&&!(this.L||null==this.g||0>=this.O)){var s=2*this.O;this.h.info("BP detection timer enabled: "+s),this.B=eg(yr(this.bb,this),s)}},Ge.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,wi(10),fg(this),Oa(this))},Ge.ab=function(){null!=this.v&&(this.v=null,fg(this),ec(this),wi(19))},Ge.jb=function(s){s?(this.h.info("Successfully pinged google.com"),wi(2)):(this.h.info("Failed to ping google.com"),wi(1))},(Ge=qN.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Oa=function(){},mg.prototype.g=function(s,r){return new Bi(s,r)},vr(Bi,Lr),Bi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var s=this.g,r=this.l,i=this.h||void 0;s.Wa&&(s.h.info("Origin Trials enabled."),w1(yr(s.hb,s,r))),wi(0),s.W=r,s.aa=i||{},s.N=s.X,s.F=ky(s,null,s.W),pg(s)},Bi.prototype.close=function(){xy(this.g)},Bi.prototype.u=function(s){if("string"==typeof s){var r={};r.__data__=s,Y1(this.g,r)}else this.v?((r={}).__data__=$d(s),Y1(this.g,r)):Y1(this.g,s)},Bi.prototype.M=function(){this.g.j=null,delete this.j,xy(this.g),delete this.g,Bi.Z.M.call(this)},vr(zN,x1),vr(kD,tg),vr(ih,qN),ih.prototype.xa=function(){oi(this.g,"a")},ih.prototype.wa=function(s){oi(this.g,new zN(s))},ih.prototype.va=function(s){oi(this.g,new kD(s))},ih.prototype.ua=function(){oi(this.g,"b")},mg.prototype.createWebChannel=mg.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,vy.NO_ERROR=0,vy.TIMEOUT=8,vy.HTTP_ERROR=6,vD.COMPLETE="complete",R1.EventType=qd,qd.OPEN="a",qd.CLOSE="b",qd.ERROR="c",qd.MESSAGE="d",Lr.prototype.listen=Lr.prototype.N,Jn.prototype.listenOnce=Jn.prototype.O,Jn.prototype.getLastError=Jn.prototype.La,Jn.prototype.getLastErrorCode=Jn.prototype.Da,Jn.prototype.getStatus=Jn.prototype.ba,Jn.prototype.getResponseJson=Jn.prototype.Qa,Jn.prototype.getResponseText=Jn.prototype.ga,Jn.prototype.send=Jn.prototype.ea;var ji=vy,J1=vD,OD=Yu,Oy_PROXY=10,Oy_NOPROXY=11,Py=cg,xo=R1,sh=Jn;class Vr{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}Vr.UNAUTHENTICATED=new Vr(null),Vr.GOOGLE_CREDENTIALS=new Vr("google-credentials-uid"),Vr.FIRST_PARTY=new Vr("first-party-uid"),Vr.MOCK_USER=new Vr("mock-user");let tc="9.0.0";const ko=new Zu.Yd("@firebase/firestore");function nc(){return ko.logLevel}function Oe(s,...r){if(ko.logLevel<=Zu.in.DEBUG){const i=r.map(ah);ko.debug(`Firestore (${tc}): ${s}`,...i)}}function gn(s,...r){if(ko.logLevel<=Zu.in.ERROR){const i=r.map(ah);ko.error(`Firestore (${tc}): ${s}`,...i)}}function _g(s,...r){if(ko.logLevel<=Zu.in.WARN){const i=r.map(ah);ko.warn(`Firestore (${tc}): ${s}`,...i)}}function ah(s){if("string"==typeof s)return s;try{return JSON.stringify(s)}catch(i){return s}}function Qe(s="Unexpected state"){const r=`FIRESTORE (${tc}) INTERNAL ASSERTION FAILED: `+s;throw gn(r),new Error(r)}function gt(s,r){s||Qe()}function Be(s,r){return s}const me={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Error{constructor(r,i){super(i),this.code=r,this.message=i,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Qn{constructor(){this.promise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}}class WN{constructor(r,i){this.user=i,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class Ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,i){r.enqueueRetryable(()=>i(Vr.UNAUTHENTICATED))}shutdown(){}}class vt{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(r,i){this.changeListener=i,r.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class Sx{constructor(r){this.t=r,this.currentUser=Vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,i){var o=this;let u=this.i;const h=C=>this.i!==u?(u=this.i,i(C)):Promise.resolve();let m=new Qn;this.o=()=>{this.i++,this.currentUser=this.u(),m.resolve(),m=new Qn,r.enqueueRetryable(()=>h(this.currentUser))};const v=C=>{r.enqueueRetryable((0,Ce.Z)(function*(){Oe("FirebaseCredentialsProvider","Auth detected"),o.auth=C,o.auth.addAuthTokenListener(o.o),yield m.promise,yield h(o.currentUser)}))};this.t.onInit(C=>v(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?v(C):(Oe("FirebaseCredentialsProvider","Auth not yet detected"),m.resolve(),m=new Qn)}},0),r.enqueueRetryable((0,Ce.Z)(function*(){0===o.i&&(yield m.promise,yield h(o.currentUser))}))}getToken(){const r=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(o=>this.i!==r?(Oe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(gt("string"==typeof o.accessToken),new WN(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return gt(null===r||"string"==typeof r),new Vr(r)}}class yg{constructor(r,i,o){this.h=r,this.l=i,this.m=o,this.type="FirstParty",this.user=Vr.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.l},i=this.h.auth.getAuthHeaderValueForFirstParty([]);return i&&(r.Authorization=i),this.m&&(r["X-Goog-Iam-Authorization-Token"]=this.m),r}}class YN{constructor(r,i,o){this.h=r,this.l=i,this.m=o}getToken(){return Promise.resolve(new yg(this.h,this.l,this.m))}start(r,i){r.enqueueRetryable(()=>i(Vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cs{constructor(r,i){this.previousValue=r,i&&(i.sequenceNumberHandler=o=>this.g(o),this.p=o=>i.writeSequenceNumber(o))}g(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.p&&this.p(r),r}}function KN(s){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(i);else for(let o=0;o<s;o++)i[o]=Math.floor(256*Math.random());return i}cs.T=-1;class JN{static I(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=Math.floor(256/r.length)*r.length;let o="";for(;o.length<20;){const u=KN(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<i&&(o+=r.charAt(u[h]%r.length))}return o}}function Gt(s,r){return s<r?-1:s>r?1:0}function lh(s,r,i){return s.length===r.length&&s.every((o,u)=>i(o,r[u]))}function Ur(s){return s+"\0"}class br{constructor(r,i){if(this.seconds=r,this.nanoseconds=i,i<0)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new Ne(me.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(r<-62135596800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Ne(me.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return br.fromMillis(Date.now())}static fromDate(r){return br.fromMillis(r.getTime())}static fromMillis(r){const i=Math.floor(r/1e3),o=Math.floor(1e6*(r-1e3*i));return new br(i,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Gt(this.nanoseconds,r.nanoseconds):Gt(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(r){this.timestamp=r}static fromTimestamp(r){return new It(r)}static min(){return new It(new br(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fy(s){let r=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r++;return r}function rc(s,r){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&r(i,s[i])}function FD(s){for(const r in s)if(Object.prototype.hasOwnProperty.call(s,r))return!1;return!0}class vg{constructor(r,i,o){void 0===i?i=0:i>r.length&&Qe(),void 0===o?o=r.length-i:o>r.length-i&&Qe(),this.segments=r,this.offset=i,this.len=o}get length(){return this.len}isEqual(r){return 0===vg.comparator(this,r)}child(r){const i=this.segments.slice(this.offset,this.limit());return r instanceof vg?r.forEach(o=>{i.push(o)}):i.push(r),this.construct(i)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==r.get(i))return!1;return!0}forEach(r){for(let i=this.offset,o=this.limit();i<o;i++)r(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,i){const o=Math.min(r.length,i.length);for(let u=0;u<o;u++){const h=r.get(u),m=i.get(u);if(h<m)return-1;if(h>m)return 1}return r.length<i.length?-1:r.length>i.length?1:0}}class Yt extends vg{construct(r,i,o){return new Yt(r,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const i=[];for(const o of r){if(o.indexOf("//")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter(u=>u.length>0))}return new Yt(i)}static emptyPath(){return new Yt([])}}const QN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends vg{construct(r,i,o){return new Br(r,i,o)}static isValidIdentifier(r){return QN.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(r){const i=[];let o="",u=0;const h=()=>{if(0===o.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;u<r.length;){const v=r[u];if("\\"===v){if(u+1===r.length)throw new Ne(me.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const C=r[u+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Ne(me.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);o+=C,u+=2}else"`"===v?(m=!m,u++):"."!==v||m?(o+=v,u++):(h(),u++)}if(h(),m)throw new Ne(me.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new Br(i)}static emptyPath(){return new Br([])}}class Bl{constructor(r){this.fields=r,r.sort(Br.comparator)}covers(r){for(const i of this.fields)if(i.isPrefixOf(r))return!0;return!1}isEqual(r){return lh(this.fields,r.fields,(i,o)=>i.isEqual(o))}}class wr{constructor(r){this.binaryString=r}static fromBase64String(r){const i=atob(r);return new wr(i)}static fromUint8Array(r){const i=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(r);return new wr(i)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const i=new Uint8Array(r.length);for(let o=0;o<r.length;o++)i[o]=r.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Gt(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}wr.EMPTY_BYTE_STRING=new wr("");const LD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Oo(s){if(gt(!!s),"string"==typeof s){let r=0;const i=LD.exec(s);if(gt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),r=Number(u)}const o=new Date(s);return{seconds:Math.floor(o.getTime()/1e3),nanos:r}}return{seconds:Xn(s.seconds),nanos:Xn(s.nanos)}}function Xn(s){return"number"==typeof s?s:"string"==typeof s?Number(s):0}function bg(s){return"string"==typeof s?wr.fromBase64String(s):wr.fromUint8Array(s)}function X1(s){var r,i;return"server_timestamp"===(null===(i=((null===(r=null==s?void 0:s.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===i?void 0:i.stringValue)}function VD(s){const r=s.mapValue.fields.__previous_value__;return X1(r)?VD(r):r}function wg(s){const r=Oo(s.mapValue.fields.__local_write_time__.timestampValue);return new br(r.seconds,r.nanos)}function ic(s){return null==s}function Ly(s){return 0===s&&1/s==-1/0}function UD(s){return"number"==typeof s&&Number.isInteger(s)&&!Ly(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}class qe{constructor(r){this.path=r}static fromPath(r){return new qe(Yt.fromString(r))}static fromName(r){return new qe(Yt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Yt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,i){return Yt.comparator(r.path,i.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new qe(new Yt(r.slice()))}}function sc(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?X1(s)?4:10:Qe()}function Po(s,r){const i=sc(s);if(i!==sc(r))return!1;switch(i){case 0:return!0;case 1:return s.booleanValue===r.booleanValue;case 4:return wg(s).isEqual(wg(r));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=Oo(o.timestampValue),m=Oo(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(s,r);case 5:return s.stringValue===r.stringValue;case 6:return u=r,bg(s.bytesValue).isEqual(bg(u.bytesValue));case 7:return s.referenceValue===r.referenceValue;case 8:return function(o,u){return Xn(o.geoPointValue.latitude)===Xn(u.geoPointValue.latitude)&&Xn(o.geoPointValue.longitude)===Xn(u.geoPointValue.longitude)}(s,r);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Xn(o.integerValue)===Xn(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Xn(o.doubleValue),m=Xn(u.doubleValue);return h===m?Ly(h)===Ly(m):isNaN(h)&&isNaN(m)}return!1}(s,r);case 9:return lh(s.arrayValue.values||[],r.arrayValue.values||[],Po);case 10:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Fy(h)!==Fy(m))return!1;for(const v in h)if(h.hasOwnProperty(v)&&(void 0===m[v]||!Po(h[v],m[v])))return!1;return!0}(s,r);default:return Qe()}var u}function uh(s,r){return void 0!==(s.values||[]).find(i=>Po(i,r))}function Fo(s,r){const i=sc(s),o=sc(r);if(i!==o)return Gt(i,o);switch(i){case 0:return 0;case 1:return Gt(s.booleanValue,r.booleanValue);case 2:return function(u,h){const m=Xn(u.integerValue||u.doubleValue),v=Xn(h.integerValue||h.doubleValue);return m<v?-1:m>v?1:m===v?0:isNaN(m)?isNaN(v)?0:-1:1}(s,r);case 3:return eM(s.timestampValue,r.timestampValue);case 4:return eM(wg(s),wg(r));case 5:return Gt(s.stringValue,r.stringValue);case 6:return function(u,h){const m=bg(u),v=bg(h);return m.compareTo(v)}(s.bytesValue,r.bytesValue);case 7:return function(u,h){const m=u.split("/"),v=h.split("/");for(let C=0;C<m.length&&C<v.length;C++){const S=Gt(m[C],v[C]);if(0!==S)return S}return Gt(m.length,v.length)}(s.referenceValue,r.referenceValue);case 8:return function(u,h){const m=Gt(Xn(u.latitude),Xn(h.latitude));return 0!==m?m:Gt(Xn(u.longitude),Xn(h.longitude))}(s.geoPointValue,r.geoPointValue);case 9:return function(u,h){const m=u.values||[],v=h.values||[];for(let C=0;C<m.length&&C<v.length;++C){const S=Fo(m[C],v[C]);if(S)return S}return Gt(m.length,v.length)}(s.arrayValue,r.arrayValue);case 10:return function(u,h){const m=u.fields||{},v=Object.keys(m),C=h.fields||{},S=Object.keys(C);v.sort(),S.sort();for(let N=0;N<v.length&&N<S.length;++N){const x=Gt(v[N],S[N]);if(0!==x)return x;const F=Fo(m[v[N]],C[S[N]]);if(0!==F)return F}return Gt(v.length,S.length)}(s.mapValue,r.mapValue);default:throw Qe()}}function eM(s,r){if("string"==typeof s&&"string"==typeof r&&s.length===r.length)return Gt(s,r);const i=Oo(s),o=Oo(r),u=Gt(i.seconds,o.seconds);return 0!==u?u:Gt(i.nanos,o.nanos)}function Vy(s){return ew(s)}function ew(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(o){const u=Oo(o);return`time(${u.seconds},${u.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?bg(s.bytesValue).toBase64():"referenceValue"in s?qe.fromName(s.referenceValue).toString():"geoPointValue"in s?`geo(${(r=s.geoPointValue).latitude},${r.longitude})`:"arrayValue"in s?function(o){let u="[",h=!0;for(const m of o.values||[])h?h=!1:u+=",",u+=ew(m);return u+"]"}(s.arrayValue):"mapValue"in s?function(o){const u=Object.keys(o.fields||{}).sort();let h="{",m=!0;for(const v of u)m?m=!1:h+=",",h+=`${v}:${ew(o.fields[v])}`;return h+"}"}(s.mapValue):Qe();var r}function Uy(s,r){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${r.path.canonicalString()}`}}function tw(s){return!!s&&"integerValue"in s}function nw(s){return!!s&&"arrayValue"in s}function BD(s){return!!s&&"nullValue"in s}function rw(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function By(s){return!!s&&"mapValue"in s}function Eg(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&"object"==typeof s.timestampValue)return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const r={mapValue:{fields:{}}};return rc(s.mapValue.fields,(i,o)=>r.mapValue.fields[i]=Eg(o)),r}if(s.arrayValue){const r={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)r.arrayValue.values[i]=Eg(s.arrayValue.values[i]);return r}return Object.assign({},s)}class Ei{constructor(r){this.value=r}static empty(){return new Ei({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let i=this.value;for(let o=0;o<r.length-1;++o)if(i=(i.mapValue.fields||{})[r.get(o)],!By(i))return null;return i=(i.mapValue.fields||{})[r.lastSegment()],i||null}}set(r,i){this.getFieldsMap(r.popLast())[r.lastSegment()]=Eg(i)}setAll(r){let i=Br.emptyPath(),o={},u=[];r.forEach((m,v)=>{if(!i.isImmediateParentOf(v)){const C=this.getFieldsMap(i);this.applyChanges(C,o,u),o={},u=[],i=v.popLast()}m?o[v.lastSegment()]=Eg(m):u.push(v.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,o,u)}delete(r){const i=this.field(r.popLast());By(i)&&i.mapValue.fields&&delete i.mapValue.fields[r.lastSegment()]}isEqual(r){return Po(this.value,r.value)}getFieldsMap(r){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<r.length;++o){let u=i.mapValue.fields[r.get(o)];By(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[r.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(r,i,o){rc(i,(u,h)=>r[u]=h);for(const u of o)delete r[u]}clone(){return new Ei(Eg(this.value))}}function tM(s){const r=[];return rc(s.fields,(i,o)=>{const u=new Br([i]);if(By(o)){const h=tM(o.mapValue).fields;if(0===h.length)r.push(u);else for(const m of h)r.push(u.child(m))}else r.push(u)}),new Bl(r)}class Sn{constructor(r,i,o,u,h){this.key=r,this.documentType=i,this.version=o,this.data=u,this.documentState=h}static newInvalidDocument(r){return new Sn(r,0,It.min(),Ei.empty(),0)}static newFoundDocument(r,i,o){return new Sn(r,1,i,o,0)}static newNoDocument(r,i){return new Sn(r,2,i,Ei.empty(),0)}static newUnknownDocument(r,i){return new Sn(r,3,i,Ei.empty(),2)}convertToFoundDocument(r,i){return this.version=r,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=Ei.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=Ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Sn&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new Sn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iw{constructor(r,i=null,o=[],u=[],h=null,m=null,v=null){this.path=r,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=m,this.endAt=v,this.A=null}}function jD(s,r=null,i=[],o=[],u=null,h=null,m=null){return new iw(s,r,i,o,u,h,m)}function Cg(s){const r=Be(s);if(null===r.A){let i=r.path.canonicalString();null!==r.collectionGroup&&(i+="|cg:"+r.collectionGroup),i+="|f:",i+=r.filters.map(o=>function(s){return s.field.canonicalString()+s.op.toString()+Vy(s.value)}(o)).join(","),i+="|ob:",i+=r.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),ic(r.limit)||(i+="|l:",i+=r.limit),r.startAt&&(i+="|lb:",i+=Tg(r.startAt)),r.endAt&&(i+="|ub:",i+=Tg(r.endAt)),r.A=i}return r.A}function jy(s,r){if(s.limit!==r.limit||s.orderBy.length!==r.orderBy.length)return!1;for(let u=0;u<s.orderBy.length;u++)if(!sM(s.orderBy[u],r.orderBy[u]))return!1;if(s.filters.length!==r.filters.length)return!1;for(let u=0;u<s.filters.length;u++)if((i=s.filters[u]).op!==(o=r.filters[u]).op||!i.field.isEqual(o.field)||!Po(i.value,o.value))return!1;var i,o;return s.collectionGroup===r.collectionGroup&&!!s.path.isEqual(r.path)&&!!ZD(s.startAt,r.startAt)&&ZD(s.endAt,r.endAt)}function Hy(s){return qe.isDocumentKey(s.path)&&null===s.collectionGroup&&0===s.filters.length}class Ci extends class{}{constructor(r,i,o){super(),this.field=r,this.op=i,this.value=o}static create(r,i,o){return r.isKeyField()?"in"===i||"not-in"===i?this.R(r,i,o):new sw(r,i,o):"array-contains"===i?new $D(r,o):"in"===i?new no(r,o):"not-in"===i?new ow(r,o):"array-contains-any"===i?new iM(r,o):new Ci(r,i,o)}static R(r,i,o){return"in"===i?new rM(r,o):new ch(r,o)}matches(r){const i=r.data.field(this.field);return"!="===this.op?null!==i&&this.P(Fo(i,this.value)):null!==i&&sc(this.value)===sc(i)&&this.P(Fo(i,this.value))}P(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Qe()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class sw extends Ci{constructor(r,i,o){super(r,i,o),this.key=qe.fromName(o.referenceValue)}matches(r){const i=qe.comparator(r.key,this.key);return this.P(i)}}class rM extends Ci{constructor(r,i){super(r,"in",i),this.keys=jr(0,i)}matches(r){return this.keys.some(i=>i.isEqual(r.key))}}class ch extends Ci{constructor(r,i){super(r,"not-in",i),this.keys=jr(0,i)}matches(r){return!this.keys.some(i=>i.isEqual(r.key))}}function jr(s,r){var i;return((null===(i=r.arrayValue)||void 0===i?void 0:i.values)||[]).map(o=>qe.fromName(o.referenceValue))}class $D extends Ci{constructor(r,i){super(r,"array-contains",i)}matches(r){const i=r.data.field(this.field);return nw(i)&&uh(i.arrayValue,this.value)}}class no extends Ci{constructor(r,i){super(r,"in",i)}matches(r){const i=r.data.field(this.field);return null!==i&&uh(this.value.arrayValue,i)}}class ow extends Ci{constructor(r,i){super(r,"not-in",i)}matches(r){if(uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=r.data.field(this.field);return null!==i&&!uh(this.value.arrayValue,i)}}class iM extends Ci{constructor(r,i){super(r,"array-contains-any",i)}matches(r){const i=r.data.field(this.field);return!(!nw(i)||!i.arrayValue.values)&&i.arrayValue.values.some(o=>uh(this.value.arrayValue,o))}}class dh{constructor(r,i){this.position=r,this.before=i}}function Tg(s){return`${s.before?"b":"a"}:${s.position.map(r=>Vy(r)).join(",")}`}class oc{constructor(r,i="asc"){this.field=r,this.dir=i}}function sM(s,r){return s.dir===r.dir&&s.field.isEqual(r.field)}function GD(s,r,i){let o=0;for(let u=0;u<s.position.length;u++){const h=r[u],m=s.position[u];if(o=h.field.isKeyField()?qe.comparator(qe.fromName(m.referenceValue),i.key):Fo(m,i.data.field(h.field)),"desc"===h.dir&&(o*=-1),0!==o)break}return s.before?o<=0:o<0}function ZD(s,r){if(null===s)return null===r;if(null===r||s.before!==r.before||s.position.length!==r.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Po(s.position[i],r.position[i]))return!1;return!0}class Lo{constructor(r,i=null,o=[],u=[],h=null,m="F",v=null,C=null){this.path=r,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=m,this.startAt=v,this.endAt=C,this.V=null,this.S=null}}function qD(s,r,i,o,u,h,m,v){return new Lo(s,r,i,o,u,h,m,v)}function Dg(s){return new Lo(s)}function $y(s){return!ic(s.limit)&&"F"===s.limitType}function Gy(s){return!ic(s.limit)&&"L"===s.limitType}function jl(s){return s.explicitOrderBy.length>0?s.explicitOrderBy[0].field:null}function zD(s){for(const r of s.filters)if(r.v())return r.field;return null}function Zy(s){return null!==s.collectionGroup}function hh(s){const r=Be(s);if(null===r.V){r.V=[];const i=zD(r),o=jl(r);if(null!==i&&null===o)i.isKeyField()||r.V.push(new oc(i)),r.V.push(new oc(Br.keyField(),"asc"));else{let u=!1;for(const h of r.explicitOrderBy)r.V.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.V.push(new oc(Br.keyField(),h))}}}return r.V}function ro(s){const r=Be(s);if(!r.S)if("F"===r.limitType)r.S=jD(r.path,r.collectionGroup,hh(r),r.filters,r.limit,r.startAt,r.endAt);else{const i=[];for(const h of hh(r))i.push(new oc(h.field,"desc"===h.dir?"asc":"desc"));const o=r.endAt?new dh(r.endAt.position,!r.endAt.before):null,u=r.startAt?new dh(r.startAt.position,!r.startAt.before):null;r.S=jD(r.path,r.collectionGroup,i,r.filters,r.limit,o,u)}return r.S}function aw(s,r,i){return new Lo(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),r,i,s.startAt,s.endAt)}function Ig(s,r){return jy(ro(s),ro(r))&&s.limitType===r.limitType}function qy(s){return`${Cg(ro(s))}|lt:${s.limitType}`}function lw(s){return`Query(target=${function(s){let r=s.path.canonicalString();return null!==s.collectionGroup&&(r+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(r+=`, filters: [${s.filters.map(i=>{return`${(o=i).field.canonicalString()} ${o.op} ${Vy(o.value)}`;var o}).join(", ")}]`),ic(s.limit)||(r+=", limit: "+s.limit),s.orderBy.length>0&&(r+=`, orderBy: [${s.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),s.startAt&&(r+=", startAt: "+Tg(s.startAt)),s.endAt&&(r+=", endAt: "+Tg(s.endAt)),`Target(${r})`}(ro(s))}; limitType=${s.limitType})`}function fh(s,r){return r.isFoundDocument()&&function(i,o){const u=o.key.path;return null!==i.collectionGroup?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):qe.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(s,r)&&function(i,o){for(const u of i.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(s,r)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(s,r)&&(o=r,!((i=s).startAt&&!GD(i.startAt,hh(i),o)||i.endAt&&GD(i.endAt,hh(i),o)));var i,o}function uw(s){return(r,i)=>{let o=!1;for(const u of hh(s)){const h=WD(u,r,i);if(0!==h)return h;o=o||u.field.isKeyField()}return 0}}function WD(s,r,i){const o=s.field.isKeyField()?qe.comparator(r.key,i.key):function(u,h,m){const v=h.data.field(u),C=m.data.field(u);return null!==v&&null!==C?Fo(v,C):Qe()}(s.field,r,i);switch(s.dir){case"asc":return o;case"desc":return-1*o;default:return Qe()}}function YD(s,r){if(s.D){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ly(r)?"-0":r}}function KD(s){return{integerValue:""+s}}function JD(s,r){return UD(r)?KD(r):YD(s,r)}class zy{constructor(){this._=void 0}}function oM(s,r,i){return s instanceof ac?function(o,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(h.fields.__previous_value__=u),{mapValue:h}}(i,r):s instanceof Hl?cw(s,r):s instanceof $l?dw(s,r):function(o,u){const h=ph(o,u),m=QD(h)+QD(o.C);return tw(h)&&tw(o.C)?KD(m):YD(o.N,m)}(s,r)}function aM(s,r,i){return s instanceof Hl?cw(s,r):s instanceof $l?dw(s,r):i}function ph(s,r){return s instanceof lc?tw(i=r)||(o=i)&&"doubleValue"in o?r:{integerValue:0}:null;var o,i}class ac extends zy{}class Hl extends zy{constructor(r){super(),this.elements=r}}function cw(s,r){const i=hw(r);for(const o of s.elements)i.some(u=>Po(u,o))||i.push(o);return{arrayValue:{values:i}}}class $l extends zy{constructor(r){super(),this.elements=r}}function dw(s,r){let i=hw(r);for(const o of s.elements)i=i.filter(u=>!Po(u,o));return{arrayValue:{values:i}}}class lc extends zy{constructor(r,i){super(),this.N=r,this.C=i}}function QD(s){return Xn(s.integerValue||s.doubleValue)}function hw(s){return nw(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class Sg{constructor(r,i){this.field=r,this.transform=i}}class uM{constructor(r,i){this.version=r,this.transformResults=i}}class er{constructor(r,i){this.updateTime=r,this.exists=i}static none(){return new er}static exists(r){return new er(void 0,r)}static updateTime(r){return new er(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Gl(s,r){return void 0!==s.updateTime?r.isFoundDocument()&&r.version.isEqual(s.updateTime):void 0===s.exists||s.exists===r.isFoundDocument()}class Zl{}function cM(s,r,i){s instanceof Mg?function(o,u,h){const m=o.value.clone(),v=Wy(o.fieldTransforms,u,h.transformResults);m.setAll(v),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(s,r,i):s instanceof ql?function(o,u,h){if(!Gl(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Wy(o.fieldTransforms,u,h.transformResults),v=u.data;v.setAll(dM(o)),v.setAll(m),u.convertToFoundDocument(h.version,v).setHasCommittedMutations()}(s,r,i):r.convertToNoDocument(i.version).setHasCommittedMutations()}function Ag(s,r,i){var u;s instanceof Mg?function(o,u,h){if(!Gl(o.precondition,u))return;const m=o.value.clone(),v=Yy(o.fieldTransforms,h,u);m.setAll(v),u.convertToFoundDocument(Ng(u),m).setHasLocalMutations()}(s,r,i):s instanceof ql?function(o,u,h){if(!Gl(o.precondition,u))return;const m=Yy(o.fieldTransforms,h,u),v=u.data;v.setAll(dM(o)),v.setAll(m),u.convertToFoundDocument(Ng(u),v).setHasLocalMutations()}(s,r,i):Gl(s.precondition,u=r)&&u.convertToNoDocument(It.min())}function Vo(s,r){let i=null;for(const o of s.fieldTransforms){const u=r.data.field(o.field),h=ph(o.transform,u||null);null!=h&&(null==i&&(i=Ei.empty()),i.set(o.field,h))}return i||null}function XD(s,r){return s.type===r.type&&!!s.key.isEqual(r.key)&&!!s.precondition.isEqual(r.precondition)&&(o=r.fieldTransforms,!!(void 0===(i=s.fieldTransforms)&&void 0===o||i&&o&&lh(i,o,(u,h)=>function(s,r){return s.field.isEqual(r.field)&&(o=r.transform,(i=s.transform)instanceof Hl&&o instanceof Hl||i instanceof $l&&o instanceof $l?lh(i.elements,o.elements,Po):i instanceof lc&&o instanceof lc?Po(i.C,o.C):i instanceof ac&&o instanceof ac);var i,o}(u,h))))&&(0===s.type?s.value.isEqual(r.value):1!==s.type||s.data.isEqual(r.data)&&s.fieldMask.isEqual(r.fieldMask));var i,o}function Ng(s){return s.isFoundDocument()?s.version:It.min()}class Mg extends Zl{constructor(r,i,o,u=[]){super(),this.key=r,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}}class ql extends Zl{constructor(r,i,o,u,h=[]){super(),this.key=r,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}}function dM(s){const r=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const o=s.data.field(i);r.set(i,o)}}),r}function Wy(s,r,i){const o=new Map;gt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],m=h.transform,v=r.data.field(h.field);o.set(h.field,aM(m,v,i[u]))}return o}function Yy(s,r,i){const o=new Map;for(const u of s){const h=u.transform,m=i.data.field(u.field);o.set(u.field,oM(h,m,r))}return o}class gh extends Zl{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=2,this.fieldTransforms=[]}}class Rg extends Zl{constructor(r,i){super(),this.key=r,this.precondition=i,this.type=3,this.fieldTransforms=[]}}class fw{constructor(r){this.count=r}}var tr,Zt;function eI(s){switch(s){case me.OK:return Qe();case me.CANCELLED:case me.UNKNOWN:case me.DEADLINE_EXCEEDED:case me.RESOURCE_EXHAUSTED:case me.INTERNAL:case me.UNAVAILABLE:case me.UNAUTHENTICATED:return!1;case me.INVALID_ARGUMENT:case me.NOT_FOUND:case me.ALREADY_EXISTS:case me.PERMISSION_DENIED:case me.FAILED_PRECONDITION:case me.ABORTED:case me.OUT_OF_RANGE:case me.UNIMPLEMENTED:case me.DATA_LOSS:return!0;default:return Qe()}}function tI(s){if(void 0===s)return gn("GRPC error has no .code"),me.UNKNOWN;switch(s){case tr.OK:return me.OK;case tr.CANCELLED:return me.CANCELLED;case tr.UNKNOWN:return me.UNKNOWN;case tr.DEADLINE_EXCEEDED:return me.DEADLINE_EXCEEDED;case tr.RESOURCE_EXHAUSTED:return me.RESOURCE_EXHAUSTED;case tr.INTERNAL:return me.INTERNAL;case tr.UNAVAILABLE:return me.UNAVAILABLE;case tr.UNAUTHENTICATED:return me.UNAUTHENTICATED;case tr.INVALID_ARGUMENT:return me.INVALID_ARGUMENT;case tr.NOT_FOUND:return me.NOT_FOUND;case tr.ALREADY_EXISTS:return me.ALREADY_EXISTS;case tr.PERMISSION_DENIED:return me.PERMISSION_DENIED;case tr.FAILED_PRECONDITION:return me.FAILED_PRECONDITION;case tr.ABORTED:return me.ABORTED;case tr.OUT_OF_RANGE:return me.OUT_OF_RANGE;case tr.UNIMPLEMENTED:return me.UNIMPLEMENTED;case tr.DATA_LOSS:return me.DATA_LOSS;default:return Qe()}}(Zt=tr||(tr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class nr{constructor(r,i){this.comparator=r,this.root=i||Er.EMPTY}insert(r,i){return new nr(this.comparator,this.root.insert(r,i,this.comparator).copy(null,null,Er.BLACK,null,null))}remove(r){return new nr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,Er.BLACK,null,null))}get(r){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(r,i.key);if(0===o)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(r){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(r,o.key);if(0===u)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((i,o)=>(r(i,o),!1))}toString(){const r=[];return this.inorderTraversal((i,o)=>(r.push(`${i}:${o}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new mh(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new mh(this.root,r,this.comparator,!1)}getReverseIterator(){return new mh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new mh(this.root,r,this.comparator,!0)}}class mh{constructor(r,i,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!r.isEmpty();)if(h=i?o(r.key,i):1,u&&(h*=-1),h<0)r=this.isReverse?r.left:r.right;else{if(0===h){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const i={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class Er{constructor(r,i,o,u,h){this.key=r,this.value=i,this.color=null!=o?o:Er.RED,this.left=null!=u?u:Er.EMPTY,this.right=null!=h?h:Er.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,i,o,u,h){return new Er(null!=r?r:this.key,null!=i?i:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=h?h:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,i,o){let u=this;const h=o(r,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(r,i,o),null):0===h?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(r,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Er.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,i){let o,u=this;if(i(r,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(r,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===i(r,u.key)){if(u.right.isEmpty())return Er.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(r,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,Er.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,Er.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,i)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const r=this.left.check();if(r!==this.right.check())throw Qe();return r+(this.isRed()?0:1)}}Er.EMPTY=null,Er.RED=!0,Er.BLACK=!1,Er.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(s,r,i,o,u){return this}insert(s,r,i){return new Er(s,r)}remove(s,r){return this}isEmpty(){return!0}inorderTraversal(s){return!1}reverseTraversal(s){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class An{constructor(r){this.comparator=r,this.data=new nr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((i,o)=>(r(i),!1))}forEachInRange(r,i){const o=this.data.getIteratorFrom(r[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,r[1])>=0)return;i(u.key)}}forEachWhile(r,i){let o;for(o=void 0!==i?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!r(o.getNext().key))return}firstAfterOrEqual(r){const i=this.data.getIteratorFrom(r);return i.hasNext()?i.getNext().key:null}getIterator(){return new pw(this.data.getIterator())}getIteratorFrom(r){return new pw(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let i=this;return i.size<r.size&&(i=r,r=this),r.forEach(o=>{i=i.add(o)}),i}isEqual(r){if(!(r instanceof An)||this.size!==r.size)return!1;const i=this.data.getIterator(),o=r.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(0!==this.comparator(u,h))return!1}return!0}toArray(){const r=[];return this.forEach(i=>{r.push(i)}),r}toString(){const r=[];return this.forEach(i=>r.push(i)),"SortedSet("+r.toString()+")"}copy(r){const i=new An(this.comparator);return i.data=r,i}}class pw{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const nI=new nr(qe.comparator);function Ms(){return nI}const rI=new nr(qe.comparator);function Ky(){return rI}const hM=new nr(qe.comparator);function gw(){return hM}const iI=new An(qe.comparator);function on(...s){let r=iI;for(const i of s)r=r.add(i);return r}const Ti=new An(Gt);function Fa(){return Ti}class xg{constructor(r,i,o,u,h){this.snapshotVersion=r,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(r,i){const o=new Map;return o.set(r,kg.createSynthesizedTargetChangeForCurrentChange(r,i)),new xg(It.min(),o,Fa(),Ms(),on())}}class kg{constructor(r,i,o,u,h){this.resumeToken=r,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(r,i){return new kg(wr.EMPTY_BYTE_STRING,i,on(),on(),on())}}class mw{constructor(r,i,o,u){this.k=r,this.removedTargetIds=i,this.key=o,this.$=u}}class _h{constructor(r,i){this.targetId=r,this.O=i}}class sI{constructor(r,i,o=wr.EMPTY_BYTE_STRING,u=null){this.state=r,this.targetIds=i,this.resumeToken=o,this.cause=u}}class Jy{constructor(){this.F=0,this.M=oI(),this.L=wr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(r){r.approximateByteSize()>0&&(this.U=!0,this.L=r)}W(){let r=on(),i=on(),o=on();return this.M.forEach((u,h)=>{switch(h){case 0:r=r.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:Qe()}}),new kg(this.L,this.B,r,i,o)}G(){this.U=!1,this.M=oI()}H(r,i){this.U=!0,this.M=this.M.insert(r,i)}J(r){this.U=!0,this.M=this.M.remove(r)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class fM{constructor(r){this.tt=r,this.et=new Map,this.nt=Ms(),this.st=_w(),this.it=new An(Gt)}rt(r){for(const i of r.k)r.$&&r.$.isFoundDocument()?this.ot(i,r.$):this.at(i,r.key,r.$);for(const i of r.removedTargetIds)this.at(i,r.key,r.$)}ct(r){this.forEachTarget(r,i=>{const o=this.ut(i);switch(r.state){case 0:this.ht(i)&&o.j(r.resumeToken);break;case 1:o.X(),o.q||o.G(),o.j(r.resumeToken);break;case 2:o.X(),o.q||this.removeTarget(i);break;case 3:this.ht(i)&&(o.Z(),o.j(r.resumeToken));break;case 4:this.ht(i)&&(this.lt(i),o.j(r.resumeToken));break;default:Qe()}})}forEachTarget(r,i){r.targetIds.length>0?r.targetIds.forEach(i):this.et.forEach((o,u)=>{this.ht(u)&&i(u)})}ft(r){const i=r.targetId,o=r.O.count,u=this.dt(i);if(u){const h=u.target;if(Hy(h))if(0===o){const m=new qe(h.path);this.at(i,m,Sn.newNoDocument(m,It.min()))}else gt(1===o);else this.wt(i)!==o&&(this.lt(i),this.it=this.it.add(i))}}_t(r){const i=new Map;this.et.forEach((h,m)=>{const v=this.dt(m);if(v){if(h.current&&Hy(v.target)){const C=new qe(v.target.path);null!==this.nt.get(C)||this.gt(m,C)||this.at(m,C,Sn.newNoDocument(C,r))}h.K&&(i.set(m,h.W()),h.G())}});let o=on();this.st.forEach((h,m)=>{let v=!0;m.forEachWhile(C=>{const S=this.dt(C);return!S||2===S.purpose||(v=!1,!1)}),v&&(o=o.add(h))});const u=new xg(r,i,this.it,this.nt,o);return this.nt=Ms(),this.st=_w(),this.it=new An(Gt),u}ot(r,i){if(!this.ht(r))return;const o=this.gt(r,i.key)?2:0;this.ut(r).H(i.key,o),this.nt=this.nt.insert(i.key,i),this.st=this.st.insert(i.key,this.yt(i.key).add(r))}at(r,i,o){if(!this.ht(r))return;const u=this.ut(r);this.gt(r,i)?u.H(i,1):u.J(i),this.st=this.st.insert(i,this.yt(i).delete(r)),o&&(this.nt=this.nt.insert(i,o))}removeTarget(r){this.et.delete(r)}wt(r){const i=this.ut(r).W();return this.tt.getRemoteKeysForTarget(r).size+i.addedDocuments.size-i.removedDocuments.size}Y(r){this.ut(r).Y()}ut(r){let i=this.et.get(r);return i||(i=new Jy,this.et.set(r,i)),i}yt(r){let i=this.st.get(r);return i||(i=new An(Gt),this.st=this.st.insert(r,i)),i}ht(r){const i=null!==this.dt(r);return i||Oe("WatchChangeAggregator","Detected inactive target",r),i}dt(r){const i=this.et.get(r);return i&&i.q?null:this.tt.Et(r)}lt(r){this.et.set(r,new Jy),this.tt.getRemoteKeysForTarget(r).forEach(i=>{this.at(r,i,null)})}gt(r,i){return this.tt.getRemoteKeysForTarget(r).has(i)}}function _w(){return new nr(qe.comparator)}function oI(){return new nr(qe.comparator)}const pM={asc:"ASCENDING",desc:"DESCENDING"},yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class aI{constructor(r,i){this.databaseId=r,this.D=i}}function yh(s,r){return s.D?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function Og(s,r){return s.D?r.toBase64():r.toUint8Array()}function vw(s,r){return yh(s,r.toTimestamp())}function Hr(s){return gt(!!s),It.fromTimestamp(function(r){const i=Oo(r);return new br(i.seconds,i.nanos)}(s))}function Qy(s,r){return(i=s,new Yt(["projects",i.projectId,"databases",i.database])).child("documents").child(r).canonicalString();var i}function lI(s){const r=Yt.fromString(s);return gt(mM(r)),r}function vh(s,r){return Qy(s.databaseId,r.path)}function ds(s,r){const i=lI(r);if(i.get(1)!==s.databaseId.projectId)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new Ne(me.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new qe(ev(i))}function Xy(s,r){return Qy(s.databaseId,r)}function uI(s){const r=lI(s);return 4===r.length?Yt.emptyPath():ev(r)}function uc(s){return new Yt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function ev(s){return gt(s.length>4&&"documents"===s.get(4)),s.popFirst(5)}function cI(s,r,i){return{name:vh(s,r),fields:i.value.mapValue.fields}}function dI(s,r,i){const o=ds(s,r.name),u=Hr(r.updateTime),h=new Ei({mapValue:{fields:r.fields}}),m=Sn.newFoundDocument(o,u,h);return i&&m.setHasCommittedMutations(),i?m.setHasCommittedMutations():m}function Pg(s,r){let i;if(r instanceof Mg)i={update:cI(s,r.key,r.value)};else if(r instanceof gh)i={delete:vh(s,r.key)};else if(r instanceof ql)i={update:cI(s,r.key,r.data),updateMask:Ax(r.fieldMask)};else{if(!(r instanceof Rg))return Qe();i={verify:vh(s,r.key)}}return r.fieldTransforms.length>0&&(i.updateTransforms=r.fieldTransforms.map(o=>function(u,h){const m=h.transform;if(m instanceof ac)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Hl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof $l)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lc)return{fieldPath:h.field.canonicalString(),increment:m.C};throw Qe()}(0,o))),r.precondition.isNone||(i.currentDocument=void 0!==(u=r.precondition).updateTime?{updateTime:vw(s,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Qe()),i;var u}function pI(s,r){const i=r.currentDocument?void 0!==(u=r.currentDocument).updateTime?er.updateTime(Hr(u.updateTime)):void 0!==u.exists?er.exists(u.exists):er.none():er.none(),o=r.updateTransforms?r.updateTransforms.map(u=>function(h,m){let v=null;"setToServerValue"in m?(gt("REQUEST_TIME"===m.setToServerValue),v=new ac):"appendMissingElements"in m?v=new Hl(m.appendMissingElements.values||[]):"removeAllFromArray"in m?v=new $l(m.removeAllFromArray.values||[]):"increment"in m?v=new lc(h,m.increment):Qe();const C=Br.fromServerFormat(m.fieldPath);return new Sg(C,v)}(s,u)):[];var u;if(r.update){const u=ds(s,r.update.name),h=new Ei({mapValue:{fields:r.update.fields}});if(r.updateMask){const m=new Bl((r.updateMask.fieldPaths||[]).map(S=>Br.fromServerFormat(S)));return new ql(u,h,m,i,o)}return new Mg(u,h,i,o)}if(r.delete){const u=ds(s,r.delete);return new gh(u,i)}if(r.verify){const u=ds(s,r.verify);return new Rg(u,i)}return Qe()}function bw(s,r){return{documents:[Xy(s,r.path)]}}function mI(s,r){const i={structuredQuery:{}},o=r.path;null!==r.collectionGroup?(i.parent=Xy(s,o),i.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(i.parent=Xy(s,o.popLast()),i.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(v){if(0===v.length)return;const C=v.map(S=>function(N){if("=="===N.op){if(rw(N.value))return{unaryFilter:{field:bh(N.field),op:"IS_NAN"}};if(BD(N.value))return{unaryFilter:{field:bh(N.field),op:"IS_NULL"}}}else if("!="===N.op){if(rw(N.value))return{unaryFilter:{field:bh(N.field),op:"IS_NOT_NAN"}};if(BD(N.value))return{unaryFilter:{field:bh(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bh(N.field),op:wI(N.op),value:N.value}}}(S));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(r.filters);u&&(i.structuredQuery.where=u);const h=function(v){if(0!==v.length)return v.map(C=>{return{field:bh((S=C).field),direction:bI(S.dir)};var S})}(r.orderBy);h&&(i.structuredQuery.orderBy=h);const m=(C=r.limit,s.D||ic(C)?C:{value:C});var C;return null!==m&&(i.structuredQuery.limit=m),r.startAt&&(i.structuredQuery.startAt=ww(r.startAt)),r.endAt&&(i.structuredQuery.endAt=ww(r.endAt)),i}function _I(s){let r=uI(s.parent);const i=s.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){gt(1===o);const N=i.from[0];N.allDescendants?u=N.collectionId:r=r.child(N.collectionId)}let h=[];i.where&&(h=vI(i.where));let m=[];i.orderBy&&(m=i.orderBy.map(N=>{return new oc(wh((x=N).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(x.direction));var x}));let v=null;i.limit&&(v=function(N){let x;return x="object"==typeof N?N.value:N,ic(x)?null:x}(i.limit));let C=null;i.startAt&&(C=Ew(i.startAt));let S=null;return i.endAt&&(S=Ew(i.endAt)),qD(r,u,m,h,v,"F",C,S)}function vI(s){return s?void 0!==s.unaryFilter?[EI(s)]:void 0!==s.fieldFilter?[gM(s)]:void 0!==s.compositeFilter?s.compositeFilter.filters.map(r=>vI(r)).reduce((r,i)=>r.concat(i)):Qe():[]}function ww(s){return{before:s.before,values:s.position}}function Ew(s){return new dh(s.values||[],!!s.before)}function bI(s){return pM[s]}function wI(s){return yw[s]}function bh(s){return{fieldPath:s.canonicalString()}}function wh(s){return Br.fromServerFormat(s.fieldPath)}function gM(s){return Ci.create(wh(s.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Qe()}}(s.fieldFilter.op),s.fieldFilter.value)}function EI(s){switch(s.unaryFilter.op){case"IS_NAN":const r=wh(s.unaryFilter.field);return Ci.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wh(s.unaryFilter.field);return Ci.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wh(s.unaryFilter.field);return Ci.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=wh(s.unaryFilter.field);return Ci.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Qe()}}function Ax(s){const r=[];return s.fields.forEach(i=>r.push(i.canonicalString())),{fieldPaths:r}}function mM(s){return s.length>=4&&"projects"===s.get(0)&&"databases"===s.get(2)}function Uo(s){let r="";for(let i=0;i<s.length;i++)r.length>0&&(r=_M(r)),r=Nx(s.get(i),r);return _M(r)}function Nx(s,r){let i=r;const o=s.length;for(let u=0;u<o;u++){const h=s.charAt(u);switch(h){case"\0":i+="\x01\x10";break;case"\x01":i+="\x01\x11";break;default:i+=h}}return i}function _M(s){return s+"\x01\x01"}function zl(s){const r=s.length;if(gt(r>=2),2===r)return gt("\x01"===s.charAt(0)&&"\x01"===s.charAt(1)),Yt.emptyPath();const i=r-2,o=[];let u="";for(let h=0;h<r;){const m=s.indexOf("\x01",h);switch((m<0||m>i)&&Qe(),s.charAt(m+1)){case"\x01":const v=s.substring(h,m);let C;0===u.length?C=v:(u+=v,C=u,u=""),o.push(C);break;case"\x10":u+=s.substring(h,m),u+="\0";break;case"\x11":u+=s.substring(h,m+1);break;default:Qe()}h=m+2}return new Yt(o)}class Mx{constructor(r,i){this.seconds=r,this.nanoseconds=i}}class Rs{constructor(r,i,o){this.ownerId=r,this.allowTabSynchronization=i,this.leaseTimestampMs=o}}Rs.store="owner",Rs.key="owner";class cc{constructor(r,i,o){this.userId=r,this.lastAcknowledgedBatchId=i,this.lastStreamToken=o}}cc.store="mutationQueues",cc.keyPath="userId";class wn{constructor(r,i,o,u,h){this.userId=r,this.batchId=i,this.localWriteTimeMs=o,this.baseMutations=u,this.mutations=h}}wn.store="mutations",wn.keyPath="batchId",wn.userMutationsIndex="userMutationsIndex",wn.userMutationsKeyPath=["userId","batchId"];class Di{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,i){return[r,Uo(i)]}static key(r,i,o){return[r,Uo(i),o]}}Di.store="documentMutations",Di.PLACEHOLDER=new Di;class Rx{constructor(r,i){this.path=r,this.readTime=i}}class xx{constructor(r,i){this.path=r,this.version=i}}class Hn{constructor(r,i,o,u,h,m){this.unknownDocument=r,this.noDocument=i,this.document=o,this.hasCommittedMutations=u,this.readTime=h,this.parentPath=m}}Hn.store="remoteDocuments",Hn.readTimeIndex="readTimeIndex",Hn.readTimeIndexPath="readTime",Hn.collectionReadTimeIndex="collectionReadTimeIndex",Hn.collectionReadTimeIndexPath=["parentPath","readTime"];class La{constructor(r){this.byteSize=r}}La.store="remoteDocumentGlobal",La.key="remoteDocumentGlobalKey";class hs{constructor(r,i,o,u,h,m,v){this.targetId=r,this.canonicalId=i,this.readTime=o,this.resumeToken=u,this.lastListenSequenceNumber=h,this.lastLimboFreeSnapshotVersion=m,this.query=v}}hs.store="targets",hs.keyPath="targetId",hs.queryTargetsIndexName="queryTargetsIndex",hs.queryTargetsKeyPath=["canonicalId","targetId"];class ai{constructor(r,i,o){this.targetId=r,this.path=i,this.sequenceNumber=o}}ai.store="targetDocuments",ai.keyPath=["targetId","path"],ai.documentTargetsIndex="documentTargetsIndex",ai.documentTargetsKeyPath=["path","targetId"];class fs{constructor(r,i,o,u){this.highestTargetId=r,this.highestListenSequenceNumber=i,this.lastRemoteSnapshotVersion=o,this.targetCount=u}}fs.key="targetGlobalKey",fs.store="targetGlobal";class dc{constructor(r,i){this.collectionId=r,this.parent=i}}dc.store="collectionParents",dc.keyPath=["collectionId","parent"];class Va{constructor(r,i,o,u){this.clientId=r,this.updateTimeMs=i,this.networkEnabled=o,this.inForeground=u}}Va.store="clientMetadata",Va.keyPath="clientId";class Fg{constructor(r,i,o){this.bundleId=r,this.createTime=i,this.version=o}}Fg.store="bundles",Fg.keyPath="bundleId";class Lg{constructor(r,i,o){this.name=r,this.readTime=i,this.bundledQuery=o}}Lg.store="namedQueries",Lg.keyPath="name";const kx=[cc.store,wn.store,Di.store,Hn.store,hs.store,Rs.store,fs.store,ai.store,Va.store,La.store,dc.store,Fg.store,Lg.store],CI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class Ae{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(r){return this.next(void 0,r)}next(r,i){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(r,this.result):new Ae((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(r,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,u)}})}toPromise(){return new Promise((r,i)=>{this.next(r,i)})}wrapUserFunction(r){try{const i=r();return i instanceof Ae?i:Ae.resolve(i)}catch(i){return Ae.reject(i)}}wrapSuccess(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.resolve(i)}wrapFailure(r,i){return r?this.wrapUserFunction(()=>r(i)):Ae.reject(i)}static resolve(r){return new Ae((i,o)=>{i(r)})}static reject(r){return new Ae((i,o)=>{o(r)})}static waitFor(r){return new Ae((i,o)=>{let u=0,h=0,m=!1;r.forEach(v=>{++u,v.next(()=>{++h,m&&h===u&&i()},C=>o(C))}),m=!0,h===u&&i()})}static or(r){let i=Ae.resolve(!1);for(const o of r)i=i.next(u=>u?Ae.resolve(u):o());return i}static forEach(r,i){const o=[];return r.forEach((u,h)=>{o.push(i.call(this,u,h))}),this.waitFor(o)}}class Cw{constructor(r,i){this.action=r,this.transaction=i,this.aborted=!1,this.Tt=new Qn,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{i.error?this.Tt.reject(new tv(r,i.error)):this.Tt.resolve()},this.transaction.onerror=o=>{const u=Wl(o.target.error);this.Tt.reject(new tv(r,u))}}static open(r,i,o,u){try{return new Cw(i,r.transaction(u,o))}catch(h){throw new tv(i,h)}}get It(){return this.Tt.promise}abort(r){r&&this.Tt.reject(r),this.aborted||(Oe("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const i=this.transaction.objectStore(r);return new Px(i)}}class Bo{constructor(r,i,o){this.name=r,this.version=i,this.At=o,12.2===Bo.Rt((0,Qt.z$)())&&gn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return Oe("SimpleDb","Removing database:",r),fc(window.indexedDB.deleteDatabase(r)).toPromise()}static Pt(){if("undefined"==typeof indexedDB)return!1;if(Bo.bt())return!0;const r=(0,Qt.z$)(),i=Bo.Rt(r),o=0<i&&i<10,u=Bo.vt(r),h=0<u&&u<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||o||h)}static bt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Vt)}static St(r,i){return r.store(i)}static Rt(r){const i=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=i?i[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static vt(r){const i=r.match(/Android ([\d.]+)/i),o=i?i[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Dt(r){var i=this;return(0,Ce.Z)(function*(){return i.db||(Oe("SimpleDb","Opening database:",i.name),i.db=yield new Promise((o,u)=>{const h=indexedDB.open(i.name,i.version);h.onsuccess=m=>{o(m.target.result)},h.onblocked=()=>{u(new tv(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},h.onerror=m=>{const v=m.target.error;u("VersionError"===v.name?new Ne(me.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new tv(r,v))},h.onupgradeneeded=m=>{Oe("SimpleDb",'Database "'+i.name+'" requires upgrade from version:',m.oldVersion),i.At.Ct(m.target.result,h.transaction,m.oldVersion,i.version).next(()=>{Oe("SimpleDb","Database upgrade to version "+i.version+" complete")})}})),i.Nt&&(i.db.onversionchange=o=>i.Nt(o)),i.db})()}xt(r){this.Nt=r,this.db&&(this.db.onversionchange=i=>r(i))}runTransaction(r,i,o,u){var h=this;return(0,Ce.Z)(function*(){const m="readonly"===i;let v=0;for(;;){++v;try{h.db=yield h.Dt(r);const C=Cw.open(h.db,r,m?"readonly":"readwrite",o),S=u(C).catch(N=>(C.abort(N),Ae.reject(N))).toPromise();return S.catch(()=>{}),yield C.It,S}catch(C){const S="FirebaseError"!==C.name&&v<3;if(Oe("SimpleDb","Transaction failed with error:",C.message,"Retrying:",S),h.close(),!S)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Ox{constructor(r){this.kt=r,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(r){this.kt=r}done(){this.$t=!0}Mt(r){this.Ot=r}delete(){return fc(this.kt.delete())}}class tv extends Ne{constructor(r,i){super(me.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${i}`),this.name="IndexedDbTransactionError"}}function hc(s){return"IndexedDbTransactionError"===s.name}class Px{constructor(r){this.store=r}put(r,i){let o;return void 0!==i?(Oe("SimpleDb","PUT",this.store.name,r,i),o=this.store.put(i,r)):(Oe("SimpleDb","PUT",this.store.name,"<auto-key>",r),o=this.store.put(r)),fc(o)}add(r){return Oe("SimpleDb","ADD",this.store.name,r,r),fc(this.store.add(r))}get(r){return fc(this.store.get(r)).next(i=>(void 0===i&&(i=null),Oe("SimpleDb","GET",this.store.name,r,i),i))}delete(r){return Oe("SimpleDb","DELETE",this.store.name,r),fc(this.store.delete(r))}count(){return Oe("SimpleDb","COUNT",this.store.name),fc(this.store.count())}Lt(r,i){const o=this.cursor(this.options(r,i)),u=[];return this.Bt(o,(h,m)=>{u.push(m)}).next(()=>u)}Ut(r,i){Oe("SimpleDb","DELETE ALL",this.store.name);const o=this.options(r,i);o.qt=!1;const u=this.cursor(o);return this.Bt(u,(h,m,v)=>v.delete())}Kt(r,i){let o;i?o=r:(o={},i=r);const u=this.cursor(o);return this.Bt(u,i)}jt(r){const i=this.cursor({});return new Ae((o,u)=>{i.onerror=h=>{const m=Wl(h.target.error);u(m)},i.onsuccess=h=>{const m=h.target.result;m?r(m.primaryKey,m.value).next(v=>{v?m.continue():o()}):o()}})}Bt(r,i){const o=[];return new Ae((u,h)=>{r.onerror=m=>{h(m.target.error)},r.onsuccess=m=>{const v=m.target.result;if(!v)return void u();const C=new Ox(v),S=i(v.primaryKey,v.value,C);if(S instanceof Ae){const N=S.catch(x=>(C.done(),Ae.reject(x)));o.push(N)}C.isDone?u():null===C.Ft?v.continue():v.continue(C.Ft)}}).next(()=>Ae.waitFor(o))}options(r,i){let o;return void 0!==r&&("string"==typeof r?o=r:i=r),{index:o,range:i}}cursor(r){let i="next";if(r.reverse&&(i="prev"),r.index){const o=this.store.index(r.index);return r.qt?o.openKeyCursor(r.range,i):o.openCursor(r.range,i)}return this.store.openCursor(r.range,i)}}function fc(s){return new Ae((r,i)=>{s.onsuccess=o=>{r(o.target.result)},s.onerror=o=>{const u=Wl(o.target.error);i(u)}})}let nv=!1;function Wl(s){const r=Bo.Rt((0,Qt.z$)());if(r>=12.2&&r<13){const i="An internal error was encountered in the Indexed Database server";if(s.message.indexOf(i)>=0){const o=new Ne("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${i}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return nv||(nv=!0,setTimeout(()=>{throw o},0)),o}}return s}class Tw extends TI{constructor(r,i){super(),this.Qt=r,this.currentSequenceNumber=i}}function Hi(s,r){const i=Be(s);return Bo.St(i.Qt,r)}class Dw{constructor(r,i,o,u){this.batchId=r,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(r,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(r.key)&&cM(h,r,o[u])}}applyToLocalView(r){for(const i of this.baseMutations)i.key.isEqual(r.key)&&Ag(i,r,this.localWriteTime);for(const i of this.mutations)i.key.isEqual(r.key)&&Ag(i,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(i=>{const o=r.get(i.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(It.min())})}keys(){return this.mutations.reduce((r,i)=>r.add(i.key),on())}isEqual(r){return this.batchId===r.batchId&&lh(this.mutations,r.mutations,(i,o)=>XD(i,o))&&lh(this.baseMutations,r.baseMutations,(i,o)=>XD(i,o))}}class Vg{constructor(r,i,o,u){this.batch=r,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(r,i,o){gt(r.mutations.length===o.length);let u=gw();const h=r.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,o[m].version);return new Vg(r,i,o,u)}}class Ua{constructor(r,i,o,u,h=It.min(),m=It.min(),v=wr.EMPTY_BYTE_STRING){this.target=r,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=v}withSequenceNumber(r){return new Ua(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,i){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Ua(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class Iw{constructor(r){this.Wt=r}}function rv(s,r){if(r.document)return dI(s.Wt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const i=qe.fromSegments(r.noDocument.path),o=Bg(r.noDocument.readTime),u=Sn.newNoDocument(i,o);return r.hasCommittedMutations?u.setHasCommittedMutations():u}if(r.unknownDocument){const i=qe.fromSegments(r.unknownDocument.path),o=Bg(r.unknownDocument.version);return Sn.newUnknownDocument(i,o)}return Qe()}function yM(s,r,i){const o=iv(i),u=r.key.path.popLast().toArray();if(r.isFoundDocument()){const h={name:vh(v=s.Wt,(C=r).key),fields:C.data.value.mapValue.fields,updateTime:yh(v,C.version.toTimestamp())};return new Hn(null,null,h,r.hasCommittedMutations,o,u)}var v,C;if(r.isNoDocument()){const h=r.key.path.toArray(),m=pc(r.version),v=r.hasCommittedMutations;return new Hn(null,new Rx(h,m),null,v,o,u)}if(r.isUnknownDocument()){const h=r.key.path.toArray(),m=pc(r.version);return new Hn(new xx(h,m),null,null,!0,o,u)}return Qe()}function iv(s){const r=s.toTimestamp();return[r.seconds,r.nanoseconds]}function Ug(s){const r=new br(s[0],s[1]);return It.fromTimestamp(r)}function pc(s){const r=s.toTimestamp();return new Mx(r.seconds,r.nanoseconds)}function Bg(s){const r=new br(s.seconds,s.nanoseconds);return It.fromTimestamp(r)}function jg(s,r){const i=(r.baseMutations||[]).map(h=>pI(s.Wt,h));for(let h=0;h<r.mutations.length-1;++h){const m=r.mutations[h];h+1<r.mutations.length&&void 0!==r.mutations[h+1].transform&&(m.updateTransforms=r.mutations[h+1].transform.fieldTransforms,r.mutations.splice(h+1,1),++h)}const o=r.mutations.map(h=>pI(s.Wt,h)),u=br.fromMillis(r.localWriteTimeMs);return new Dw(r.batchId,u,i,o)}function sv(s){const r=Bg(s.readTime),i=void 0!==s.lastLimboFreeSnapshotVersion?Bg(s.lastLimboFreeSnapshotVersion):It.min();let o;var u;return void 0!==s.query.documents?(gt(1===(u=s.query).documents.length),o=ro(Dg(uI(u.documents[0])))):o=ro(_I(s.query)),new Ua(o,s.targetId,0,s.lastListenSequenceNumber,r,i,wr.fromBase64String(s.resumeToken))}function DI(s,r){const i=pc(r.snapshotVersion),o=pc(r.lastLimboFreeSnapshotVersion);let u;u=Hy(r.target)?bw(s.Wt,r.target):mI(s.Wt,r.target);const h=r.resumeToken.toBase64();return new hs(r.targetId,Cg(r.target),i,h,r.sequenceNumber,o,u)}function II(s){const r=_I({parent:s.parent,structuredQuery:s.structuredQuery});return"LAST"===s.limitType?aw(r,r.limit,"L"):r}class ov{getBundleMetadata(r,i){return SI(r).get(i).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Bg(u.createTime),version:u.version};var u})}saveBundleMetadata(r,i){return SI(r).put({bundleId:(o=i).id,createTime:pc(Hr(o.createTime)),version:o.version});var o}getNamedQuery(r,i){return vM(r).get(i).next(o=>{if(o)return{name:(u=o).name,query:II(u.bundledQuery),readTime:Bg(u.readTime)};var u})}saveNamedQuery(r,i){return vM(r).put({name:(o=i).name,readTime:pc(Hr(o.readTime)),bundledQuery:o.bundledQuery});var o}}function SI(s){return Hi(s,Fg.store)}function vM(s){return Hi(s,Lg.store)}class Fx{constructor(){this.Gt=new Hg}addToCollectionParentIndex(r,i){return this.Gt.add(i),Ae.resolve()}getCollectionParents(r,i){return Ae.resolve(this.Gt.getEntries(i))}}class Hg{constructor(){this.index={}}add(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i]||new An(Yt.comparator),h=!u.has(o);return this.index[i]=u.add(o),h}has(r){const i=r.lastSegment(),o=r.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(r){return(this.index[r]||new An(Yt.comparator)).toArray()}}class bM{constructor(){this.zt=new Hg}addToCollectionParentIndex(r,i){if(!this.zt.has(i)){const o=i.lastSegment(),u=i.popLast();r.addOnCommittedListener(()=>{this.zt.add(i)});const h={collectionId:o,parent:Uo(u)};return wM(r).put(h)}return Ae.resolve()}getCollectionParents(r,i){const o=[],u=IDBKeyRange.bound([i,""],[Ur(i),""],!1,!0);return wM(r).Lt(u).next(h=>{for(const m of h){if(m.collectionId!==i)break;o.push(zl(m.parent))}return o})}}function wM(s){return Hi(s,dc.store)}const EM={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class $i{constructor(r,i,o){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}static withCacheSize(r){return new $i(r,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function CM(s,r,i){const o=s.store(wn.store),u=s.store(Di.store),h=[],m=IDBKeyRange.only(i.batchId);let v=0;const C=o.Kt({range:m},(N,x,F)=>(v++,F.delete()));h.push(C.next(()=>{gt(1===v)}));const S=[];for(const N of i.mutations){const x=Di.key(r,N.key.path,i.batchId);h.push(u.delete(x)),S.push(N.key)}return Ae.waitFor(h).next(()=>S)}function $g(s){if(!s)return 0;let r;if(s.document)r=s.document;else if(s.unknownDocument)r=s.unknownDocument;else{if(!s.noDocument)throw Qe();r=s.noDocument}return JSON.stringify(r).length}$i.DEFAULT_COLLECTION_PERCENTILE=10,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$i.DEFAULT=new $i(41943040,$i.DEFAULT_COLLECTION_PERCENTILE,$i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$i.DISABLED=new $i(-1,0,0);class Sw{constructor(r,i,o,u){this.userId=r,this.N=i,this.Ht=o,this.referenceDelegate=u,this.Jt={}}static Yt(r,i,o,u){gt(""!==r.uid);const h=r.isAuthenticated()?r.uid:"";return new Sw(h,i,o,u)}checkEmpty(r){let i=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gc(r).Kt({index:wn.userMutationsIndex,range:o},(u,h,m)=>{i=!1,m.done()}).next(()=>i)}addMutationBatch(r,i,o,u){const h=Eh(r),m=gc(r);return m.add({}).next(v=>{gt("number"==typeof v);const C=new Dw(v,i,o,u),S=function(F,L,q){const re=q.baseMutations.map(xe=>Pg(F.Wt,xe)),be=q.mutations.map(xe=>Pg(F.Wt,xe));return new wn(L,q.batchId,q.localWriteTime.toMillis(),re,be)}(this.N,this.userId,C),N=[];let x=new An((F,L)=>Gt(F.canonicalString(),L.canonicalString()));for(const F of u){const L=Di.key(this.userId,F.key.path,v);x=x.add(F.key.path.popLast()),N.push(m.put(S)),N.push(h.put(L,Di.PLACEHOLDER))}return x.forEach(F=>{N.push(this.Ht.addToCollectionParentIndex(r,F))}),r.addOnCommittedListener(()=>{this.Jt[v]=C.keys()}),Ae.waitFor(N).next(()=>C)})}lookupMutationBatch(r,i){return gc(r).get(i).next(o=>o?(gt(o.userId===this.userId),jg(this.N,o)):null)}Xt(r,i){return this.Jt[i]?Ae.resolve(this.Jt[i]):this.lookupMutationBatch(r,i).next(o=>{if(o){const u=o.keys();return this.Jt[i]=u,u}return null})}getNextMutationBatchAfterBatchId(r,i){const o=i+1,u=IDBKeyRange.lowerBound([this.userId,o]);let h=null;return gc(r).Kt({index:wn.userMutationsIndex,range:u},(m,v,C)=>{v.userId===this.userId&&(gt(v.batchId>=o),h=jg(this.N,v)),C.done()}).next(()=>h)}getHighestUnacknowledgedBatchId(r){const i=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return gc(r).Kt({index:wn.userMutationsIndex,range:i,reverse:!0},(u,h,m)=>{o=h.batchId,m.done()}).next(()=>o)}getAllMutationBatches(r){const i=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return gc(r).Lt(wn.userMutationsIndex,i).next(o=>o.map(u=>jg(this.N,u)))}getAllMutationBatchesAffectingDocumentKey(r,i){const o=Di.prefixForPath(this.userId,i.path),u=IDBKeyRange.lowerBound(o),h=[];return Eh(r).Kt({range:u},(m,v,C)=>{const[S,N,x]=m,F=zl(N);if(S===this.userId&&i.path.isEqual(F))return gc(r).get(x).next(L=>{if(!L)throw Qe();gt(L.userId===this.userId),h.push(jg(this.N,L))});C.done()}).next(()=>h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new An(Gt);const u=[];return i.forEach(h=>{const m=Di.prefixForPath(this.userId,h.path),v=IDBKeyRange.lowerBound(m),C=Eh(r).Kt({range:v},(S,N,x)=>{const[F,L,q]=S,re=zl(L);F===this.userId&&h.path.isEqual(re)?o=o.add(q):x.done()});u.push(C)}),Ae.waitFor(u).next(()=>this.Zt(r,o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1,h=Di.prefixForPath(this.userId,o),m=IDBKeyRange.lowerBound(h);let v=new An(Gt);return Eh(r).Kt({range:m},(C,S,N)=>{const[x,F,L]=C,q=zl(F);x===this.userId&&o.isPrefixOf(q)?q.length===u&&(v=v.add(L)):N.done()}).next(()=>this.Zt(r,v))}Zt(r,i){const o=[],u=[];return i.forEach(h=>{u.push(gc(r).get(h).next(m=>{if(null===m)throw Qe();gt(m.userId===this.userId),o.push(jg(this.N,m))}))}),Ae.waitFor(u).next(()=>o)}removeMutationBatch(r,i){return CM(r.Qt,this.userId,i).next(o=>(r.addOnCommittedListener(()=>{this.te(i.batchId)}),Ae.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(r,u))))}te(r){delete this.Jt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(i=>{if(!i)return Ae.resolve();const o=IDBKeyRange.lowerBound(Di.prefixForUser(this.userId)),u=[];return Eh(r).Kt({range:o},(h,m,v)=>{if(h[0]===this.userId){const C=zl(h[1]);u.push(C)}else v.done()}).next(()=>{gt(0===u.length)})})}containsKey(r,i){return TM(r,this.userId,i)}ee(r){return Ch(r).get(this.userId).next(i=>i||new cc(this.userId,-1,""))}}function TM(s,r,i){const o=Di.prefixForPath(r,i.path),u=o[1],h=IDBKeyRange.lowerBound(o);let m=!1;return Eh(s).Kt({range:h,qt:!0},(v,C,S)=>{const[N,x,F]=v;N===r&&x===u&&(m=!0),S.done()}).next(()=>m)}function gc(s){return Hi(s,wn.store)}function Eh(s){return Hi(s,Di.store)}function Ch(s){return Hi(s,cc.store)}class mc{constructor(r){this.ne=r}next(){return this.ne+=2,this.ne}static se(){return new mc(0)}static ie(){return new mc(-1)}}class DM{constructor(r,i){this.referenceDelegate=r,this.N=i}allocateTargetId(r){return this.re(r).next(i=>{const o=new mc(i.highestTargetId);return i.highestTargetId=o.next(),this.oe(r,i).next(()=>i.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.re(r).next(i=>It.fromTimestamp(new br(i.lastRemoteSnapshotVersion.seconds,i.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.re(r).next(i=>i.highestListenSequenceNumber)}setTargetsMetadata(r,i,o){return this.re(r).next(u=>(u.highestListenSequenceNumber=i,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),i>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=i),this.oe(r,u)))}addTargetData(r,i){return this.ae(r,i).next(()=>this.re(r).next(o=>(o.targetCount+=1,this.ce(i,o),this.oe(r,o))))}updateTargetData(r,i){return this.ae(r,i)}removeTargetData(r,i){return this.removeMatchingKeysForTargetId(r,i.targetId).next(()=>Th(r).delete(i.targetId)).next(()=>this.re(r)).next(o=>(gt(o.targetCount>0),o.targetCount-=1,this.oe(r,o)))}removeTargets(r,i,o){let u=0;const h=[];return Th(r).Kt((m,v)=>{const C=sv(v);C.sequenceNumber<=i&&null===o.get(C.targetId)&&(u++,h.push(this.removeTargetData(r,C)))}).next(()=>Ae.waitFor(h)).next(()=>u)}forEachTarget(r,i){return Th(r).Kt((o,u)=>{const h=sv(u);i(h)})}re(r){return av(r).get(fs.key).next(i=>(gt(null!==i),i))}oe(r,i){return av(r).put(fs.key,i)}ae(r,i){return Th(r).put(DI(this.N,i))}ce(r,i){let o=!1;return r.targetId>i.highestTargetId&&(i.highestTargetId=r.targetId,o=!0),r.sequenceNumber>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=r.sequenceNumber,o=!0),o}getTargetCount(r){return this.re(r).next(i=>i.targetCount)}getTargetData(r,i){const o=Cg(i),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let h=null;return Th(r).Kt({range:u,index:hs.queryTargetsIndexName},(m,v,C)=>{const S=sv(v);jy(i,S.target)&&(h=S,C.done())}).next(()=>h)}addMatchingKeys(r,i,o){const u=[],h=Yl(r);return i.forEach(m=>{const v=Uo(m.path);u.push(h.put(new ai(o,v))),u.push(this.referenceDelegate.addReference(r,o,m))}),Ae.waitFor(u)}removeMatchingKeys(r,i,o){const u=Yl(r);return Ae.forEach(i,h=>{const m=Uo(h.path);return Ae.waitFor([u.delete([o,m]),this.referenceDelegate.removeReference(r,o,h)])})}removeMatchingKeysForTargetId(r,i){const o=Yl(r),u=IDBKeyRange.bound([i],[i+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(r,i){const o=IDBKeyRange.bound([i],[i+1],!1,!0),u=Yl(r);let h=on();return u.Kt({range:o,qt:!0},(m,v,C)=>{const S=zl(m[1]),N=new qe(S);h=h.add(N)}).next(()=>h)}containsKey(r,i){const o=Uo(i.path),u=IDBKeyRange.bound([o],[Ur(o)],!1,!0);let h=0;return Yl(r).Kt({index:ai.documentTargetsIndex,qt:!0,range:u},([m,v],C,S)=>{0!==m&&(h++,S.done())}).next(()=>h>0)}Et(r,i){return Th(r).get(i).next(o=>o?sv(o):null)}}function Th(s){return Hi(s,hs.store)}function av(s){return Hi(s,fs.store)}function Yl(s){return Hi(s,ai.store)}function fr(s){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,Ce.Z)(function*(s){if(s.code!==me.FAILED_PRECONDITION||s.message!==CI)throw s;Oe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function lv([s,r],[i,o]){const u=Gt(s,i);return 0===u?Gt(r,o):u}class IM{constructor(r){this.ue=r,this.buffer=new An(lv),this.he=0}le(){return++this.he}fe(r){const i=[r,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();lv(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class SM{constructor(r,i){this.garbageCollector=r,this.asyncQueue=i,this.de=!1,this.we=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(r)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(r){var i=this;const o=this.de?3e5:6e4;Oe("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,Ce.Z)(function*(){i.we=null,i.de=!0;try{yield r.collectGarbage(i.garbageCollector)}catch(u){hc(u)?Oe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield fr(u)}yield i._e(r)}))}}class Nw{constructor(r,i){this.me=r,this.params=i}calculateTargetCount(r,i){return this.me.ge(r).next(o=>Math.floor(i/100*o))}nthSequenceNumber(r,i){if(0===i)return Ae.resolve(cs.T);const o=new IM(i);return this.me.forEachTarget(r,u=>o.fe(u.sequenceNumber)).next(()=>this.me.ye(r,u=>o.fe(u))).next(()=>o.maxValue)}removeTargets(r,i,o){return this.me.removeTargets(r,i,o)}removeOrphanedDocuments(r,i){return this.me.removeOrphanedDocuments(r,i)}collect(r,i){return-1===this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector","Garbage collection skipped; disabled"),Ae.resolve(EM)):this.getCacheSize(r).next(o=>o<this.params.cacheSizeCollectionThreshold?(Oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),EM):this.pe(r,i))}getCacheSize(r){return this.me.getCacheSize(r)}pe(r,i){let o,u,h,m,v,C,S;const N=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(x=>(x>this.params.maximumSequenceNumbersToCollect?(Oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),u=this.params.maximumSequenceNumbersToCollect):u=x,m=Date.now(),this.nthSequenceNumber(r,u))).next(x=>(o=x,v=Date.now(),this.removeTargets(r,o,i))).next(x=>(h=x,C=Date.now(),this.removeOrphanedDocuments(r,o))).next(x=>(S=Date.now(),nc()<=Zu.in.DEBUG&&Oe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${m-N}ms\n\tDetermined least recently used ${u} in `+(v-m)+`ms\n\tRemoved ${h} targets in `+(C-v)+`ms\n\tRemoved ${x} documents in `+(S-C)+`ms\nTotal Duration: ${S-N}ms`),Ae.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:x})))}}class AI{constructor(r,i){this.db=r,this.garbageCollector=new Nw(this,i)}ge(r){const i=this.Ee(r);return this.db.getTargetCache().getTargetCount(r).next(o=>i.next(u=>o+u))}Ee(r){let i=0;return this.ye(r,o=>{i++}).next(()=>i)}forEachTarget(r,i){return this.db.getTargetCache().forEachTarget(r,i)}ye(r,i){return this.Te(r,(o,u)=>i(u))}addReference(r,i,o){return Gg(r,o)}removeReference(r,i,o){return Gg(r,o)}removeTargets(r,i,o){return this.db.getTargetCache().removeTargets(r,i,o)}markPotentiallyOrphaned(r,i){return Gg(r,i)}Ie(r,i){return function(o,u){let h=!1;return Ch(o).jt(m=>TM(o,m,u).next(v=>(v&&(h=!0),Ae.resolve(!v)))).next(()=>h)}(r,i)}removeOrphanedDocuments(r,i){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let h=0;return this.Te(r,(m,v)=>{if(v<=i){const C=this.Ie(r,m).next(S=>{if(!S)return h++,o.getEntry(r,m).next(()=>(o.removeEntry(m),Yl(r).delete([0,Uo(m.path)])))});u.push(C)}}).next(()=>Ae.waitFor(u)).next(()=>o.apply(r)).next(()=>h)}removeTarget(r,i){const o=i.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,o)}updateLimboDocument(r,i){return Gg(r,i)}Te(r,i){const o=Yl(r);let u,h=cs.T;return o.Kt({index:ai.documentTargetsIndex},([m,v],{path:C,sequenceNumber:S})=>{0===m?(h!==cs.T&&i(new qe(zl(u)),h),h=S,u=C):h=cs.T}).next(()=>{h!==cs.T&&i(new qe(zl(u)),h)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function Gg(s,r){return Yl(s).put((o=s.currentSequenceNumber,new ai(0,Uo(r.path),o)));var o}class Dh{constructor(r,i){this.mapKeyFn=r,this.equalsFn=i,this.inner={}}get(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0!==o)for(const[u,h]of o)if(this.equalsFn(u,r))return h}has(r){return void 0!==this.get(r)}set(r,i){const o=this.mapKeyFn(r),u=this.inner[o];if(void 0!==u){for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],r))return void(u[h]=[r,i]);u.push([r,i])}else this.inner[o]=[[r,i]]}delete(r){const i=this.mapKeyFn(r),o=this.inner[i];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],r))return 1===o.length?delete this.inner[i]:o.splice(u,1),!0;return!1}forEach(r){rc(this.inner,(i,o)=>{for(const[u,h]of o)r(u,h)})}isEmpty(){return FD(this.inner)}}class Mw{constructor(){this.changes=new Dh(r=>r.toString(),(r,i)=>r.isEqual(i)),this.changesApplied=!1}getReadTime(r){const i=this.changes.get(r);return i?i.readTime:It.min()}addEntry(r,i){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:i})}removeEntry(r,i=null){this.assertNotApplied(),this.changes.set(r,{document:Sn.newInvalidDocument(r),readTime:i})}getEntry(r,i){this.assertNotApplied();const o=this.changes.get(i);return void 0!==o?Ae.resolve(o.document):this.getFromCache(r,i)}getEntries(r,i){return this.getAllFromCache(r,i)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class NI{constructor(r,i){this.N=r,this.Ht=i}addEntry(r,i,o){return jo(r).put(Zg(i),o)}removeEntry(r,i){const o=jo(r),u=Zg(i);return o.delete(u)}updateMetadata(r,i){return this.getMetadata(r).next(o=>(o.byteSize+=i,this.Ae(r,o)))}getEntry(r,i){return jo(r).get(Zg(i)).next(o=>this.Re(i,o))}Pe(r,i){return jo(r).get(Zg(i)).next(o=>({document:this.Re(i,o),size:$g(o)}))}getEntries(r,i){let o=Ms();return this.be(r,i,(u,h)=>{const m=this.Re(u,h);o=o.insert(u,m)}).next(()=>o)}ve(r,i){let o=Ms(),u=new nr(qe.comparator);return this.be(r,i,(h,m)=>{const v=this.Re(h,m);o=o.insert(h,v),u=u.insert(h,$g(m))}).next(()=>({documents:o,Ve:u}))}be(r,i,o){if(i.isEmpty())return Ae.resolve();const u=IDBKeyRange.bound(i.first().path.toArray(),i.last().path.toArray()),h=i.getIterator();let m=h.getNext();return jo(r).Kt({range:u},(v,C,S)=>{const N=qe.fromSegments(v);for(;m&&qe.comparator(m,N)<0;)o(m,null),m=h.getNext();m&&m.isEqual(N)&&(o(m,C),m=h.hasNext()?h.getNext():null),m?S.Mt(m.path.toArray()):S.done()}).next(()=>{for(;m;)o(m,null),m=h.hasNext()?h.getNext():null})}getDocumentsMatchingQuery(r,i,o){let u=Ms();const h=i.path.length+1,m={};if(o.isEqual(It.min())){const v=i.path.toArray();m.range=IDBKeyRange.lowerBound(v)}else{const v=i.path.toArray(),C=iv(o);m.range=IDBKeyRange.lowerBound([v,C],!0),m.index=Hn.collectionReadTimeIndex}return jo(r).Kt(m,(v,C,S)=>{if(v.length!==h)return;const N=rv(this.N,C);i.path.isPrefixOf(N.key.path)?fh(i,N)&&(u=u.insert(N.key,N)):S.done()}).next(()=>u)}newChangeBuffer(r){return new AM(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(i=>i.byteSize)}getMetadata(r){return MI(r).get(La.key).next(i=>(gt(!!i),i))}Ae(r,i){return MI(r).put(La.key,i)}Re(r,i){if(i){const o=rv(this.N,i);if(!o.isNoDocument()||!o.version.isEqual(It.min()))return o}return Sn.newInvalidDocument(r)}}class AM extends Mw{constructor(r,i){super(),this.Se=r,this.trackRemovals=i,this.De=new Dh(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(r){const i=[];let o=0,u=new An((h,m)=>Gt(h.canonicalString(),m.canonicalString()));return this.changes.forEach((h,m)=>{const v=this.De.get(h);if(m.document.isValidDocument()){const C=yM(this.Se.N,m.document,this.getReadTime(h));u=u.add(h.path.popLast()),o+=$g(C)-v,i.push(this.Se.addEntry(r,h,C))}else if(o-=v,this.trackRemovals){const C=yM(this.Se.N,Sn.newNoDocument(h,It.min()),this.getReadTime(h));i.push(this.Se.addEntry(r,h,C))}else i.push(this.Se.removeEntry(r,h))}),u.forEach(h=>{i.push(this.Se.Ht.addToCollectionParentIndex(r,h))}),i.push(this.Se.updateMetadata(r,o)),Ae.waitFor(i)}getFromCache(r,i){return this.Se.Pe(r,i).next(o=>(this.De.set(i,o.size),o.document))}getAllFromCache(r,i){return this.Se.ve(r,i).next(({documents:o,Ve:u})=>(u.forEach((h,m)=>{this.De.set(h,m)}),o))}}function MI(s){return Hi(s,La.store)}function jo(s){return Hi(s,Hn.store)}function Zg(s){return s.path.toArray()}class RI{constructor(r){this.N=r}Ct(r,i,o,u){gt(o<u&&o>=0&&u<=11);const h=new Cw("createOrUpgrade",i);var v;o<1&&u>=1&&(r.createObjectStore(Rs.store),(v=r).createObjectStore(cc.store,{keyPath:cc.keyPath}),v.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Di.store),uv(r),function(v){v.createObjectStore(Hn.store)}(r));let m=Ae.resolve();return o<3&&u>=3&&(0!==o&&(function(v){v.deleteObjectStore(ai.store),v.deleteObjectStore(hs.store),v.deleteObjectStore(fs.store)}(r),uv(r)),m=m.next(()=>function(v){const C=v.store(fs.store),S=new fs(0,0,It.min().toTimestamp(),0);return C.put(fs.key,S)}(h))),o<4&&u>=4&&(0!==o&&(m=m.next(()=>function(v,C){return C.store(wn.store).Lt().next(S=>{v.deleteObjectStore(wn.store),v.createObjectStore(wn.store,{keyPath:wn.keyPath,autoIncrement:!0}).createIndex(wn.userMutationsIndex,wn.userMutationsKeyPath,{unique:!0});const N=C.store(wn.store),x=S.map(F=>N.put(F));return Ae.waitFor(x)})}(r,h))),m=m.next(()=>{!function(v){v.createObjectStore(Va.store,{keyPath:Va.keyPath})}(r)})),o<5&&u>=5&&(m=m.next(()=>this.Ce(h))),o<6&&u>=6&&(m=m.next(()=>(function(v){v.createObjectStore(La.store)}(r),this.Ne(h)))),o<7&&u>=7&&(m=m.next(()=>this.xe(h))),o<8&&u>=8&&(m=m.next(()=>this.ke(r,h))),o<9&&u>=9&&(m=m.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(r),function(v){const C=v.objectStore(Hn.store);C.createIndex(Hn.readTimeIndex,Hn.readTimeIndexPath,{unique:!1}),C.createIndex(Hn.collectionReadTimeIndex,Hn.collectionReadTimeIndexPath,{unique:!1})}(i)})),o<10&&u>=10&&(m=m.next(()=>this.$e(h))),o<11&&u>=11&&(m=m.next(()=>{(function(v){v.createObjectStore(Fg.store,{keyPath:Fg.keyPath})})(r),function(v){v.createObjectStore(Lg.store,{keyPath:Lg.keyPath})}(r)})),m}Ne(r){let i=0;return r.store(Hn.store).Kt((o,u)=>{i+=$g(u)}).next(()=>{const o=new La(i);return r.store(La.store).put(La.key,o)})}Ce(r){const i=r.store(cc.store),o=r.store(wn.store);return i.Lt().next(u=>Ae.forEach(u,h=>{const m=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return o.Lt(wn.userMutationsIndex,m).next(v=>Ae.forEach(v,C=>{gt(C.userId===h.userId);const S=jg(this.N,C);return CM(r,h.userId,S).next(()=>{})}))}))}xe(r){const i=r.store(ai.store),o=r.store(Hn.store);return r.store(fs.store).get(fs.key).next(u=>{const h=[];return o.Kt((m,v)=>{const C=new Yt(m),S=[0,Uo(C)];h.push(i.get(S).next(N=>N?Ae.resolve():i.put(new ai(0,Uo(C),u.highestListenSequenceNumber))))}).next(()=>Ae.waitFor(h))})}ke(r,i){r.createObjectStore(dc.store,{keyPath:dc.keyPath});const o=i.store(dc.store),u=new Hg,h=m=>{if(u.add(m)){const v=m.lastSegment(),C=m.popLast();return o.put({collectionId:v,parent:Uo(C)})}};return i.store(Hn.store).Kt({qt:!0},(m,v)=>{const C=new Yt(m);return h(C.popLast())}).next(()=>i.store(Di.store).Kt({qt:!0},([m,v,C],S)=>{const N=zl(v);return h(N.popLast())}))}$e(r){const i=r.store(hs.store);return i.Kt((o,u)=>{const h=sv(u),m=DI(this.N,h);return i.put(m)})}}function uv(s){s.createObjectStore(ai.store,{keyPath:ai.keyPath}).createIndex(ai.documentTargetsIndex,ai.documentTargetsKeyPath,{unique:!0}),s.createObjectStore(hs.store,{keyPath:hs.keyPath}).createIndex(hs.queryTargetsIndexName,hs.queryTargetsKeyPath,{unique:!0}),s.createObjectStore(fs.store)}const Rw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ps{constructor(r,i,o,u,h,m,v,C,S,N){if(this.allowTabSynchronization=r,this.persistenceKey=i,this.clientId=o,this.Oe=h,this.window=m,this.document=v,this.Fe=S,this.Me=N,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=x=>Promise.resolve(),!ps.Pt())throw new Ne(me.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new AI(this,u),this.We=i+"main",this.N=new Iw(C),this.Ge=new Bo(this.We,11,new RI(this.N)),this.ze=new DM(this.referenceDelegate,this.N),this.Ht=new bM,this.He=new NI(this.N,this.Ht),this.Je=new ov,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===N&&gn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,Rw);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.ze.getHighestSequenceNumber(r))}).then(r=>{this.Le=new cs(r,this.Fe)}).then(()=>{this.Be=!0}).catch(r=>(this.Ge&&this.Ge.close(),Promise.reject(r)))}nn(r){var i=this;return this.Qe=function(){var o=(0,Ce.Z)(function*(u){if(i.started)return r(u)});return function(u){return o.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Ge.xt(function(){var i=(0,Ce.Z)(function*(o){null===o.newVersion&&(yield r())});return function(o){return i.apply(this,arguments)}}())}setNetworkEnabled(r){var i=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Oe.enqueueAndForget((0,Ce.Z)(function*(){i.started&&(yield i.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>xw(r).put(new Va(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(r).next(i=>{i||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(r)).next(i=>this.isPrimary&&!i?this.on(r).next(()=>!1):!!i&&this.an(r).next(()=>!0))).catch(r=>{if(hc(r))return Oe("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return Oe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Oe.enqueueRetryable(()=>this.Qe(r)),this.isPrimary=r})}sn(r){return qg(r).get(Rs.key).next(i=>Ae.resolve(this.cn(i)))}un(r){return xw(r).delete(this.clientId)}hn(){var r=this;return(0,Ce.Z)(function*(){if(r.isPrimary&&!r.ln(r.je,18e5)){r.je=Date.now();const i=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=Hi(o,Va.store);return u.Lt().next(h=>{const m=r.fn(h,18e5),v=h.filter(C=>-1===m.indexOf(C));return Ae.forEach(v,C=>u.delete(C.clientId)).next(()=>v)})}).catch(()=>[]);if(r.Ye)for(const o of i)r.Ye.removeItem(r.dn(o.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(r){return!!r&&r.ownerId===this.clientId}rn(r){return this.Me?Ae.resolve(!0):qg(r).get(Rs.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)){if(this.cn(i)&&this.networkEnabled)return!0;if(!this.cn(i)){if(!i.allowTabSynchronization)throw new Ne(me.FAILED_PRECONDITION,Rw);return!1}}return!(!this.networkEnabled||!this.inForeground)||xw(r).Lt().next(o=>void 0===this.fn(o,5e3).find(u=>{if(this.clientId!==u.clientId){const m=!this.inForeground&&u.inForeground,v=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||m&&v)return!0}return!1}))}).next(i=>(this.isPrimary!==i&&Oe("IndexedDbPersistence",`Client ${i?"is":"is not"} eligible for a primary lease.`),i))}shutdown(){var r=this;return(0,Ce.Z)(function*(){r.Be=!1,r._n(),r.Ke&&(r.Ke.cancel(),r.Ke=null),r.mn(),r.gn(),yield r.Ge.runTransaction("shutdown","readwrite",[Rs.store,Va.store],i=>{const o=new Tw(i,cs.T);return r.on(o).next(()=>r.un(o))}),r.Ge.close(),r.yn()})()}fn(r,i){return r.filter(o=>this.ln(o.updateTimeMs,i)&&!this.wn(o.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",r=>xw(r).Lt().next(i=>this.fn(i,18e5).map(o=>o.clientId)))}get started(){return this.Be}getMutationQueue(r){return Sw.Yt(r,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(r,i,o){let h;return Oe("IndexedDbPersistence","Starting transaction:",r),this.Ge.runTransaction(r,"readonly"===i?"readonly":"readwrite",kx,m=>(h=new Tw(m,this.Le?this.Le.next():cs.T),"readwrite-primary"===i?this.sn(h).next(v=>!!v||this.rn(h)).next(v=>{if(!v)throw gn(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ne(me.FAILED_PRECONDITION,CI);return o(h)}).next(v=>this.an(h).next(()=>v)):this.En(h).next(()=>o(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}En(r){return qg(r).get(Rs.key).next(i=>{if(null!==i&&this.ln(i.leaseTimestampMs,5e3)&&!this.wn(i.ownerId)&&!this.cn(i)&&!(this.Me||this.allowTabSynchronization&&i.allowTabSynchronization))throw new Ne(me.FAILED_PRECONDITION,Rw)})}an(r){const i=new Rs(this.clientId,this.allowTabSynchronization,Date.now());return qg(r).put(Rs.key,i)}static Pt(){return Bo.Pt()}on(r){const i=qg(r);return i.get(Rs.key).next(o=>this.cn(o)?(Oe("IndexedDbPersistence","Releasing primary lease."),i.delete(Rs.key)):Ae.resolve())}ln(r,i){const o=Date.now();return!(r<o-i||r>o&&(gn(`Detected an update time that is in the future: ${r} > ${o}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.Ue=()=>{this._n(),(0,Qt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(r){var i;try{const o=null!==(null===(i=this.Ye)||void 0===i?void 0:i.getItem(this.dn(r)));return Oe("IndexedDbPersistence",`Client '${r}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return gn("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(r){gn("Failed to set zombie client id.",r)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(r){}}dn(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function qg(s){return Hi(s,Rs.store)}function xw(s){return Hi(s,Va.store)}function kw(s,r){let i=s.projectId;return s.isDefaultDatabase||(i+="."+s.database),"firestore/"+r+"/"+i+"/"}class Lx{constructor(r,i){this.progress=r,this.Tn=i}}class xI{constructor(r,i,o){this.He=r,this.In=i,this.Ht=o}An(r,i){return this.In.getAllMutationBatchesAffectingDocumentKey(r,i).next(o=>this.Rn(r,i,o))}Rn(r,i,o){return this.He.getEntry(r,i).next(u=>{for(const h of o)h.applyToLocalView(u);return u})}Pn(r,i){r.forEach((o,u)=>{for(const h of i)h.applyToLocalView(u)})}bn(r,i){return this.He.getEntries(r,i).next(o=>this.vn(r,o).next(()=>o))}vn(r,i){return this.In.getAllMutationBatchesAffectingDocumentKeys(r,i).next(o=>this.Pn(i,o))}getDocumentsMatchingQuery(r,i,o){return qe.isDocumentKey((u=i).path)&&null===u.collectionGroup&&0===u.filters.length?this.Vn(r,i.path):Zy(i)?this.Sn(r,i,o):this.Dn(r,i,o);var u}Vn(r,i){return this.An(r,new qe(i)).next(o=>{let u=Ky();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}Sn(r,i,o){const u=i.collectionGroup;let h=Ky();return this.Ht.getCollectionParents(r,u).next(m=>Ae.forEach(m,v=>{const C=(S=i,N=v.child(u),new Lo(N,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,N;return this.Dn(r,C,o).next(S=>{S.forEach((N,x)=>{h=h.insert(N,x)})})}).next(()=>h))}Dn(r,i,o){let u,h;return this.He.getDocumentsMatchingQuery(r,i,o).next(m=>(u=m,this.In.getAllMutationBatchesAffectingQuery(r,i))).next(m=>(h=m,this.Cn(r,h,u).next(v=>{u=v;for(const C of h)for(const S of C.mutations){const N=S.key;let x=u.get(N);null==x&&(x=Sn.newInvalidDocument(N),u=u.insert(N,x)),Ag(S,x,C.localWriteTime),x.isFoundDocument()||(u=u.remove(N))}}))).next(()=>(u.forEach((m,v)=>{fh(i,v)||(u=u.remove(m))}),u))}Cn(r,i,o){let u=on();for(const m of i)for(const v of m.mutations)v instanceof ql&&null===o.get(v.key)&&(u=u.add(v.key));let h=o;return this.He.getEntries(r,u).next(m=>(m.forEach((v,C)=>{C.isFoundDocument()&&(h=h.insert(v,C))}),h))}}class Ow{constructor(r,i,o,u){this.targetId=r,this.fromCache=i,this.Nn=o,this.xn=u}static kn(r,i){let o=on(),u=on();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ow(r,i.fromCache,o,u)}}class kI{$n(r){this.On=r}getDocumentsMatchingQuery(r,i,o,u){return 0===(h=i).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(It.min())?this.Fn(r,i):this.On.bn(r,u).next(h=>{const m=this.Mn(i,h);return($y(i)||Gy(i))&&this.Ln(i.limitType,m,u,o)?this.Fn(r,i):(nc()<=Zu.in.DEBUG&&Oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lw(i)),this.On.getDocumentsMatchingQuery(r,i,o).next(v=>(m.forEach(C=>{v=v.insert(C.key,C)}),v)))});var h}Mn(r,i){let o=new An(uw(r));return i.forEach((u,h)=>{fh(r,h)&&(o=o.add(h))}),o}Ln(r,i,o,u){if(o.size!==i.size)return!0;const h="F"===r?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Fn(r,i){return nc()<=Zu.in.DEBUG&&Oe("QueryEngine","Using full collection scan to execute query:",lw(i)),this.On.getDocumentsMatchingQuery(r,i,It.min())}}class Vx{constructor(r,i,o,u){this.persistence=r,this.Bn=i,this.N=u,this.Un=new nr(Gt),this.qn=new Dh(h=>Cg(h),jy),this.Kn=It.min(),this.In=r.getMutationQueue(o),this.jn=r.getRemoteDocumentCache(),this.ze=r.getTargetCache(),this.Qn=new xI(this.jn,this.In,this.persistence.getIndexManager()),this.Je=r.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>r.collect(i,this.Un))}}function OI(s,r,i,o){return new Vx(s,r,i,o)}function Pw(s,r){return Fw.apply(this,arguments)}function Fw(){return(Fw=(0,Ce.Z)(function*(s,r){const i=Be(s);let o=i.In,u=i.Qn;const h=yield i.persistence.runTransaction("Handle user change","readonly",m=>{let v;return i.In.getAllMutationBatches(m).next(C=>(v=C,o=i.persistence.getMutationQueue(r),u=new xI(i.jn,o,i.persistence.getIndexManager()),o.getAllMutationBatches(m))).next(C=>{const S=[],N=[];let x=on();for(const F of v){S.push(F.batchId);for(const L of F.mutations)x=x.add(L.key)}for(const F of C){N.push(F.batchId);for(const L of F.mutations)x=x.add(L.key)}return u.bn(m,x).next(F=>({Wn:F,removedBatchIds:S,addedBatchIds:N}))})});return i.In=o,i.Qn=u,i.Bn.$n(i.Qn),h})).apply(this,arguments)}function NM(s,r){const i=Be(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=r.batch.keys(),h=i.jn.newChangeBuffer({trackRemovals:!0});return function(m,v,C,S){const N=C.batch,x=N.keys();let F=Ae.resolve();return x.forEach(L=>{F=F.next(()=>S.getEntry(v,L)).next(q=>{const re=C.docVersions.get(L);gt(null!==re),q.version.compareTo(re)<0&&(N.applyToRemoteDocument(q,C),q.isValidDocument()&&S.addEntry(q,C.commitVersion))})}),F.next(()=>m.In.removeMutationBatch(v,N))}(i,o,r,h).next(()=>h.apply(o)).next(()=>i.In.performConsistencyCheck(o)).next(()=>i.Qn.bn(o,u))})}function Lw(s){const r=Be(s);return r.persistence.runTransaction("Get last remote snapshot version","readonly",i=>r.ze.getLastRemoteSnapshotVersion(i))}function MM(s,r){const i=Be(s),o=r.snapshotVersion;let u=i.Un;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const m=i.jn.newChangeBuffer({trackRemovals:!0});u=i.Un;const v=[];r.targetChanges.forEach((S,N)=>{const x=u.get(N);if(!x)return;v.push(i.ze.removeMatchingKeys(h,S.removedDocuments,N).next(()=>i.ze.addMatchingKeys(h,S.addedDocuments,N)));const F=S.resumeToken;if(F.approximateByteSize()>0){const L=x.withResumeToken(F,o).withSequenceNumber(h.currentSequenceNumber);u=u.insert(N,L),q=x,be=S,gt((re=L).resumeToken.approximateByteSize()>0),(0===q.resumeToken.approximateByteSize()||re.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=3e8||be.addedDocuments.size+be.modifiedDocuments.size+be.removedDocuments.size>0)&&v.push(i.ze.updateTargetData(h,L))}var q,re,be});let C=Ms();if(r.documentUpdates.forEach((S,N)=>{r.resolvedLimboDocuments.has(S)&&v.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),v.push(RM(h,m,r.documentUpdates,o,void 0).next(S=>{C=S})),!o.isEqual(It.min())){const S=i.ze.getLastRemoteSnapshotVersion(h).next(N=>i.ze.setTargetsMetadata(h,h.currentSequenceNumber,o));v.push(S)}return Ae.waitFor(v).next(()=>m.apply(h)).next(()=>i.Qn.vn(h,C)).next(()=>C)}).then(h=>(i.Un=u,h))}function RM(s,r,i,o,u){let h=on();return i.forEach(m=>h=h.add(m)),r.getEntries(s,h).next(m=>{let v=Ms();return i.forEach((C,S)=>{const N=m.get(C),x=(null==u?void 0:u.get(C))||o;S.isNoDocument()&&S.version.isEqual(It.min())?(r.removeEntry(C,x),v=v.insert(C,S)):!N.isValidDocument()||S.version.compareTo(N.version)>0||0===S.version.compareTo(N.version)&&N.hasPendingWrites?(r.addEntry(S,x),v=v.insert(C,S)):Oe("LocalStore","Ignoring outdated watch update for ",C,". Current version:",N.version," Watch version:",S.version)}),v})}function PI(s,r){const i=Be(s);return i.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===r&&(r=-1),i.In.getNextMutationBatchAfterBatchId(o,r)))}function _c(s,r){const i=Be(s);return i.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return i.ze.getTargetData(o,r).next(h=>h?(u=h,Ae.resolve(u)):i.ze.allocateTargetId(o).next(m=>(u=new Ua(r,m,0,o.currentSequenceNumber),i.ze.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=i.Un.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Un=i.Un.insert(o.targetId,o),i.qn.set(r,o.targetId)),o})}function Ih(s,r,i){return Vw.apply(this,arguments)}function Vw(){return(Vw=(0,Ce.Z)(function*(s,r,i){const o=Be(s),u=o.Un.get(r),h=i?"readwrite":"readwrite-primary";try{i||(yield o.persistence.runTransaction("Release target",h,m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!hc(m))throw m;Oe("LocalStore",`Failed to update sequence numbers for target ${r}: ${m}`)}o.Un=o.Un.remove(r),o.qn.delete(u.target)})).apply(this,arguments)}function zg(s,r,i){const o=Be(s);let u=It.min(),h=on();return o.persistence.runTransaction("Execute query","readonly",m=>function(v,C,S){const N=Be(v),x=N.qn.get(S);return void 0!==x?Ae.resolve(N.Un.get(x)):N.ze.getTargetData(C,S)}(o,m,ro(r)).next(v=>{if(v)return u=v.lastLimboFreeSnapshotVersion,o.ze.getMatchingKeysForTargetId(m,v.targetId).next(C=>{h=C})}).next(()=>o.Bn.getDocumentsMatchingQuery(m,r,i?u:It.min(),i?h:on())).next(v=>({documents:v,Gn:h})))}function Sh(s,r){const i=Be(s),o=Be(i.ze),u=i.Un.get(r);return u?Promise.resolve(u.target):i.persistence.runTransaction("Get target data","readonly",h=>o.Et(h,r).next(m=>m?m.target:null))}function cv(s){const r=Be(s);return r.persistence.runTransaction("Get new document changes","readonly",i=>function(o,u,h){const m=Be(o);let v=Ms(),C=iv(h);const S=jo(u),N=IDBKeyRange.lowerBound(C,!0);return S.Kt({index:Hn.readTimeIndex,range:N},(x,F)=>{const L=rv(m.N,F);v=v.insert(L.key,L),C=F.readTime}).next(()=>({Tn:v,readTime:Ug(C)}))}(r.jn,i,r.Kn)).then(({Tn:i,readTime:o})=>(r.Kn=o,i))}function Uw(){return(Uw=(0,Ce.Z)(function*(s){const r=Be(s);return r.persistence.runTransaction("Synchronize last document change read time","readonly",i=>function(o){const u=jo(o);let h=It.min();return u.Kt({index:Hn.readTimeIndex,reverse:!0},(m,v,C)=>{v.readTime&&(h=Ug(v.readTime)),C.done()}).next(()=>h)}(i)).then(i=>{r.Kn=i})})).apply(this,arguments)}function LI(){return(LI=(0,Ce.Z)(function*(s,r,i,o){const u=Be(s);let h=on(),m=Ms(),v=gw();for(const N of i){const x=r.zn(N.metadata.name);N.document&&(h=h.add(x)),m=m.insert(x,r.Hn(N)),v=v.insert(x,r.Jn(N.metadata.readTime))}const C=u.jn.newChangeBuffer({trackRemovals:!0}),S=yield _c(u,(N=o,ro(Dg(Yt.fromString(`__bundle__/docs/${N}`)))));var N;return u.persistence.runTransaction("Apply bundle documents","readwrite",N=>RM(N,C,m,It.min(),v).next(x=>(C.apply(N),x)).next(x=>u.ze.removeMatchingKeysForTargetId(N,S.targetId).next(()=>u.ze.addMatchingKeys(N,h,S.targetId)).next(()=>u.Qn.vn(N,x)).next(()=>x)))})).apply(this,arguments)}function Ux(s,r){return VI.apply(this,arguments)}function VI(){return(VI=(0,Ce.Z)(function*(s,r,i=on()){const o=yield _c(s,ro(II(r.bundledQuery))),u=Be(s);return u.persistence.runTransaction("Save named query","readwrite",h=>{const m=Hr(r.readTime);if(o.snapshotVersion.compareTo(m)>=0)return u.Je.saveNamedQuery(h,r);const v=o.withResumeToken(wr.EMPTY_BYTE_STRING,m);return u.Un=u.Un.insert(v.targetId,v),u.ze.updateTargetData(h,v).next(()=>u.ze.removeMatchingKeysForTargetId(h,o.targetId)).next(()=>u.ze.addMatchingKeys(h,i,o.targetId)).next(()=>u.Je.saveNamedQuery(h,r))})})).apply(this,arguments)}class UI{constructor(r){this.N=r,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(r,i){return Ae.resolve(this.Yn.get(i))}saveBundleMetadata(r,i){var o;return this.Yn.set(i.id,{id:(o=i).id,version:o.version,createTime:Hr(o.createTime)}),Ae.resolve()}getNamedQuery(r,i){return Ae.resolve(this.Xn.get(i))}saveNamedQuery(r,i){return this.Xn.set(i.name,{name:(o=i).name,query:II(o.bundledQuery),readTime:Hr(o.readTime)}),Ae.resolve();var o}}class dv{constructor(){this.Zn=new An(Cr.ts),this.es=new An(Cr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(r,i){const o=new Cr(r,i);this.Zn=this.Zn.add(o),this.es=this.es.add(o)}ss(r,i){r.forEach(o=>this.addReference(o,i))}removeReference(r,i){this.rs(new Cr(r,i))}os(r,i){r.forEach(o=>this.removeReference(o,i))}cs(r){const i=new qe(new Yt([])),o=new Cr(i,r),u=new Cr(i,r+1),h=[];return this.es.forEachInRange([o,u],m=>{this.rs(m),h.push(m.key)}),h}us(){this.Zn.forEach(r=>this.rs(r))}rs(r){this.Zn=this.Zn.delete(r),this.es=this.es.delete(r)}hs(r){const i=new qe(new Yt([])),o=new Cr(i,r),u=new Cr(i,r+1);let h=on();return this.es.forEachInRange([o,u],m=>{h=h.add(m.key)}),h}containsKey(r){const i=new Cr(r,0),o=this.Zn.firstAfterOrEqual(i);return null!==o&&r.isEqual(o.key)}}class Cr{constructor(r,i){this.key=r,this.ls=i}static ts(r,i){return qe.comparator(r.key,i.key)||Gt(r.ls,i.ls)}static ns(r,i){return Gt(r.ls,i.ls)||qe.comparator(r.key,i.key)}}class kM{constructor(r,i){this.Ht=r,this.referenceDelegate=i,this.In=[],this.fs=1,this.ds=new An(Cr.ts)}checkEmpty(r){return Ae.resolve(0===this.In.length)}addMutationBatch(r,i,o,u){const h=this.fs;this.fs++;const m=new Dw(h,i,o,u);this.In.push(m);for(const v of u)this.ds=this.ds.add(new Cr(v.key,h)),this.Ht.addToCollectionParentIndex(r,v.key.path.popLast());return Ae.resolve(m)}lookupMutationBatch(r,i){return Ae.resolve(this.ws(i))}getNextMutationBatchAfterBatchId(r,i){const u=this._s(i+1),h=u<0?0:u;return Ae.resolve(this.In.length>h?this.In[h]:null)}getHighestUnacknowledgedBatchId(){return Ae.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(r){return Ae.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(r,i){const o=new Cr(i,0),u=new Cr(i,Number.POSITIVE_INFINITY),h=[];return this.ds.forEachInRange([o,u],m=>{const v=this.ws(m.ls);h.push(v)}),Ae.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(r,i){let o=new An(Gt);return i.forEach(u=>{const h=new Cr(u,0),m=new Cr(u,Number.POSITIVE_INFINITY);this.ds.forEachInRange([h,m],v=>{o=o.add(v.ls)})}),Ae.resolve(this.gs(o))}getAllMutationBatchesAffectingQuery(r,i){const o=i.path,u=o.length+1;let h=o;qe.isDocumentKey(h)||(h=h.child(""));const m=new Cr(new qe(h),0);let v=new An(Gt);return this.ds.forEachWhile(C=>{const S=C.key.path;return!!o.isPrefixOf(S)&&(S.length===u&&(v=v.add(C.ls)),!0)},m),Ae.resolve(this.gs(v))}gs(r){const i=[];return r.forEach(o=>{const u=this.ws(o);null!==u&&i.push(u)}),i}removeMutationBatch(r,i){gt(0===this.ys(i.batchId,"removed")),this.In.shift();let o=this.ds;return Ae.forEach(i.mutations,u=>{const h=new Cr(u.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(r,u.key)}).next(()=>{this.ds=o})}te(r){}containsKey(r,i){const o=new Cr(i,0),u=this.ds.firstAfterOrEqual(o);return Ae.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(r){return Ae.resolve()}ys(r,i){return this._s(r)}_s(r){return 0===this.In.length?0:r-this.In[0].batchId}ws(r){const i=this._s(r);return i<0||i>=this.In.length?null:this.In[i]}}class OM{constructor(r,i){this.Ht=r,this.ps=i,this.docs=new nr(qe.comparator),this.size=0}addEntry(r,i,o){const u=i.key,h=this.docs.get(u),m=h?h.size:0,v=this.ps(i);return this.docs=this.docs.insert(u,{document:i.clone(),size:v,readTime:o}),this.size+=v-m,this.Ht.addToCollectionParentIndex(r,u.path.popLast())}removeEntry(r){const i=this.docs.get(r);i&&(this.docs=this.docs.remove(r),this.size-=i.size)}getEntry(r,i){const o=this.docs.get(i);return Ae.resolve(o?o.document.clone():Sn.newInvalidDocument(i))}getEntries(r,i){let o=Ms();return i.forEach(u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.clone():Sn.newInvalidDocument(u))}),Ae.resolve(o)}getDocumentsMatchingQuery(r,i,o){let u=Ms();const h=new qe(i.path.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:C,readTime:S}}=m.getNext();if(!i.path.isPrefixOf(v.path))break;S.compareTo(o)<=0||fh(i,C)&&(u=u.insert(C.key,C.clone()))}return Ae.resolve(u)}Es(r,i){return Ae.forEach(this.docs,o=>i(o))}newChangeBuffer(r){return new PM(this)}getSize(r){return Ae.resolve(this.size)}}class PM extends Mw{constructor(r){super(),this.Se=r}applyChanges(r){const i=[];return this.changes.forEach((o,u)=>{u.document.isValidDocument()?i.push(this.Se.addEntry(r,u.document,this.getReadTime(o))):this.Se.removeEntry(o)}),Ae.waitFor(i)}getFromCache(r,i){return this.Se.getEntry(r,i)}getAllFromCache(r,i){return this.Se.getEntries(r,i)}}class BI{constructor(r){this.persistence=r,this.Ts=new Dh(i=>Cg(i),jy),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Is=0,this.As=new dv,this.targetCount=0,this.Rs=mc.se()}forEachTarget(r,i){return this.Ts.forEach((o,u)=>i(u)),Ae.resolve()}getLastRemoteSnapshotVersion(r){return Ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return Ae.resolve(this.Is)}allocateTargetId(r){return this.highestTargetId=this.Rs.next(),Ae.resolve(this.highestTargetId)}setTargetsMetadata(r,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.Is&&(this.Is=i),Ae.resolve()}ae(r){this.Ts.set(r.target,r);const i=r.targetId;i>this.highestTargetId&&(this.Rs=new mc(i),this.highestTargetId=i),r.sequenceNumber>this.Is&&(this.Is=r.sequenceNumber)}addTargetData(r,i){return this.ae(i),this.targetCount+=1,Ae.resolve()}updateTargetData(r,i){return this.ae(i),Ae.resolve()}removeTargetData(r,i){return this.Ts.delete(i.target),this.As.cs(i.targetId),this.targetCount-=1,Ae.resolve()}removeTargets(r,i,o){let u=0;const h=[];return this.Ts.forEach((m,v)=>{v.sequenceNumber<=i&&null===o.get(v.targetId)&&(this.Ts.delete(m),h.push(this.removeMatchingKeysForTargetId(r,v.targetId)),u++)}),Ae.waitFor(h).next(()=>u)}getTargetCount(r){return Ae.resolve(this.targetCount)}getTargetData(r,i){const o=this.Ts.get(i)||null;return Ae.resolve(o)}addMatchingKeys(r,i,o){return this.As.ss(i,o),Ae.resolve()}removeMatchingKeys(r,i,o){this.As.os(i,o);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(m=>{h.push(u.markPotentiallyOrphaned(r,m))}),Ae.waitFor(h)}removeMatchingKeysForTargetId(r,i){return this.As.cs(i),Ae.resolve()}getMatchingKeysForTargetId(r,i){const o=this.As.hs(i);return Ae.resolve(o)}containsKey(r,i){return Ae.resolve(this.As.containsKey(i))}}class Bx{constructor(r,i){this.Ps={},this.Le=new cs(0),this.Be=!1,this.Be=!0,this.referenceDelegate=r(this),this.ze=new BI(this),this.Ht=new Fx,this.He=new OM(this.Ht,o=>this.referenceDelegate.bs(o)),this.N=new Iw(i),this.Je=new UI(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(r){let i=this.Ps[r.toKey()];return i||(i=new kM(this.Ht,this.referenceDelegate),this.Ps[r.toKey()]=i),i}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(r,i,o){Oe("MemoryPersistence","Starting transaction:",r);const u=new jx(this.Le.next());return this.referenceDelegate.vs(),o(u).next(h=>this.referenceDelegate.Vs(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ss(r,i){return Ae.or(Object.values(this.Ps).map(o=>()=>o.containsKey(r,i)))}}class jx extends TI{constructor(r){super(),this.currentSequenceNumber=r}}class Bw{constructor(r){this.persistence=r,this.Ds=new dv,this.Cs=null}static Ns(r){return new Bw(r)}get xs(){if(this.Cs)return this.Cs;throw Qe()}addReference(r,i,o){return this.Ds.addReference(o,i),this.xs.delete(o.toString()),Ae.resolve()}removeReference(r,i,o){return this.Ds.removeReference(o,i),this.xs.add(o.toString()),Ae.resolve()}markPotentiallyOrphaned(r,i){return this.xs.add(i.toString()),Ae.resolve()}removeTarget(r,i){this.Ds.cs(i.targetId).forEach(u=>this.xs.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(r,i.targetId).next(u=>{u.forEach(h=>this.xs.add(h.toString()))}).next(()=>o.removeTargetData(r,i))}vs(){this.Cs=new Set}Vs(r){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ae.forEach(this.xs,o=>{const u=qe.fromPath(o);return this.ks(r,u).next(h=>{h||i.removeEntry(u)})}).next(()=>(this.Cs=null,i.apply(r)))}updateLimboDocument(r,i){return this.ks(r,i).next(o=>{o?this.xs.delete(i.toString()):this.xs.add(i.toString())})}bs(r){return 0}ks(r,i){return Ae.or([()=>Ae.resolve(this.Ds.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(r,i),()=>this.persistence.Ss(r,i)])}}function hv(s,r){return`firestore_clients_${s}_${r}`}function pr(s,r,i){let o=`firestore_mutations_${s}_${i}`;return r.isAuthenticated()&&(o+=`_${r.uid}`),o}function jI(s,r){return`firestore_targets_${s}_${r}`}class Wg{constructor(r,i,o,u){this.user=r,this.batchId=i,this.state=o,this.error=u}static $s(r,i,o){const u=JSON.parse(o);let h,m="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return m&&u.error&&(m="string"==typeof u.error.message&&"string"==typeof u.error.code,m&&(h=new Ne(u.error.code,u.error.message))),m?new Wg(r,i,u.state,h):(gn("SharedClientState",`Failed to parse mutation state for ID '${i}': ${o}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class Ah{constructor(r,i,o){this.targetId=r,this.state=i,this.error=o}static $s(r,i){const o=JSON.parse(i);let u,h="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return h&&o.error&&(h="string"==typeof o.error.message&&"string"==typeof o.error.code,h&&(u=new Ne(o.error.code,o.error.message))),h?new Ah(r,o.state,u):(gn("SharedClientState",`Failed to parse target state for ID '${r}': ${i}`),null)}Os(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class fv{constructor(r,i){this.clientId=r,this.activeTargetIds=i}static $s(r,i){const o=JSON.parse(i);let u="object"==typeof o&&o.activeTargetIds instanceof Array,h=Fa();for(let m=0;u&&m<o.activeTargetIds.length;++m)u=UD(o.activeTargetIds[m]),h=h.add(o.activeTargetIds[m]);return u?new fv(r,h):(gn("SharedClientState",`Failed to parse client data for instance '${r}': ${i}`),null)}}class Nh{constructor(r,i){this.clientId=r,this.onlineState=i}static $s(r){const i=JSON.parse(r);return"object"==typeof i&&-1!==["Unknown","Online","Offline"].indexOf(i.onlineState)&&"string"==typeof i.clientId?new Nh(i.clientId,i.onlineState):(gn("SharedClientState",`Failed to parse online state: ${r}`),null)}}class jw{constructor(){this.activeTargetIds=Fa()}Fs(r){this.activeTargetIds=this.activeTargetIds.add(r)}Ms(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Os(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class Hw{constructor(r,i,o,u,h){this.window=r,this.Oe=i,this.persistenceKey=o,this.Ls=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new nr(Gt),this.started=!1,this.Ks=[];const m=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=h,this.js=hv(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new jw),this.Ws=new RegExp(`^firestore_clients_${m}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${m}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${m}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static Pt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ce.Z)(function*(){const i=yield r.syncEngine.pn();for(const u of i){if(u===r.Ls)continue;const h=r.getItem(hv(r.persistenceKey,u));if(h){const m=fv.$s(u,h);m&&(r.qs=r.qs.insert(m.clientId,m))}}r.Ys();const o=r.storage.getItem(r.Hs);if(o){const u=r.Xs(o);u&&r.Zs(u)}for(const u of r.Ks)r.Us(u);r.Ks=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Qs,JSON.stringify(r))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(r){let i=!1;return this.qs.forEach((o,u)=>{u.activeTargetIds.has(r)&&(i=!0)}),i}addPendingMutation(r){this.ei(r,"pending")}updateMutationState(r,i,o){this.ei(r,i,o),this.ni(r)}addLocalQueryTarget(r){let i="not-current";if(this.isActiveQueryTarget(r)){const o=this.storage.getItem(jI(this.persistenceKey,r));if(o){const u=Ah.$s(r,o);u&&(i=u.state)}}return this.si.Fs(r),this.Ys(),i}removeLocalQueryTarget(r){this.si.Ms(r),this.Ys()}isLocalQueryTarget(r){return this.si.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(jI(this.persistenceKey,r))}updateQueryState(r,i,o){this.ii(r,i,o)}handleUserChange(r,i,o){i.forEach(u=>{this.ni(u)}),this.currentUser=r,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(r){this.ri(r)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(r){const i=this.storage.getItem(r);return Oe("SharedClientState","READ",r,i),i}setItem(r,i){Oe("SharedClientState","SET",r,i),this.storage.setItem(r,i)}removeItem(r){Oe("SharedClientState","REMOVE",r),this.storage.removeItem(r)}Us(r){var i=this;const o=r;if(o.storageArea===this.storage){if(Oe("SharedClientState","EVENT",o.key,o.newValue),o.key===this.js)return void gn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,Ce.Z)(function*(){if(i.started){if(null!==o.key)if(i.Ws.test(o.key)){if(null==o.newValue){const u=i.ai(o.key);return i.ci(u,null)}{const u=i.ui(o.key,o.newValue);if(u)return i.ci(u.clientId,u)}}else if(i.Gs.test(o.key)){if(null!==o.newValue){const u=i.hi(o.key,o.newValue);if(u)return i.li(u)}}else if(i.zs.test(o.key)){if(null!==o.newValue){const u=i.fi(o.key,o.newValue);if(u)return i.di(u)}}else if(o.key===i.Hs){if(null!==o.newValue){const u=i.Xs(o.newValue);if(u)return i.Zs(u)}}else if(o.key===i.Qs){const u=function(h){let m=cs.T;if(null!=h)try{const v=JSON.parse(h);gt("number"==typeof v),m=v}catch(v){gn("SharedClientState","Failed to read sequence number from WebStorage",v)}return m}(o.newValue);u!==cs.T&&i.sequenceNumberHandler(u)}else if(o.key===i.Js)return i.syncEngine.wi()}else i.Ks.push(o)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(r,i,o){const u=new Wg(this.currentUser,r,i,o),h=pr(this.persistenceKey,this.currentUser,r);this.setItem(h,u.Os())}ni(r){const i=pr(this.persistenceKey,this.currentUser,r);this.removeItem(i)}ri(r){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:r}))}ii(r,i,o){const u=jI(this.persistenceKey,r),h=new Ah(r,i,o);this.setItem(u,h.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(r){const i=this.Ws.exec(r);return i?i[1]:null}ui(r,i){const o=this.ai(r);return fv.$s(o,i)}hi(r,i){const o=this.Gs.exec(r),u=Number(o[1]);return Wg.$s(new Vr(void 0!==o[2]?o[2]:null),u,i)}fi(r,i){const o=this.zs.exec(r),u=Number(o[1]);return Ah.$s(u,i)}Xs(r){return Nh.$s(r)}li(r){var i=this;return(0,Ce.Z)(function*(){if(r.user.uid===i.currentUser.uid)return i.syncEngine._i(r.batchId,r.state,r.error);Oe("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}di(r){return this.syncEngine.mi(r.targetId,r.state,r.error)}ci(r,i){const o=i?this.qs.insert(r,i):this.qs.remove(r),u=this.ti(this.qs),h=this.ti(o),m=[],v=[];return h.forEach(C=>{u.has(C)||m.push(C)}),u.forEach(C=>{h.has(C)||v.push(C)}),this.syncEngine.gi(m,v).then(()=>{this.qs=o})}Zs(r){this.qs.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}ti(r){let i=Fa();return r.forEach((o,u)=>{i=i.unionWith(u.activeTargetIds)}),i}}class $w{constructor(){this.yi=new jw,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,i,o){}addLocalQueryTarget(r){return this.yi.Fs(r),this.pi[r]||"not-current"}updateQueryState(r,i,o){this.pi[r]=i}removeLocalQueryTarget(r){this.yi.Ms(r)}isLocalQueryTarget(r){return this.yi.activeTargetIds.has(r)}clearQueryState(r){delete this.pi[r]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(r){return this.yi.activeTargetIds.has(r)}start(){return this.yi=new jw,Promise.resolve()}handleUserChange(r,i,o){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class yc{Ei(r){}shutdown(){}}class Gw{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.Pi=[],this.bi()}Ei(r){this.Pi.push(r)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}bi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Pi)r(0)}Ri(){Oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Pi)r(1)}static Pt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Zw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class qw{constructor(r){this.vi=r.vi,this.Vi=r.Vi}Si(r){this.Di=r}Ci(r){this.Ni=r}onMessage(r){this.xi=r}close(){this.Vi()}send(r){this.vi(r)}ki(){this.Di()}$i(r){this.Ni(r)}Oi(r){this.xi(r)}}class FM extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Fi=(r.ssl?"https":"http")+"://"+r.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(r,i,o,u){const h=this.Bi(r,i);Oe("RestConnection","Sending: ",h,o);const m={};return this.Ui(m,u),this.qi(r,h,m,o).then(v=>(Oe("RestConnection","Received: ",v),v),v=>{throw _g("RestConnection",`${r} failed with error: `,v,"url: ",h,"request:",o),v})}Ki(r,i,o,u){return this.Li(r,i,o,u)}Ui(r,i){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+tc,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),i)for(const o in i.authHeaders)i.authHeaders.hasOwnProperty(o)&&(r[o]=i.authHeaders[o])}Bi(r,i){return`${this.Fi}/v1/${i}:${Zw[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}qi(r,i,o,u){return new Promise((h,m)=>{const v=new sh;v.listenOnce(J1.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ji.NO_ERROR:const S=v.getResponseJson();Oe("Connection","XHR received:",JSON.stringify(S)),h(S);break;case ji.TIMEOUT:Oe("Connection",'RPC "'+r+'" timed out'),m(new Ne(me.DEADLINE_EXCEEDED,"Request time out"));break;case ji.HTTP_ERROR:const N=v.getStatus();if(Oe("Connection",'RPC "'+r+'" failed with status:',N,"response text:",v.getResponseText()),N>0){const x=v.getResponseJson().error;if(x&&x.status&&x.message){const F=function(L){const q=L.toLowerCase().replace(/_/g,"-");return Object.values(me).indexOf(q)>=0?q:me.UNKNOWN}(x.status);m(new Ne(F,x.message))}else m(new Ne(me.UNKNOWN,"Server responded with status "+v.getStatus()))}else m(new Ne(me.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Oe("Connection",'RPC "'+r+'" completed.')}});const C=JSON.stringify(u);v.send(i,"POST",C,o,15)})}ji(r,i){const o=[this.Fi,"/","google.firestore.v1.Firestore","/",r,"/channel"],u=new mg,h=yy(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new Py({})),this.Ui(m.initMessageHeaders,i),(0,Qt.uI)()||(0,Qt.b$)()||(0,Qt.d)()||(0,Qt.w1)()||(0,Qt.Mn)()||(0,Qt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const v=o.join("");Oe("Connection","Creating WebChannel: "+v,m);const C=u.createWebChannel(v,m);let S=!1,N=!1;const x=new qw({vi:L=>{N?Oe("Connection","Not sending because WebChannel is closed:",L):(S||(Oe("Connection","Opening WebChannel transport."),C.open(),S=!0),Oe("Connection","WebChannel sending:",L),C.send(L))},Vi:()=>C.close()}),F=(L,q,re)=>{L.listen(q,be=>{try{re(be)}catch(xe){setTimeout(()=>{throw xe},0)}})};return F(C,xo.EventType.OPEN,()=>{N||Oe("Connection","WebChannel transport opened.")}),F(C,xo.EventType.CLOSE,()=>{N||(N=!0,Oe("Connection","WebChannel transport closed"),x.$i())}),F(C,xo.EventType.ERROR,L=>{N||(N=!0,_g("Connection","WebChannel transport errored:",L),x.$i(new Ne(me.UNAVAILABLE,"The operation could not be completed")))}),F(C,xo.EventType.MESSAGE,L=>{var q;if(!N){const re=L.data[0];gt(!!re);const be=re,xe=be.error||(null===(q=be[0])||void 0===q?void 0:q.error);if(xe){Oe("Connection","WebChannel received error:",xe);const Pe=xe.status;let Ye=function(qt){const Ir=tr[qt];if(void 0!==Ir)return tI(Ir)}(Pe),st=xe.message;void 0===Ye&&(Ye=me.INTERNAL,st="Unknown error status: "+Pe+" with message "+xe.message),N=!0,x.$i(new Ne(Ye,st)),C.close()}else Oe("Connection","WebChannel received:",re),x.Oi(re)}}),F(h,OD.STAT_EVENT,L=>{L.stat===Oy_PROXY?Oe("Connection","Detected buffering proxy"):L.stat===Oy_NOPROXY&&Oe("Connection","Detected no buffering proxy")}),setTimeout(()=>{x.ki()},0),x}}function Yg(){return"undefined"!=typeof window?window:null}function pv(){return"undefined"!=typeof document?document:null}function vc(s){return new aI(s,!0)}class gv{constructor(r,i,o=1e3,u=1.5,h=6e4){this.Oe=r,this.timerId=i,this.Qi=o,this.Wi=u,this.Gi=h,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(r){this.cancel();const i=Math.floor(this.zi+this.Zi()),o=Math.max(0,Date.now()-this.Ji),u=Math.max(0,i-o);u>0&&Oe("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.zi} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,u,()=>(this.Ji=Date.now(),r())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class gr{constructor(r,i,o,u,h,m){this.Oe=r,this.er=o,this.nr=u,this.credentialsProvider=h,this.listener=m,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new gv(r,i)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var r=this;return(0,Ce.Z)(function*(){r.ar()&&(yield r.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(r){this._r(),this.stream.send(r)}dr(){var r=this;return(0,Ce.Z)(function*(){if(r.cr())return r.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(r,i){var o=this;return(0,Ce.Z)(function*(){o._r(),o.rr.cancel(),o.sr++,3!==r?o.rr.reset():i&&i.code===me.RESOURCE_EXHAUSTED?(gn(i.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),o.rr.Yi()):i&&i.code===me.UNAUTHENTICATED&&o.credentialsProvider.invalidateToken(),null!==o.stream&&(o.mr(),o.stream.close(),o.stream=null),o.state=r,yield o.listener.Ci(i)})()}mr(){}auth(){this.state=1;const r=this.gr(this.sr),i=this.sr;this.credentialsProvider.getToken().then(o=>{this.sr===i&&this.yr(o)},o=>{r(()=>{const u=new Ne(me.UNKNOWN,"Fetching auth token failed: "+o.message);return this.pr(u)})})}yr(r){const i=this.gr(this.sr);this.stream=this.Er(r),this.stream.Si(()=>{i(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(o=>{i(()=>this.pr(o))}),this.stream.onMessage(o=>{i(()=>this.onMessage(o))})}ur(){var r=this;this.state=4,this.rr.Xi((0,Ce.Z)(function*(){r.state=0,r.start()}))}pr(r){return Oe("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}gr(r){return i=>{this.Oe.enqueueAndForget(()=>this.sr===r?i():(Oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hx extends gr{constructor(r,i,o,u,h){super(r,"listen_stream_connection_backoff","listen_stream_idle",i,o,h),this.N=u}Er(r){return this.nr.ji("Listen",r)}onMessage(r){this.rr.reset();const i=function(s,r){let i;if("targetChange"in r){const o="NO_CHANGE"===(C=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:Qe(),u=r.targetChange.targetIds||[],h=function(C,S){return C.D?(gt(void 0===S||"string"==typeof S),wr.fromBase64String(S||"")):(gt(void 0===S||S instanceof Uint8Array),wr.fromUint8Array(S||new Uint8Array))}(s,r.targetChange.resumeToken),m=r.targetChange.cause,v=m&&function(C){const S=void 0===C.code?me.UNKNOWN:tI(C.code);return new Ne(S,C.message||"")}(m);i=new sI(o,u,h,v||null)}else if("documentChange"in r){const o=r.documentChange,u=ds(s,o.document.name),h=Hr(o.document.updateTime),m=new Ei({mapValue:{fields:o.document.fields}}),v=Sn.newFoundDocument(u,h,m);i=new mw(o.targetIds||[],o.removedTargetIds||[],v.key,v)}else if("documentDelete"in r){const o=r.documentDelete,u=ds(s,o.document),h=o.readTime?Hr(o.readTime):It.min(),m=Sn.newNoDocument(u,h);i=new mw([],o.removedTargetIds||[],m.key,m)}else if("documentRemove"in r){const o=r.documentRemove,u=ds(s,o.document);i=new mw([],o.removedTargetIds||[],u,null)}else{if(!("filter"in r))return Qe();{const o=r.filter,h=new fw(o.count||0);i=new _h(o.targetId,h)}}var C;return i}(this.N,r),o=function(u){if(!("targetChange"in u))return It.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?It.min():h.readTime?Hr(h.readTime):It.min()}(r);return this.listener.Tr(i,o)}Ir(r){const i={};i.database=uc(this.N),i.addTarget=function(u,h){let m;const v=h.target;return m=Hy(v)?{documents:bw(u,v)}:{query:mI(u,v)},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0?m.resumeToken=Og(u,h.resumeToken):h.snapshotVersion.compareTo(It.min())>0&&(m.readTime=yh(u,h.snapshotVersion.toTimestamp())),m}(this.N,r);const o=function(s,r){const i=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,r.purpose);return null==i?null:{"goog-listen-tags":i}}(0,r);o&&(i.labels=o),this.wr(i)}Ar(r){const i={};i.database=uc(this.N),i.removeTarget=r,this.wr(i)}}class LM extends gr{constructor(r,i,o,u,h){super(r,"write_stream_connection_backoff","write_stream_idle",i,o,h),this.N=u,this.Rr=!1}get Pr(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.br([])}Er(r){return this.nr.ji("Write",r)}onMessage(r){if(gt(!!r.streamToken),this.lastStreamToken=r.streamToken,this.Rr){this.rr.reset();const i=function(s,r){return s&&s.length>0?(gt(void 0!==r),s.map(i=>function(o,u){let h=Hr(o.updateTime?o.updateTime:u);return h.isEqual(It.min())&&(h=Hr(u)),new uM(h,o.transformResults||[])}(i,r))):[]}(r.writeResults,r.commitTime),o=Hr(r.commitTime);return this.listener.vr(o,i)}return gt(!r.writeResults||0===r.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const r={};r.database=uc(this.N),this.wr(r)}br(r){const i={streamToken:this.lastStreamToken,writes:r.map(o=>Pg(this.N,o))};this.wr(i)}}class VM extends class{}{constructor(r,i,o){super(),this.credentials=r,this.nr=i,this.N=o,this.Dr=!1}Cr(){if(this.Dr)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}Li(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Li(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Ne(me.UNKNOWN,u.toString())})}Ki(r,i,o){return this.Cr(),this.credentials.getToken().then(u=>this.nr.Ki(r,i,o,u)).catch(u=>{throw"FirebaseError"===u.name?(u.code===me.UNAUTHENTICATED&&this.credentials.invalidateToken(),u):new Ne(me.UNKNOWN,u.toString())})}terminate(){this.Dr=!0}}class $x{constructor(r,i){this.asyncQueue=r,this.onlineStateHandler=i,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(r){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Fr("Offline")))}set(r){this.Br(),this.Nr=0,"Online"===r&&(this.$r=!1),this.Fr(r)}Fr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Mr(r){const i=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(gn(i),this.$r=!1):Oe("OnlineStateTracker",i)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class mv{constructor(r,i,o,u,h){var m=this;this.localStore=r,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=h,this.Qr.Ei(v=>{o.enqueueAndForget((0,Ce.Z)(function*(){var C;Kl(m)&&(Oe("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,Ce.Z)(function*(S){const N=Be(S);N.Kr.add(4),yield Jg(N),N.Wr.set("Unknown"),N.Kr.delete(4),yield Kg(N)}),function(S){return C.apply(this,arguments)})(m))}))}),this.Wr=new $x(o,u)}}function Kg(s){return HI.apply(this,arguments)}function HI(){return(HI=(0,Ce.Z)(function*(s){if(Kl(s))for(const r of s.jr)yield r(!0)})).apply(this,arguments)}function Jg(s){return $I.apply(this,arguments)}function $I(){return($I=(0,Ce.Z)(function*(s){for(const r of s.jr)yield r(!1)})).apply(this,arguments)}function _v(s,r){const i=Be(s);i.qr.has(r.targetId)||(i.qr.set(r.targetId,r),ZI(i)?Ww(i):Rh(i).cr()&&zw(i,r))}function Qg(s,r){const i=Be(s),o=Rh(i);i.qr.delete(r),o.cr()&&GI(i,r),0===i.qr.size&&(o.cr()?o.lr():Kl(i)&&i.Wr.set("Unknown"))}function zw(s,r){s.Gr.Y(r.targetId),Rh(s).Ir(r)}function GI(s,r){s.Gr.Y(r),Rh(s).Ar(r)}function Ww(s){s.Gr=new fM({getRemoteKeysForTarget:r=>s.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>s.qr.get(r)||null}),Rh(s).start(),s.Wr.Or()}function ZI(s){return Kl(s)&&!Rh(s).ar()&&s.qr.size>0}function Kl(s){return 0===Be(s).Kr.size}function qI(s){s.Gr=void 0}function UM(s){return zI.apply(this,arguments)}function zI(){return(zI=(0,Ce.Z)(function*(s){s.qr.forEach((r,i)=>{zw(s,r)})})).apply(this,arguments)}function Gx(s,r){return Yw.apply(this,arguments)}function Yw(){return(Yw=(0,Ce.Z)(function*(s,r){qI(s),ZI(s)?(s.Wr.Lr(r),Ww(s)):s.Wr.set("Unknown")})).apply(this,arguments)}function BM(s,r,i){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,Ce.Z)(function*(s,r,i){if(s.Wr.set("Online"),r instanceof sI&&2===r.state&&r.cause)try{yield(o=(0,Ce.Z)(function*(u,h){const m=h.cause;for(const v of h.targetIds)u.qr.has(v)&&(yield u.remoteSyncer.rejectListen(v,m),u.qr.delete(v),u.Gr.removeTarget(v))}),function(u,h){return o.apply(this,arguments)})(s,r)}catch(o){Oe("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),o),yield yv(s,o)}else if(r instanceof mw?s.Gr.rt(r):r instanceof _h?s.Gr.ft(r):s.Gr.ct(r),!i.isEqual(It.min()))try{const o=yield Lw(s.localStore);i.compareTo(o)>=0&&(yield function(u,h){const m=u.Gr._t(h);return m.targetChanges.forEach((v,C)=>{if(v.resumeToken.approximateByteSize()>0){const S=u.qr.get(C);S&&u.qr.set(C,S.withResumeToken(v.resumeToken,h))}}),m.targetMismatches.forEach(v=>{const C=u.qr.get(v);if(!C)return;u.qr.set(v,C.withResumeToken(wr.EMPTY_BYTE_STRING,C.snapshotVersion)),GI(u,v);const S=new Ua(C.target,v,1,C.sequenceNumber);zw(u,S)}),u.remoteSyncer.applyRemoteEvent(m)}(s,i))}catch(o){Oe("RemoteStore","Failed to raise snapshot:",o),yield yv(s,o)}var o})).apply(this,arguments)}function yv(s,r,i){return Jw.apply(this,arguments)}function Jw(){return(Jw=(0,Ce.Z)(function*(s,r,i){if(!hc(r))throw r;s.Kr.add(1),yield Jg(s),s.Wr.set("Offline"),i||(i=()=>Lw(s.localStore)),s.asyncQueue.enqueueRetryable((0,Ce.Z)(function*(){Oe("RemoteStore","Retrying IndexedDB access"),yield i(),s.Kr.delete(1),yield Kg(s)}))})).apply(this,arguments)}function xs(s,r){return r().catch(i=>yv(s,i,r))}function Mh(s){return Qw.apply(this,arguments)}function Qw(){return(Qw=(0,Ce.Z)(function*(s){const r=Be(s),i=Jl(r);let o=r.Ur.length>0?r.Ur[r.Ur.length-1].batchId:-1;for(;jM(r);)try{const u=yield PI(r.localStore,o);if(null===u){0===r.Ur.length&&i.lr();break}o=u.batchId,HM(r,u)}catch(u){yield yv(r,u)}$M(r)&&WI(r)})).apply(this,arguments)}function jM(s){return Kl(s)&&s.Ur.length<10}function HM(s,r){s.Ur.push(r);const i=Jl(s);i.cr()&&i.Pr&&i.br(r.mutations)}function $M(s){return Kl(s)&&!Jl(s).ar()&&s.Ur.length>0}function WI(s){Jl(s).start()}function GM(s){return Xw.apply(this,arguments)}function Xw(){return(Xw=(0,Ce.Z)(function*(s){Jl(s).Sr()})).apply(this,arguments)}function Xg(s){return vv.apply(this,arguments)}function vv(){return(vv=(0,Ce.Z)(function*(s){const r=Jl(s);for(const i of s.Ur)r.br(i.mutations)})).apply(this,arguments)}function Zx(s,r,i){return eE.apply(this,arguments)}function eE(){return(eE=(0,Ce.Z)(function*(s,r,i){const o=s.Ur.shift(),u=Vg.from(o,r,i);yield xs(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),yield Mh(s)})).apply(this,arguments)}function qx(s,r){return YI.apply(this,arguments)}function YI(){return(YI=(0,Ce.Z)(function*(s,r){var i;r&&Jl(s).Pr&&(yield(i=(0,Ce.Z)(function*(o,u){if(eI(h=u.code)&&h!==me.ABORTED){const m=o.Ur.shift();Jl(o).hr(),yield xs(o,()=>o.remoteSyncer.rejectFailedWrite(m.batchId,u)),yield Mh(o)}var h}),function(o,u){return i.apply(this,arguments)})(s,r)),$M(s)&&WI(s)})).apply(this,arguments)}function KI(s,r){return em.apply(this,arguments)}function em(){return(em=(0,Ce.Z)(function*(s,r){const i=Be(s);r?(i.Kr.delete(2),yield Kg(i)):r||(i.Kr.add(2),yield Jg(i),i.Wr.set("Unknown"))})).apply(this,arguments)}function Rh(s){return s.zr||(s.zr=function(r,i,o){const u=Be(r);return u.Cr(),new Hx(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:UM.bind(null,s),Ci:Gx.bind(null,s),Tr:BM.bind(null,s)}),s.jr.push(function(){var r=(0,Ce.Z)(function*(i){i?(s.zr.hr(),ZI(s)?Ww(s):s.Wr.set("Unknown")):(yield s.zr.stop(),qI(s))});return function(i){return r.apply(this,arguments)}}())),s.zr}function Jl(s){return s.Hr||(s.Hr=function(r,i,o){const u=Be(r);return u.Cr(),new LM(i,u.nr,u.credentials,u.N,o)}(s.datastore,s.asyncQueue,{Si:GM.bind(null,s),Ci:qx.bind(null,s),Vr:Xg.bind(null,s),vr:Zx.bind(null,s)}),s.jr.push(function(){var r=(0,Ce.Z)(function*(i){i?(s.Hr.hr(),yield Mh(s)):(yield s.Hr.stop(),s.Ur.length>0&&(Oe("RemoteStore",`Stopping write stream with ${s.Ur.length} pending writes`),s.Ur=[]))});return function(i){return r.apply(this,arguments)}}())),s.Hr}class tE{constructor(r,i,o,u,h){this.asyncQueue=r,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new Qn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(m=>{})}static createAndSchedule(r,i,o,u,h){const m=Date.now()+o,v=new tE(r,i,m,u,h);return v.start(o),v}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(me.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(s,r){if(gn("AsyncQueue",`${r}: ${s}`),hc(s))return new Ne(me.UNAVAILABLE,`${r}: ${s}`);throw s}class xh{constructor(r){this.comparator=r?(i,o)=>r(i,o)||qe.comparator(i.key,o.key):(i,o)=>qe.comparator(i.key,o.key),this.keyedMap=Ky(),this.sortedSet=new nr(this.comparator)}static emptySet(r){return new xh(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const i=this.keyedMap.get(r);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((i,o)=>(r(i),!1))}add(r){const i=this.delete(r.key);return i.copy(i.keyedMap.insert(r.key,r),i.sortedSet.insert(r,null))}delete(r){const i=this.get(r);return i?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(i)):this}isEqual(r){if(!(r instanceof xh)||this.size!==r.size)return!1;const i=this.sortedSet.getIterator(),o=r.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const r=[];return this.forEach(i=>{r.push(i.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,i){const o=new xh;return o.comparator=this.comparator,o.keyedMap=r,o.sortedSet=i,o}}class JI{constructor(){this.Jr=new nr(qe.comparator)}track(r){const i=r.doc.key,o=this.Jr.get(i);o?0!==r.type&&3===o.type?this.Jr=this.Jr.insert(i,r):3===r.type&&1!==o.type?this.Jr=this.Jr.insert(i,{type:o.type,doc:r.doc}):2===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):2===r.type&&0===o.type?this.Jr=this.Jr.insert(i,{type:0,doc:r.doc}):1===r.type&&0===o.type?this.Jr=this.Jr.remove(i):1===r.type&&2===o.type?this.Jr=this.Jr.insert(i,{type:1,doc:o.doc}):0===r.type&&1===o.type?this.Jr=this.Jr.insert(i,{type:2,doc:r.doc}):Qe():this.Jr=this.Jr.insert(i,r)}Yr(){const r=[];return this.Jr.inorderTraversal((i,o)=>{r.push(o)}),r}}class kh{constructor(r,i,o,u,h,m,v,C){this.query=r,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=v,this.excludesMetadataChanges=C}static fromInitialDocuments(r,i,o,u){const h=[];return i.forEach(m=>{h.push({type:0,doc:m})}),new kh(r,i,xh.emptySet(i),h,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&Ig(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const i=this.docChanges,o=r.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class io{constructor(){this.Xr=void 0,this.listeners=[]}}class zx{constructor(){this.queries=new Dh(r=>qy(r),Ig),this.onlineState="Unknown",this.Zr=new Set}}function bv(s,r){return nE.apply(this,arguments)}function nE(){return(nE=(0,Ce.Z)(function*(s,r){const i=Be(s),o=r.query;let u=!1,h=i.queries.get(o);if(h||(u=!0,h=new io),u)try{h.Xr=yield i.onListen(o)}catch(m){const v=tm(m,`Initialization of query '${lw(r.query)}' failed`);return void r.onError(v)}i.queries.set(o,h),h.listeners.push(r),r.eo(i.onlineState),h.Xr&&r.no(h.Xr)&&nm(i)})).apply(this,arguments)}function wv(s,r){return Ev.apply(this,arguments)}function Ev(){return(Ev=(0,Ce.Z)(function*(s,r){const i=Be(s),o=r.query;let u=!1;const h=i.queries.get(o);if(h){const m=h.listeners.indexOf(r);m>=0&&(h.listeners.splice(m,1),u=0===h.listeners.length)}if(u)return i.queries.delete(o),i.onUnlisten(o)})).apply(this,arguments)}function QI(s,r){const i=Be(s);let o=!1;for(const u of r){const m=i.queries.get(u.query);if(m){for(const v of m.listeners)v.no(u)&&(o=!0);m.Xr=u}}o&&nm(i)}function rE(s,r,i){const o=Be(s),u=o.queries.get(r);if(u)for(const h of u.listeners)h.onError(i);o.queries.delete(r)}function nm(s){s.Zr.forEach(r=>{r.next()})}class rm{constructor(r,i,o){this.query=r,this.so=i,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=o||{}}no(r){if(!this.options.includeMetadataChanges){const o=[];for(const u of r.docChanges)3!==u.type&&o.push(u);r=new kh(r.query,r.docs,r.oldDocs,o,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let i=!1;return this.io?this.oo(r)&&(this.so.next(r),i=!0):this.ao(r,this.onlineState)&&(this.co(r),i=!0),this.ro=r,i}onError(r){this.so.error(r)}eo(r){this.onlineState=r;let i=!1;return this.ro&&!this.io&&this.ao(this.ro,r)&&(this.co(this.ro),i=!0),i}ao(r,i){return!r.fromCache||!(this.options.uo&&"Offline"!==i||r.docs.isEmpty()&&"Offline"!==i)}oo(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(r){r=kh.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.io=!0,this.so.next(r)}}class Cv{constructor(r,i){this.payload=r,this.byteLength=i}ho(){return"metadata"in this.payload}}class im{constructor(r){this.N=r}zn(r){return ds(this.N,r)}Hn(r){return r.metadata.exists?dI(this.N,r.document,!1):Sn.newNoDocument(this.zn(r.metadata.name),this.Jn(r.metadata.readTime))}Jn(r){return Hr(r)}}class XI{constructor(r,i,o){this.lo=r,this.localStore=i,this.N=o,this.queries=[],this.documents=[],this.progress=iE(r)}fo(r){this.progress.bytesLoaded+=r.byteLength;let i=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++i):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++i),i!==this.progress.documentsLoaded?(this.progress.documentsLoaded=i,Object.assign({},this.progress)):null}wo(r){const i=new Map,o=new im(this.N);for(const u of r)if(u.metadata.queries){const h=o.zn(u.metadata.name);for(const m of u.metadata.queries){const v=(i.get(m)||on()).add(h);i.set(m,v)}}return i}complete(){var r=this;return(0,Ce.Z)(function*(){const i=yield function(s,r,i,o){return LI.apply(this,arguments)}(r.localStore,new im(r.N),r.documents,r.lo.id),o=r.wo(r.documents);for(const u of r.queries)yield Ux(r.localStore,u,o.get(u.name));return r.progress.taskState="Success",new Lx(Object.assign({},r.progress),i)})()}}function iE(s){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:s.totalDocuments,totalBytes:s.totalBytes}}class eS{constructor(r){this.key=r}}class tS{constructor(r){this.key=r}}class sE{constructor(r,i){this.query=r,this._o=i,this.mo=null,this.current=!1,this.yo=on(),this.mutatedKeys=on(),this.po=uw(r),this.Eo=new xh(this.po)}get To(){return this._o}Io(r,i){const o=i?i.Ao:new JI,u=i?i.Eo:this.Eo;let h=i?i.mutatedKeys:this.mutatedKeys,m=u,v=!1;const C=$y(this.query)&&u.size===this.query.limit?u.last():null,S=Gy(this.query)&&u.size===this.query.limit?u.first():null;if(r.inorderTraversal((N,x)=>{const F=u.get(N),L=fh(this.query,x)?x:null,q=!!F&&this.mutatedKeys.has(F.key),re=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let be=!1;F&&L?F.data.isEqual(L.data)?q!==re&&(o.track({type:3,doc:L}),be=!0):this.Ro(F,L)||(o.track({type:2,doc:L}),be=!0,(C&&this.po(L,C)>0||S&&this.po(L,S)<0)&&(v=!0)):!F&&L?(o.track({type:0,doc:L}),be=!0):F&&!L&&(o.track({type:1,doc:F}),be=!0,(C||S)&&(v=!0)),be&&(L?(m=m.add(L),h=re?h.add(N):h.delete(N)):(m=m.delete(N),h=h.delete(N)))}),$y(this.query)||Gy(this.query))for(;m.size>this.query.limit;){const N=$y(this.query)?m.last():m.first();m=m.delete(N.key),h=h.delete(N.key),o.track({type:1,doc:N})}return{Eo:m,Ao:o,Ln:v,mutatedKeys:h}}Ro(r,i){return r.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(r,i,o){const u=this.Eo;this.Eo=r.Eo,this.mutatedKeys=r.mutatedKeys;const h=r.Ao.Yr();h.sort((S,N)=>function(x,F){const L=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return L(x)-L(F)}(S.type,N.type)||this.po(S.doc,N.doc)),this.Po(o);const m=i?this.bo():[],v=0===this.yo.size&&this.current?1:0,C=v!==this.mo;return this.mo=v,0!==h.length||C?{snapshot:new kh(this.query,r.Eo,u,h,r.mutatedKeys,0===v,C,!1),vo:m}:{vo:m}}eo(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new JI,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(r){return!this._o.has(r)&&!!this.Eo.has(r)&&!this.Eo.get(r).hasLocalMutations}Po(r){r&&(r.addedDocuments.forEach(i=>this._o=this._o.add(i)),r.modifiedDocuments.forEach(i=>{}),r.removedDocuments.forEach(i=>this._o=this._o.delete(i)),this.current=r.current)}bo(){if(!this.current)return[];const r=this.yo;this.yo=on(),this.Eo.forEach(o=>{this.Vo(o.key)&&(this.yo=this.yo.add(o.key))});const i=[];return r.forEach(o=>{this.yo.has(o)||i.push(new tS(o))}),this.yo.forEach(o=>{r.has(o)||i.push(new eS(o))}),i}So(r){this._o=r.Gn,this.yo=on();const i=this.Io(r.documents);return this.applyChanges(i,!0)}Do(){return kh.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class ZM{constructor(r,i,o){this.query=r,this.targetId=i,this.view=o}}class qM{constructor(r){this.key=r,this.Co=!1}}class zM{constructor(r,i,o,u,h,m){this.localStore=r,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.No={},this.xo=new Dh(v=>qy(v),Ig),this.ko=new Map,this.$o=new Set,this.Oo=new nr(qe.comparator),this.Fo=new Map,this.Mo=new dv,this.Lo={},this.Bo=new Map,this.Uo=mc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function oE(s,r){return aE.apply(this,arguments)}function aE(){return(aE=(0,Ce.Z)(function*(s,r){const i=ja(s);let o,u;const h=i.xo.get(r);if(h)o=h.targetId,i.sharedClientState.addLocalQueryTarget(o),u=h.view.Do();else{const m=yield _c(i.localStore,ro(r)),v=i.sharedClientState.addLocalQueryTarget(m.targetId);o=m.targetId,u=yield $r(i,r,o,"current"===v),i.isPrimaryClient&&_v(i.remoteStore,m)}return u})).apply(this,arguments)}function $r(s,r,i,o){return bc.apply(this,arguments)}function bc(){return(bc=(0,Ce.Z)(function*(s,r,i,o){s.Ko=(N,x,F)=>{return(L=(0,Ce.Z)(function*(q,re,be,xe){let Pe=re.view.Io(be);Pe.Ln&&(Pe=yield zg(q.localStore,re.query,!1).then(({documents:qt})=>re.view.Io(qt,Pe)));const Ye=xe&&xe.targetChanges.get(re.targetId),st=re.view.applyChanges(Pe,q.isPrimaryClient,Ye);return dE(q,re.targetId,st.vo),st.snapshot}),function(q,re,be,xe){return L.apply(this,arguments)})(s,N,x,F);var L};const u=yield zg(s.localStore,r,!0),h=new sE(r,u.Gn),m=h.Io(u.documents),v=kg.createSynthesizedTargetChangeForCurrentChange(i,o&&"Offline"!==s.onlineState),C=h.applyChanges(m,s.isPrimaryClient,v);dE(s,i,C.vo);const S=new ZM(r,i,h);return s.xo.set(r,S),s.ko.has(i)?s.ko.get(i).push(r):s.ko.set(i,[r]),C.snapshot})).apply(this,arguments)}function Tv(s,r){return Dv.apply(this,arguments)}function Dv(){return(Dv=(0,Ce.Z)(function*(s,r){const i=Be(s),o=i.xo.get(r),u=i.ko.get(o.targetId);if(u.length>1)return i.ko.set(o.targetId,u.filter(h=>!Ig(h,r))),void i.xo.delete(r);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ih(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),Qg(i.remoteStore,o.targetId),Ph(i,o.targetId)}).catch(fr))):(Ph(i,o.targetId),yield Ih(i.localStore,o.targetId,!0))})).apply(this,arguments)}function sm(){return(sm=(0,Ce.Z)(function*(s,r,i){const o=am(s);try{const u=yield function(h,m){const v=Be(h),C=br.now(),S=m.reduce((x,F)=>x.add(F.key),on());let N;return v.persistence.runTransaction("Locally write mutations","readwrite",x=>v.Qn.bn(x,S).next(F=>{N=F;const L=[];for(const q of m){const re=Vo(q,N.get(q.key));null!=re&&L.push(new ql(q.key,re,tM(re.value.mapValue),er.exists(!0)))}return v.In.addMutationBatch(x,C,L,m)})).then(x=>(x.applyToLocalDocumentSet(N),{batchId:x.batchId,changes:N}))}(o.localStore,r);o.sharedClientState.addPendingMutation(u.batchId),function(h,m,v){let C=h.Lo[h.currentUser.toKey()];C||(C=new nr(Gt)),C=C.insert(m,v),h.Lo[h.currentUser.toKey()]=C}(o,u.batchId,i),yield $o(o,u.changes),yield Mh(o.remoteStore)}catch(u){const h=tm(u,"Failed to persist write");i.reject(h)}})).apply(this,arguments)}function lE(s,r){return Oh.apply(this,arguments)}function Oh(){return(Oh=(0,Ce.Z)(function*(s,r){const i=Be(s);try{const o=yield MM(i.localStore,r);r.targetChanges.forEach((u,h)=>{const m=i.Fo.get(h);m&&(gt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?m.Co=!0:u.modifiedDocuments.size>0?gt(m.Co):u.removedDocuments.size>0&&(gt(m.Co),m.Co=!1))}),yield $o(i,o,r)}catch(o){yield fr(o)}})).apply(this,arguments)}function nS(s,r,i){const o=Be(s);if(o.isPrimaryClient&&0===i||!o.isPrimaryClient&&1===i){const u=[];o.xo.forEach((h,m)=>{const v=m.view.eo(r);v.snapshot&&u.push(v.snapshot)}),function(h,m){const v=Be(h);v.onlineState=m;let C=!1;v.queries.forEach((S,N)=>{for(const x of N.listeners)x.eo(m)&&(C=!0)}),C&&nm(v)}(o.eventManager,r),u.length&&o.No.Tr(u),o.onlineState=r,o.isPrimaryClient&&o.sharedClientState.setOnlineState(r)}}function WM(s,r,i){return uE.apply(this,arguments)}function uE(){return(uE=(0,Ce.Z)(function*(s,r,i){const o=Be(s);o.sharedClientState.updateQueryState(r,"rejected",i);const u=o.Fo.get(r),h=u&&u.key;if(h){let m=new nr(qe.comparator);m=m.insert(h,Sn.newNoDocument(h,It.min()));const v=on().add(h),C=new xg(It.min(),new Map,new An(Gt),m,v);yield lE(o,C),o.Oo=o.Oo.remove(h),o.Fo.delete(r),fE(o)}else yield Ih(o.localStore,r,!1).then(()=>Ph(o,r,i)).catch(fr)})).apply(this,arguments)}function YM(s,r){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Ce.Z)(function*(s,r){const i=Be(s),o=r.batch.batchId;try{const u=yield NM(i.localStore,r);om(i,o,null),wc(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),yield $o(i,u)}catch(u){yield fr(u)}})).apply(this,arguments)}function KM(s,r,i){return cE.apply(this,arguments)}function cE(){return(cE=(0,Ce.Z)(function*(s,r,i){const o=Be(s);try{const u=yield function(h,m){const v=Be(h);return v.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let S;return v.In.lookupMutationBatch(C,m).next(N=>(gt(null!==N),S=N.keys(),v.In.removeMutationBatch(C,N))).next(()=>v.In.performConsistencyCheck(C)).next(()=>v.Qn.bn(C,S))})}(o.localStore,r);om(o,r,i),wc(o,r),o.sharedClientState.updateMutationState(r,"rejected",i),yield $o(o,u)}catch(u){yield fr(u)}})).apply(this,arguments)}function Ho(){return(Ho=(0,Ce.Z)(function*(s,r){const i=Be(s);Kl(i.remoteStore)||Oe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(h){const m=Be(h);return m.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>m.In.getHighestUnacknowledgedBatchId(v))}(i.localStore);if(-1===o)return void r.resolve();const u=i.Bo.get(o)||[];u.push(r),i.Bo.set(o,u)}catch(o){const u=tm(o,"Initialization of waitForPendingWrites() operation failed");r.reject(u)}})).apply(this,arguments)}function wc(s,r){(s.Bo.get(r)||[]).forEach(i=>{i.resolve()}),s.Bo.delete(r)}function om(s,r,i){const o=Be(s);let u=o.Lo[o.currentUser.toKey()];if(u){const h=u.get(r);h&&(i?h.reject(i):h.resolve(),u=u.remove(r)),o.Lo[o.currentUser.toKey()]=u}}function Ph(s,r,i=null){s.sharedClientState.removeLocalQueryTarget(r);for(const o of s.ko.get(r))s.xo.delete(o),i&&s.No.jo(o,i);s.ko.delete(r),s.isPrimaryClient&&s.Mo.cs(r).forEach(o=>{s.Mo.containsKey(o)||rS(s,o)})}function rS(s,r){s.$o.delete(r.path.canonicalString());const i=s.Oo.get(r);null!==i&&(Qg(s.remoteStore,i),s.Oo=s.Oo.remove(r),s.Fo.delete(i),fE(s))}function dE(s,r,i){for(const o of i)o instanceof eS?(s.Mo.addReference(o.key,r),hE(s,o)):o instanceof tS?(Oe("SyncEngine","Document no longer in limbo: "+o.key),s.Mo.removeReference(o.key,r),s.Mo.containsKey(o.key)||rS(s,o.key)):Qe()}function hE(s,r){const i=r.key,o=i.path.canonicalString();s.Oo.get(i)||s.$o.has(o)||(Oe("SyncEngine","New document in limbo: "+i),s.$o.add(o),fE(s))}function fE(s){for(;s.$o.size>0&&s.Oo.size<s.maxConcurrentLimboResolutions;){const r=s.$o.values().next().value;s.$o.delete(r);const i=new qe(Yt.fromString(r)),o=s.Uo.next();s.Fo.set(o,new qM(i)),s.Oo=s.Oo.insert(i,o),_v(s.remoteStore,new Ua(ro(Dg(i.path)),o,2,cs.T))}}function $o(s,r,i){return Av.apply(this,arguments)}function Av(){return(Av=(0,Ce.Z)(function*(s,r,i){const o=Be(s),u=[],h=[],m=[];var v;o.xo.isEmpty()||(o.xo.forEach((v,C)=>{m.push(o.Ko(C,r,i).then(S=>{if(S){o.isPrimaryClient&&o.sharedClientState.updateQueryState(C.targetId,S.fromCache?"not-current":"current"),u.push(S);const N=Ow.kn(C.targetId,S);h.push(N)}}))}),yield Promise.all(m),o.No.Tr(u),yield(v=(0,Ce.Z)(function*(C,S){const N=Be(C);try{yield N.persistence.runTransaction("notifyLocalViewChanges","readwrite",x=>Ae.forEach(S,F=>Ae.forEach(F.Nn,L=>N.persistence.referenceDelegate.addReference(x,F.targetId,L)).next(()=>Ae.forEach(F.xn,L=>N.persistence.referenceDelegate.removeReference(x,F.targetId,L)))))}catch(x){if(!hc(x))throw x;Oe("LocalStore","Failed to update sequence numbers: "+x)}for(const x of S){const F=x.targetId;if(!x.fromCache){const L=N.Un.get(F),re=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);N.Un=N.Un.insert(F,re)}}}),function(C,S){return v.apply(this,arguments)})(o.localStore,h))})).apply(this,arguments)}function QM(s,r){return pE.apply(this,arguments)}function pE(){return(pE=(0,Ce.Z)(function*(s,r){const i=Be(s);if(!i.currentUser.isEqual(r)){Oe("SyncEngine","User change. New user:",r.toKey());const o=yield Pw(i.localStore,r);i.currentUser=r,(u=i).Bo.forEach(m=>{m.forEach(v=>{v.reject(new Ne(me.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.Bo.clear(),i.sharedClientState.handleUserChange(r,o.removedBatchIds,o.addedBatchIds),yield $o(i,o.Wn)}var u})).apply(this,arguments)}function XM(s,r){const i=Be(s),o=i.Fo.get(r);if(o&&o.Co)return on().add(o.key);{let u=on();const h=i.ko.get(r);if(!h)return u;for(const m of h){const v=i.xo.get(m);u=u.unionWith(v.view.To)}return u}}function Ba(s,r){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,Ce.Z)(function*(s,r){const i=Be(s),o=yield zg(i.localStore,r.query,!0),u=r.view.So(o);return i.isPrimaryClient&&dE(i,r.targetId,u.vo),u})).apply(this,arguments)}function Fh(s){return Lh.apply(this,arguments)}function Lh(){return(Lh=(0,Ce.Z)(function*(s){const r=Be(s);return cv(r.localStore).then(i=>$o(r,i))})).apply(this,arguments)}function Vh(s,r,i,o){return gE.apply(this,arguments)}function gE(){return(gE=(0,Ce.Z)(function*(s,r,i,o){const u=Be(s),h=yield function(m,v){const C=Be(m),S=Be(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",N=>S.Xt(N,v).next(x=>x?C.Qn.bn(N,x):Ae.resolve(null)))}(u.localStore,r);var v;null!==h?("pending"===i?yield Mh(u.remoteStore):"acknowledged"===i||"rejected"===i?(om(u,r,o||null),wc(u,r),v=r,Be(Be(u.localStore).In).te(v)):Qe(),yield $o(u,h)):Oe("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function mE(){return(mE=(0,Ce.Z)(function*(s,r){const i=Be(s);if(ja(i),am(i),!0===r&&!0!==i.qo){const o=i.sharedClientState.getAllActiveQueryTargets(),u=yield _E(i,o.toArray());i.qo=!0,yield KI(i.remoteStore,!0);for(const h of u)_v(i.remoteStore,h)}else if(!1===r&&!1!==i.qo){const o=[];let u=Promise.resolve();i.ko.forEach((h,m)=>{i.sharedClientState.isLocalQueryTarget(m)?o.push(m):u=u.then(()=>(Ph(i,m),Ih(i.localStore,m,!0))),Qg(i.remoteStore,m)}),yield u,yield _E(i,o),function(h){const m=Be(h);m.Fo.forEach((v,C)=>{Qg(m.remoteStore,C)}),m.Mo.us(),m.Fo=new Map,m.Oo=new nr(qe.comparator)}(i),i.qo=!1,yield KI(i.remoteStore,!1)}})).apply(this,arguments)}function _E(s,r,i){return Nv.apply(this,arguments)}function Nv(){return(Nv=(0,Ce.Z)(function*(s,r,i){const o=Be(s),u=[],h=[];for(const m of r){let v;const C=o.ko.get(m);if(C&&0!==C.length){v=yield _c(o.localStore,ro(C[0]));for(const S of C){const N=o.xo.get(S),x=yield Ba(o,N);x.snapshot&&h.push(x.snapshot)}}else{const S=yield Sh(o.localStore,m);v=yield _c(o.localStore,S),yield $r(o,yE(S),m,!1)}u.push(v)}return o.No.Tr(h),u})).apply(this,arguments)}function yE(s){return qD(s.path,s.collectionGroup,s.orderBy,s.filters,s.limit,"F",s.startAt,s.endAt)}function iS(s){const r=Be(s);return Be(Be(r.localStore).persistence).pn()}function vE(s,r,i,o){return bE.apply(this,arguments)}function bE(){return(bE=(0,Ce.Z)(function*(s,r,i,o){const u=Be(s);if(u.qo)Oe("SyncEngine","Ignoring unexpected query state notification.");else if(u.ko.has(r))switch(i){case"current":case"not-current":{const h=yield cv(u.localStore),m=xg.createSynthesizedRemoteEventForCurrentChange(r,"current"===i);yield $o(u,h,m);break}case"rejected":yield Ih(u.localStore,r,!0),Ph(u,r,o);break;default:Qe()}})).apply(this,arguments)}function tR(s,r,i){return Mv.apply(this,arguments)}function Mv(){return(Mv=(0,Ce.Z)(function*(s,r,i){const o=ja(s);if(o.qo){for(const u of r){if(o.ko.has(u)){Oe("SyncEngine","Adding an already active target "+u);continue}const h=yield Sh(o.localStore,u),m=yield _c(o.localStore,h);yield $r(o,yE(h),m.targetId,!1),_v(o.remoteStore,m)}for(const u of i)o.ko.has(u)&&(yield Ih(o.localStore,u,!1).then(()=>{Qg(o.remoteStore,u),Ph(o,u)}).catch(fr))}})).apply(this,arguments)}function ja(s){const r=Be(s);return r.remoteStore.remoteSyncer.applyRemoteEvent=lE.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=XM.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=WM.bind(null,r),r.No.Tr=QI.bind(null,r.eventManager),r.No.jo=rE.bind(null,r.eventManager),r}function am(s){const r=Be(s);return r.remoteStore.remoteSyncer.applySuccessfulWrite=YM.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=KM.bind(null,r),r}class sS{constructor(){this.synchronizeTabs=!1}initialize(r){var i=this;return(0,Ce.Z)(function*(){i.N=vc(r.databaseInfo.databaseId),i.sharedClientState=i.Wo(r),i.persistence=i.Go(r),yield i.persistence.start(),i.gcScheduler=i.zo(r),i.localStore=i.Ho(r)})()}zo(r){return null}Ho(r){return OI(this.persistence,new kI,r.initialUser,this.N)}Go(r){return new Bx(Bw.Ns,this.N)}Wo(r){return new $w}terminate(){var r=this;return(0,Ce.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class rR extends sS{constructor(r,i,o){super(),this.Jo=r,this.cacheSizeBytes=i,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(r){var i=()=>super.initialize,o=this;return(0,Ce.Z)(function*(){yield i().call(o,r),yield function(s){return Uw.apply(this,arguments)}(o.localStore),yield o.Jo.initialize(o,r),yield am(o.Jo.syncEngine),yield Mh(o.Jo.remoteStore),yield o.persistence.nn(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}Ho(r){return OI(this.persistence,new kI,r.initialUser,this.N)}zo(r){return new SM(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Go(r){const i=kw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?$i.withCacheSize(this.cacheSizeBytes):$i.DEFAULT;return new ps(this.synchronizeTabs,i,r.clientId,o,r.asyncQueue,Yg(),pv(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(r){return new $w}}class Wx extends rR{constructor(r,i){super(r,i,!1),this.Jo=r,this.cacheSizeBytes=i,this.synchronizeTabs=!0}initialize(r){var i=()=>super.initialize,o=this;return(0,Ce.Z)(function*(){yield i().call(o,r);const u=o.Jo.syncEngine;o.sharedClientState instanceof Hw&&(o.sharedClientState.syncEngine={_i:Vh.bind(null,u),mi:vE.bind(null,u),gi:tR.bind(null,u),pn:iS.bind(null,u),wi:Fh.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.nn(function(){var h=(0,Ce.Z)(function*(m){yield function(s,r){return mE.apply(this,arguments)}(o.Jo.syncEngine,m),o.gcScheduler&&(m&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):m||o.gcScheduler.stop())});return function(m){return h.apply(this,arguments)}}())})()}Wo(r){const i=Yg();if(!Hw.Pt(i))throw new Ne(me.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=kw(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new Hw(i,r.asyncQueue,o,r.clientId,r.initialUser)}}class oS{initialize(r,i){var o=this;return(0,Ce.Z)(function*(){o.localStore||(o.localStore=r.localStore,o.sharedClientState=r.sharedClientState,o.datastore=o.createDatastore(i),o.remoteStore=o.createRemoteStore(i),o.eventManager=o.createEventManager(i),o.syncEngine=o.createSyncEngine(i,!r.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>nS(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=QM.bind(null,o.syncEngine),yield KI(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(r){return new zx}createDatastore(r){const i=vc(r.databaseInfo.databaseId),o=new FM(r.databaseInfo);return new VM(r.credentials,o,i)}createRemoteStore(r){return i=this.localStore,o=this.datastore,u=r.asyncQueue,h=v=>nS(this.syncEngine,v,0),m=Gw.Pt()?new Gw:new yc,new mv(i,o,u,h,m);var i,o,u,h,m}createSyncEngine(r,i){return function(o,u,h,m,v,C,S){const N=new zM(o,u,h,m,v,C);return S&&(N.qo=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,i)}terminate(){return(r=(0,Ce.Z)(function*(i){const o=Be(i);Oe("RemoteStore","RemoteStore shutting down."),o.Kr.add(5),yield Jg(o),o.Qr.shutdown(),o.Wr.set("Unknown")}),function(i){return r.apply(this,arguments)})(this.remoteStore);var r}}function iR(s,r=10240){let i=0;return{read:()=>(0,Ce.Z)(function*(){if(i<s.byteLength){const o={value:s.slice(i,i+r),done:!1};return i+=r,o}return{done:!0}})(),cancel:()=>(0,Ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Rv{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Yo(this.observer.next,r)}error(r){this.observer.error?this.Yo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Xo(){this.muted=!0}Yo(r,i){this.muted||setTimeout(()=>{this.muted||r(i)},0)}}class sR{constructor(r,i){this.Zo=r,this.N=i,this.metadata=new Qn,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(o=>{o&&o.ho()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Zo.cancel()}getMetadata(){var r=this;return(0,Ce.Z)(function*(){return r.metadata.promise})()}Qo(){var r=this;return(0,Ce.Z)(function*(){return yield r.getMetadata(),r.ea()})()}ea(){var r=this;return(0,Ce.Z)(function*(){const i=yield r.na();if(null===i)return null;const o=r.ta.decode(i),u=Number(o);isNaN(u)&&r.sa(`length string (${o}) is not valid number`);const h=yield r.ia(u);return new Cv(JSON.parse(h),i.length+u)})()}ra(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}na(){var r=this;return(0,Ce.Z)(function*(){for(;r.ra()<0&&!(yield r.oa()););if(0===r.buffer.length)return null;const i=r.ra();i<0&&r.sa("Reached the end of bundle when a length string is expected.");const o=r.buffer.slice(0,i);return r.buffer=r.buffer.slice(i),o})()}ia(r){var i=this;return(0,Ce.Z)(function*(){for(;i.buffer.length<r;)(yield i.oa())&&i.sa("Reached the end of bundle when more is expected.");const o=i.ta.decode(i.buffer.slice(0,r));return i.buffer=i.buffer.slice(r),o})()}sa(r){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${r}`)}oa(){var r=this;return(0,Ce.Z)(function*(){const i=yield r.Zo.read();if(!i.done){const o=new Uint8Array(r.buffer.length+i.value.length);o.set(r.buffer),o.set(i.value,r.buffer.length),r.buffer=o}return i.done})()}}class Yx{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var i=this;return(0,Ce.Z)(function*(){if(i.ensureCommitNotCalled(),i.mutations.length>0)throw new Ne(me.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,Ce.Z)(function*(h,m){const v=Be(h),C=uc(v.N)+"/documents",S={documents:m.map(L=>vh(v.N,L))},N=yield v.Ki("BatchGetDocuments",C,S),x=new Map;N.forEach(L=>{const q=function(s,r){return"found"in r?function(i,o){gt(!!o.found);const u=ds(i,o.found.name),h=Hr(o.found.updateTime),m=new Ei({mapValue:{fields:o.found.fields}});return Sn.newFoundDocument(u,h,m)}(s,r):"missing"in r?function(i,o){gt(!!o.missing),gt(!!o.readTime);const u=ds(i,o.missing),h=Hr(o.readTime);return Sn.newNoDocument(u,h)}(s,r):Qe()}(v.N,L);x.set(q.key.toString(),q)});const F=[];return m.forEach(L=>{const q=x.get(L.toString());gt(!!q),F.push(q)}),F}),function(h,m){return u.apply(this,arguments)})(i.datastore,r);var u;return o.forEach(u=>i.recordVersion(u)),o})()}set(r,i){this.write(i.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,i){try{this.write(i.toMutation(r,this.preconditionForUpdate(r)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(r.toString())}delete(r){this.write(new gh(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ce.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const i=r.readVersions;var o;r.mutations.forEach(o=>{i.delete(o.key.toString())}),i.forEach((o,u)=>{const h=qe.fromPath(u);r.mutations.push(new Rg(h,r.precondition(h)))}),yield(o=(0,Ce.Z)(function*(u,h){const m=Be(u),v=uc(m.N)+"/documents",C={writes:h.map(S=>Pg(m.N,S))};yield m.Li("Commit",v,C)}),function(u,h){return o.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let i;if(r.isFoundDocument())i=r.version;else{if(!r.isNoDocument())throw Qe();i=It.min()}const o=this.readVersions.get(r.key.toString());if(o){if(!i.isEqual(o))throw new Ne(me.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),i)}precondition(r){const i=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&i?er.updateTime(i):er.none()}preconditionForUpdate(r){const i=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&i){if(i.isEqual(It.min()))throw new Ne(me.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return er.updateTime(i)}return er.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class Kx{constructor(r,i,o,u){this.asyncQueue=r,this.datastore=i,this.updateFunction=o,this.deferred=u,this.aa=5,this.rr=new gv(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var r=this;this.rr.Xi((0,Ce.Z)(function*(){const i=new Yx(r.datastore),o=r.ua(i);o&&o.then(u=>{r.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{r.deferred.resolve(u)}).catch(h=>{r.ha(h)}))}).catch(u=>{r.ha(u)})}))}ua(r){try{const i=this.updateFunction(r);return!ic(i)&&i.catch&&i.then?i:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(i){return this.deferred.reject(i),null}}ha(r){this.aa>0&&this.la(r)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(r)}la(r){if("FirebaseError"===r.name){const i=r.code;return"aborted"===i||"failed-precondition"===i||!eI(i)}return!1}}class Jx{constructor(r,i,o){var u=this;this.credentials=r,this.asyncQueue=i,this.databaseInfo=o,this.user=Vr.UNAUTHENTICATED,this.clientId=JN.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(i,function(){var h=(0,Ce.Z)(function*(m){Oe("FirestoreClient","Received user=",m.uid),yield u.credentialListener(m),u.user=m});return function(m){return h.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ce.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(me.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const i=new Qn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.shutdown(),i.resolve()}catch(o){const u=tm(o,"Failed to shutdown persistence");i.reject(u)}})),i.promise}}function oR(s,r){return wE.apply(this,arguments)}function wE(){return(wE=(0,Ce.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress(),Oe("FirestoreClient","Initializing OfflineComponentProvider");const i=yield s.getConfiguration();yield r.initialize(i);let o=i.initialUser;s.setCredentialChangeListener(function(){var u=(0,Ce.Z)(function*(h){o.isEqual(h)||(yield Pw(r.localStore,h),o=h)});return function(h){return u.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>s.terminate()),s.offlineComponents=r})).apply(this,arguments)}function aR(s,r){return aS.apply(this,arguments)}function aS(){return(aS=(0,Ce.Z)(function*(s,r){s.asyncQueue.verifyOperationInProgress();const i=yield lS(s);Oe("FirestoreClient","Initializing OnlineComponentProvider");const o=yield s.getConfiguration();yield r.initialize(i,o),s.setCredentialChangeListener(u=>{return(h=(0,Ce.Z)(function*(m,v){const C=Be(m);C.asyncQueue.verifyOperationInProgress(),Oe("RemoteStore","RemoteStore received new credentials");const S=Kl(C);C.Kr.add(3),yield Jg(C),S&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(v),C.Kr.delete(3),yield Kg(C)}),function(m,v){return h.apply(this,arguments)})(r.remoteStore,u);var h}),s.onlineComponents=r})).apply(this,arguments)}function lS(s){return uS.apply(this,arguments)}function uS(){return(uS=(0,Ce.Z)(function*(s){return s.offlineComponents||(Oe("FirestoreClient","Using default OfflineComponentProvider"),yield oR(s,new sS)),s.offlineComponents})).apply(this,arguments)}function a(s){return l.apply(this,arguments)}function l(){return(l=(0,Ce.Z)(function*(s){return s.onlineComponents||(Oe("FirestoreClient","Using default OnlineComponentProvider"),yield aR(s,new oS)),s.onlineComponents})).apply(this,arguments)}function d(s){return lS(s).then(r=>r.persistence)}function f(s){return lS(s).then(r=>r.localStore)}function g(s){return a(s).then(r=>r.remoteStore)}function _(s){return a(s).then(r=>r.syncEngine)}function b(s){return E.apply(this,arguments)}function E(){return(E=(0,Ce.Z)(function*(s){const r=yield a(s),i=r.eventManager;return i.onListen=oE.bind(null,r.syncEngine),i.onUnlisten=Tv.bind(null,r.syncEngine),i})).apply(this,arguments)}function k(s,r,i={}){const o=new Qn;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(u,h,m,v,C){const S=new Rv({next:x=>{h.enqueueAndForget(()=>wv(u,N));const F=x.docs.has(m);!F&&x.fromCache?C.reject(new Ne(me.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&x.fromCache&&v&&"server"===v.source?C.reject(new Ne(me.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(x)},error:x=>C.reject(x)}),N=new rm(Dg(m.path),S,{includeMetadataChanges:!0,uo:!0});return bv(u,N)}(yield b(s),s.asyncQueue,r,i,o)})),o.promise}function j(s,r,i={}){const o=new Qn;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(u,h,m,v,C){const S=new Rv({next:x=>{h.enqueueAndForget(()=>wv(u,N)),x.fromCache&&"server"===v.source?C.reject(new Ne(me.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(x)},error:x=>C.reject(x)}),N=new rm(m,S,{includeMetadataChanges:!0,uo:!0});return bv(u,N)}(yield b(s),s.asyncQueue,r,i,o)})),o.promise}class Te{constructor(r,i,o,u,h,m,v,C){this.databaseId=r,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=v,this.useFetchStreams=C}}class ze{constructor(r,i){this.projectId=r,this.database=i||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof ze&&r.projectId===this.projectId&&r.database===this.database}}const pt=new Map;function kt(s,r,i){if(!i)throw new Ne(me.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${r}.`)}function rr(s,r,i,o){if(!0===r&&!0===o)throw new Ne(me.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function gs(s){if(!qe.isDocumentKey(s))throw new Ne(me.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Uh(s){if(qe.isDocumentKey(s))throw new Ne(me.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Ha(s){if(void 0===s)return"undefined";if(null===s)return"null";if("string"==typeof s)return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if("number"==typeof s||"boolean"==typeof s)return""+s;if("object"==typeof s){if(s instanceof Array)return"an array";{const r=function(i){if(i.constructor){const o=/function\s+([^\s(]+)\s*\(/.exec(i.constructor.toString());if(o&&o.length>1)return o[1]}return null}(s);return r?`a custom ${r} object`:"an object"}}return"function"==typeof s?"a function":Qe()}function Ft(s,r){if("_delegate"in s&&(s=s._delegate),!(s instanceof r)){if(r.name===s.constructor.name)throw new Ne(me.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Ha(s);throw new Ne(me.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${i}`)}}return s}function Cc(s,r){if(r<=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${s}() requires a positive number, but it was: ${r}.`)}class xv{constructor(r){var i;if(void 0===r.host){if(void 0!==r.ssl)throw new Ne(me.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(i=r.ssl)||void 0===i||i;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Ne(me.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,rr("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Tc{constructor(r,i){this._credentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,r instanceof ze?this._databaseId=r:(this._app=r,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new Ne(me.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ze(o.options.projectId)}(r))}get app(){if(!this._app)throw new Ne(me.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(r),void 0!==r.credentials&&(this._credentials=function(i){if(!i)return new Ix;switch(i.type){case"gapi":const o=i.client;return gt(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new YN(o,i.sessionIndex||"0",i.iamToken||null);case"provider":return i.client;default:throw new Ne(me.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const i=pt.get(r);i&&(Oe("ComponentProvider","Removing Datastore"),pt.delete(r),i.terminate())}(this),Promise.resolve()}}class cn{constructor(r,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ql(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new cn(this.firestore,r,this._key)}}class Tr{constructor(r,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=r}withConverter(r){return new Tr(this.firestore,r,this._query)}}class Ql extends Tr{constructor(r,i,o){super(r,i,Dg(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new cn(this.firestore,null,new qe(r))}withConverter(r){return new Ql(this.firestore,r,this._path)}}function Qx(s,r,...i){if(s=(0,Qt.m9)(s),kt("collection","path",r),s instanceof Tc){const o=Yt.fromString(r,...i);return Uh(o),new Ql(s,null,o)}{if(!(s instanceof cn||s instanceof Ql))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=Yt.fromString(s.path,...i).child(Yt.fromString(r));return Uh(o),new Ql(s.firestore,null,o)}}function cS(s,r,...i){if(s=(0,Qt.m9)(s),1===arguments.length&&(r=JN.I()),kt("doc","path",r),s instanceof Tc){const o=Yt.fromString(r,...i);return gs(o),new cn(s,null,new qe(o))}{if(!(s instanceof cn||s instanceof Ql))throw new Ne(me.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=s._path.child(Yt.fromString(r,...i));return gs(o),new cn(s.firestore,s instanceof Ql?s.converter:null,new qe(o))}}function Xx(s,r){return s=(0,Qt.m9)(s),r=(0,Qt.m9)(r),(s instanceof cn||s instanceof Ql)&&(r instanceof cn||r instanceof Ql)&&s.firestore===r.firestore&&s.path===r.path&&s.converter===r.converter}function ek(s,r){return s=(0,Qt.m9)(s),r=(0,Qt.m9)(r),s instanceof Tr&&r instanceof Tr&&s.firestore===r.firestore&&Ig(s._query,r._query)&&s.converter===r.converter}class OP{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new gv(this,"async_queue_retry"),this.Ea=()=>{const i=pv();i&&Oe("AsyncQueue","Visibility state changed to "+i.visibilityState),this.rr.tr()};const r=pv();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ta(),this.Ia(r)}enterRestrictedMode(r){if(!this.wa){this.wa=!0,this.ya=r||!1;const i=pv();i&&"function"==typeof i.removeEventListener&&i.removeEventListener("visibilitychange",this.Ea)}}enqueue(r){if(this.Ta(),this.wa)return new Promise(()=>{});const i=new Qn;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(r().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.da.push(r),this.Aa()))}Aa(){var r=this;return(0,Ce.Z)(function*(){if(0!==r.da.length){try{yield r.da[0](),r.da.shift(),r.rr.reset()}catch(i){if(!hc(i))throw i;Oe("AsyncQueue","Operation failed with retryable error: "+i)}r.da.length>0&&r.rr.Xi(()=>r.Aa())}})()}Ia(r){const i=this.fa.then(()=>(this.ga=!0,r().catch(o=>{throw this.ma=o,this.ga=!1,gn("INTERNAL UNHANDLED ERROR: ",function(u){let h=u.message||"";return u.stack&&(h=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),h}(o)),o}).then(o=>(this.ga=!1,o))));return this.fa=i,i}enqueueAfterDelay(r,i,o){this.Ta(),this.pa.indexOf(r)>-1&&(i=0);const u=tE.createAndSchedule(this,r,i,o,h=>this.Ra(h));return this._a.push(u),u}Ta(){this.ma&&Qe()}verifyOperationInProgress(){}Pa(){var r=this;return(0,Ce.Z)(function*(){let i;do{i=r.fa,yield i}while(i!==r.fa)})()}ba(r){for(const i of this._a)if(i.timerId===r)return!0;return!1}va(r){return this.Pa().then(()=>{this._a.sort((i,o)=>i.targetTimeMs-o.targetTimeMs);for(const i of this._a)if(i.skipDelay(),"all"!==r&&i.timerId===r)break;return this.Pa()})}Va(r){this.pa.push(r)}Ra(r){const i=this._a.indexOf(r);this._a.splice(i,1)}}function lR(s){return function(r,i){if("object"!=typeof r||null===r)return!1;const o=r;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(s)}class PP{constructor(){this._progressObserver={},this._taskCompletionResolver=new Qn,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,i,o){this._progressObserver={next:r,error:i,complete:o}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,i){return this._taskCompletionResolver.promise.then(r,i)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class ir extends Tc{constructor(r,i){super(r,i),this.type="firestore",this._queue=new OP,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||tk(this),this._firestoreClient.terminate()}}function Gr(s){return s._firestoreClient||tk(s),s._firestoreClient.verifyNotTerminated(),s._firestoreClient}function tk(s){var r;const i=s._freezeSettings(),o=(h=(null===(r=s._app)||void 0===r?void 0:r.options.appId)||"",new Te(s._databaseId,h,s._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var h,v;s._firestoreClient=new Jx(s._credentials,s._queue,o)}function nk(s,r,i){const o=new Qn;return s.asyncQueue.enqueue((0,Ce.Z)(function*(){try{yield oR(s,i),yield aR(s,r),o.resolve()}catch(u){if(!("FirebaseError"===(h=u).name?h.code===me.FAILED_PRECONDITION||h.code===me.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&h instanceof DOMException)||22===h.code||20===h.code||11===h.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var h})).then(()=>o.promise)}function rk(s){if(s._initialized||s._terminated)throw new Ne(me.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Dc{constructor(...r){for(let i=0;i<r.length;++i)if(0===r[i].length)throw new Ne(me.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Xl{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Xl(wr.fromBase64String(r))}catch(i){throw new Ne(me.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(r){return new Xl(wr.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class lm{constructor(r){this._methodName=r}}class dS{constructor(r,i){if(!isFinite(r)||r<-90||r>90)throw new Ne(me.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(i)||i<-180||i>180)throw new Ne(me.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=r,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Gt(this._lat,r._lat)||Gt(this._long,r._long)}}const ZP=/^__.*__$/;class qP{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return null!==this.fieldMask?new ql(r,this.data,this.fieldMask,i,this.fieldTransforms):new Mg(r,this.data,i,this.fieldTransforms)}}class ik{constructor(r,i,o){this.data=r,this.fieldMask=i,this.fieldTransforms=o}toMutation(r,i){return new ql(r,this.data,this.fieldMask,i,this.fieldTransforms)}}function sk(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class hS{constructor(r,i,o,u,h,m){this.settings=r,this.databaseId=i,this.N=o,this.ignoreUndefinedProperties=u,void 0===h&&this.Sa(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(r){return new hS(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.ka(r),u}$a(r){var i;const o=null===(i=this.path)||void 0===i?void 0:i.child(r),u=this.Ca({path:o,xa:!1});return u.Sa(),u}Oa(r){return this.Ca({path:void 0,xa:!0})}Fa(r){return pS(r,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(r){return void 0!==this.fieldMask.find(i=>r.isPrefixOf(i))||void 0!==this.fieldTransforms.find(i=>r.isPrefixOf(i.field))}Sa(){if(this.path)for(let r=0;r<this.path.length;r++)this.ka(this.path.get(r))}ka(r){if(0===r.length)throw this.Fa("Document fields must not be empty");if(sk(this.Da)&&ZP.test(r))throw this.Fa('Document fields cannot begin and end with "__"')}}class zP{constructor(r,i,o){this.databaseId=r,this.ignoreUndefinedProperties=i,this.N=o||vc(r)}Ba(r,i,o,u=!1){return new hS({Da:r,methodName:i,La:o,path:Br.emptyPath(),xa:!1,Ma:u},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function um(s){const r=s._freezeSettings(),i=vc(s._databaseId);return new zP(s._databaseId,!!r.ignoreUndefinedProperties,i)}function fS(s,r,i,o,u,h={}){const m=s.Ba(h.merge||h.mergeFields?2:0,r,i,u);hR("Data must be an object, but it was:",m,o);const v=lk(o,m);let C,S;if(h.merge)C=new Bl(m.fieldMask),S=m.fieldTransforms;else if(h.mergeFields){const N=[];for(const x of h.mergeFields){const F=fR(r,x,i);if(!m.contains(F))throw new Ne(me.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);ck(N,F)||N.push(F)}C=new Bl(N),S=m.fieldTransforms.filter(x=>C.covers(x.field))}else C=null,S=m.fieldTransforms;return new qP(new Ei(v),C,S)}class CE extends lm{_toFieldTransform(r){if(2!==r.Da)throw r.Fa(1===r.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof CE}}function ok(s,r,i){return new hS({Da:3,La:r.settings.La,methodName:s._methodName,xa:i},r.databaseId,r.N,r.ignoreUndefinedProperties)}class uR extends lm{_toFieldTransform(r){return new Sg(r.path,new ac)}isEqual(r){return r instanceof uR}}class WP extends lm{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=ok(this,r,!0),o=this.Ua.map(h=>cm(h,i)),u=new Hl(o);return new Sg(r.path,u)}isEqual(r){return this===r}}class YP extends lm{constructor(r,i){super(r),this.Ua=i}_toFieldTransform(r){const i=ok(this,r,!0),o=this.Ua.map(h=>cm(h,i)),u=new $l(o);return new Sg(r.path,u)}isEqual(r){return this===r}}class KP extends lm{constructor(r,i){super(r),this.qa=i}_toFieldTransform(r){const i=new lc(r.N,JD(r.N,this.qa));return new Sg(r.path,i)}isEqual(r){return this===r}}function cR(s,r,i,o){const u=s.Ba(1,r,i);hR("Data must be an object, but it was:",u,o);const h=[],m=Ei.empty();rc(o,(C,S)=>{const N=pR(r,C,i);S=(0,Qt.m9)(S);const x=u.$a(N);if(S instanceof CE)h.push(N);else{const F=cm(S,x);null!=F&&(h.push(N),m.set(N,F))}});const v=new Bl(h);return new ik(m,v,u.fieldTransforms)}function dR(s,r,i,o,u,h){const m=s.Ba(1,r,i),v=[fR(r,o,i)],C=[u];if(h.length%2!=0)throw new Ne(me.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<h.length;F+=2)v.push(fR(r,h[F])),C.push(h[F+1]);const S=[],N=Ei.empty();for(let F=v.length-1;F>=0;--F)if(!ck(S,v[F])){const L=v[F];let q=C[F];q=(0,Qt.m9)(q);const re=m.$a(L);if(q instanceof CE)S.push(L);else{const be=cm(q,re);null!=be&&(S.push(L),N.set(L,be))}}const x=new Bl(S);return new ik(N,x,m.fieldTransforms)}function ak(s,r,i,o=!1){return cm(i,s.Ba(o?4:3,r))}function cm(s,r){if(uk(s=(0,Qt.m9)(s)))return hR("Unsupported field value:",r,s),lk(s,r);if(s instanceof lm)return function(i,o){if(!sk(o.Da))throw o.Fa(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Fa(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(s,r),null;if(void 0===s&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),s instanceof Array){if(r.settings.xa&&4!==r.Da)throw r.Fa("Nested arrays are not supported");return function(i,o){const u=[];let h=0;for(const m of i){let v=cm(m,o.Oa(h));null==v&&(v={nullValue:"NULL_VALUE"}),u.push(v),h++}return{arrayValue:{values:u}}}(s,r)}return function(i,o){if(null===(i=(0,Qt.m9)(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return JD(o.N,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const u=br.fromDate(i);return{timestampValue:yh(o.N,u)}}if(i instanceof br){const u=new br(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:yh(o.N,u)}}if(i instanceof dS)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Xl)return{bytesValue:Og(o.N,i._byteString)};if(i instanceof cn){const u=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(u))throw o.Fa(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Qy(i.firestore._databaseId||o.databaseId,i._key.path)}}throw o.Fa(`Unsupported field value: ${Ha(i)}`)}(s,r)}function lk(s,r){const i={};return FD(s)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):rc(s,(o,u)=>{const h=cm(u,r.Na(o));null!=h&&(i[o]=h)}),{mapValue:{fields:i}}}function uk(s){return!("object"!=typeof s||null===s||s instanceof Array||s instanceof Date||s instanceof br||s instanceof dS||s instanceof Xl||s instanceof cn||s instanceof lm)}function hR(s,r,i){if(!uk(i)||"object"!=typeof(o=i)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Ha(i);throw r.Fa("an object"===o?s+" a custom object":s+" "+o)}var o}function fR(s,r,i){if((r=(0,Qt.m9)(r))instanceof Dc)return r._internalPath;if("string"==typeof r)return pR(s,r);throw pS("Field path arguments must be of type string or FieldPath.",s,!1,void 0,i)}const JP=new RegExp("[~\\*/\\[\\]]");function pR(s,r,i){if(r.search(JP)>=0)throw pS(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Dc(...r.split("."))._internalPath}catch(o){throw pS(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function pS(s,r,i,o,u){const h=o&&!o.isEmpty(),m=void 0!==u;let v=`Function ${r}() called with invalid data`;i&&(v+=" (via `toFirestore()`)"),v+=". ";let C="";return(h||m)&&(C+=" (found",h&&(C+=` in field ${o}`),m&&(C+=` in document ${u}`),C+=")"),new Ne(me.INVALID_ARGUMENT,v+s+C)}function ck(s,r){return s.some(i=>i.isEqual(r))}class TE{constructor(r,i,o,u,h){this._firestore=r,this._userDataWriter=i,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new QP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const i=this._document.data.field(gS("DocumentSnapshot.get",r));if(null!==i)return this._userDataWriter.convertValue(i)}}}class QP extends TE{data(){return super.data()}}function gS(s,r){return"string"==typeof r?pR(s,r):r instanceof Dc?r._internalPath:r._delegate._internalPath}class dm{constructor(r,i){this.hasPendingWrites=r,this.fromCache=i}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Ic extends TE{constructor(r,i,o,u,h,m){super(r,i,o,u,m),this._firestore=r,this._firestoreImpl=r,this.metadata=h}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const i=new DE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,i={}){if(this._document){const o=this._document.data.field(gS("DocumentSnapshot.get",r));if(null!==o)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}}class DE extends Ic{data(r={}){return super.data(r)}}class Bh{constructor(r,i,o,u){this._firestore=r,this._userDataWriter=i,this._snapshot=u,this.metadata=new dm(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const r=[];return this.forEach(i=>r.push(i)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,i){this._snapshot.docs.forEach(o=>{r.call(i,new DE(this._firestore,this._userDataWriter,o.key,o,new dm(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const i=!!r.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new Ne(me.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>({type:"added",doc:new DE(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dm(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:h++}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||3!==m.type).map(m=>{const v=new DE(o._firestore,o._userDataWriter,m.doc.key,m.doc,new dm(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let C=-1,S=-1;return 0!==m.type&&(C=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),1!==m.type&&(h=h.add(m.doc),S=h.indexOf(m.doc.key)),{type:XP(m.type),doc:v,oldIndex:C,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function XP(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}function dk(s,r){return s instanceof Ic&&r instanceof Ic?s._firestore===r._firestore&&s._key.isEqual(r._key)&&(null===s._document?null===r._document:s._document.isEqual(r._document))&&s._converter===r._converter:s instanceof Bh&&r instanceof Bh&&s._firestore===r._firestore&&ek(s.query,r.query)&&s.metadata.isEqual(r.metadata)&&s._snapshot.isEqual(r._snapshot)}function hk(s){if(Gy(s)&&0===s.explicitOrderBy.length)throw new Ne(me.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class IE{}function jh(s,...r){for(const i of r)s=i._apply(s);return s}class eF extends IE{constructor(r,i,o){super(),this.Ka=r,this.ja=i,this.Qa=o,this.type="where"}_apply(r){const i=um(r.firestore),o=function(u,h,m,v,C,S,N){let x;if(C.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on FieldPath.documentId().`);if("in"===S||"not-in"===S){yk(N,S);const L=[];for(const q of N)L.push(_k(v,u,q));x={arrayValue:{values:L}}}else x=_k(v,u,N)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||yk(N,S),x=ak(m,"where",N,"in"===S||"not-in"===S);const F=Ci.create(C,S,x);return function(L,q){if(q.v()){const be=zD(L);if(null!==be&&!be.isEqual(q.field))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${be.toString()}' and '${q.field.toString()}'`);const xe=jl(L);null!==xe&&vk(0,q.field,xe)}const re=function(be,xe){for(const Pe of be.filters)if(xe.indexOf(Pe.op)>=0)return Pe.op;return null}(L,function(be){switch(be){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(q.op));if(null!==re)throw new Ne(me.INVALID_ARGUMENT,re===q.op?`Invalid query. You cannot use more than one '${q.op.toString()}' filter.`:`Invalid query. You cannot use '${q.op.toString()}' filters with '${re.toString()}' filters.`)}(u,F),F}(r._query,0,i,r.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Tr(r.firestore,r.converter,function(u,h){const m=u.filters.concat([h]);return new Lo(u.path,u.collectionGroup,u.explicitOrderBy.slice(),m,u.limit,u.limitType,u.startAt,u.endAt)}(r._query,o))}}class nF extends IE{constructor(r,i){super(),this.Ka=r,this.Wa=i,this.type="orderBy"}_apply(r){const i=function(o,u,h){if(null!==o.startAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const m=new oc(u,h);return function(v,C){if(null===jl(v)){const S=zD(v);null!==S&&vk(0,S,C.field)}}(o,m),m}(r._query,this.Ka,this.Wa);return new Tr(r.firestore,r.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Lo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(r._query,i))}}class fk extends IE{constructor(r,i,o){super(),this.type=r,this.Ga=i,this.za=o}_apply(r){return new Tr(r.firestore,r.converter,aw(r._query,this.Ga,this.za))}}class pk extends IE{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=mk(r,this.type,this.Ha,this.Ja);return new Tr(r.firestore,r.converter,(u=i,new Lo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class gk extends IE{constructor(r,i,o){super(),this.type=r,this.Ha=i,this.Ja=o}_apply(r){const i=mk(r,this.type,this.Ha,this.Ja);return new Tr(r.firestore,r.converter,(u=i,new Lo((o=r._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function mk(s,r,i,o){if(i[0]=(0,Qt.m9)(i[0]),i[0]instanceof TE)return function(u,h,m,v,C){if(!v)throw new Ne(me.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${m}().`);const S=[];for(const N of hh(u))if(N.field.isKeyField())S.push(Uy(h,v.key));else{const x=v.data.field(N.field);if(X1(x))throw new Ne(me.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===x){const F=N.field.canonicalString();throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}S.push(x)}return new dh(S,C)}(s._query,s.firestore._databaseId,r,i[0]._document,o);{const u=um(s.firestore);return function(h,m,v,C,S,N){const x=h.explicitOrderBy;if(S.length>x.length)throw new Ne(me.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let L=0;L<S.length;L++){const q=S[L];if(x[L].field.isKeyField()){if("string"!=typeof q)throw new Ne(me.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof q}`);if(!Zy(h)&&-1!==q.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${q}' contains a slash.`);const re=h.path.child(Yt.fromString(q));if(!qe.isDocumentKey(re))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${re}' is not because it contains an odd number of segments.`);const be=new qe(re);F.push(Uy(m,be))}else{const re=ak(v,C,q);F.push(re)}}return new dh(F,N)}(s._query,s.firestore._databaseId,u,r,i,o)}}function _k(s,r,i){if("string"==typeof(i=(0,Qt.m9)(i))){if(""===i)throw new Ne(me.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zy(r)&&-1!==i.indexOf("/"))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const o=r.path.child(Yt.fromString(i));if(!qe.isDocumentKey(o))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return Uy(s,new qe(o))}if(i instanceof cn)return Uy(s,i._key);throw new Ne(me.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ha(i)}.`)}function yk(s,r){if(!Array.isArray(s)||0===s.length)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(s.length>10)throw new Ne(me.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function vk(s,r,i){if(!i.isEqual(r))throw new Ne(me.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${i.toString()}' instead.`)}class gR{convertValue(r,i="none"){switch(sc(r)){case 0:return null;case 1:return r.booleanValue;case 2:return Xn(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,i);case 5:return r.stringValue;case 6:return this.convertBytes(bg(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,i);case 10:return this.convertObject(r.mapValue,i);default:throw Qe()}}convertObject(r,i){const o={};return rc(r.fields,(u,h)=>{o[u]=this.convertValue(h,i)}),o}convertGeoPoint(r){return new dS(Xn(r.latitude),Xn(r.longitude))}convertArray(r,i){return(r.values||[]).map(o=>this.convertValue(o,i))}convertServerTimestamp(r,i){switch(i){case"previous":const o=VD(r);return null==o?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(wg(r));default:return null}}convertTimestamp(r){const i=Oo(r);return new br(i.seconds,i.nanos)}convertDocumentKey(r,i){const o=Yt.fromString(r);gt(mM(o));const u=new ze(o.get(1),o.get(3)),h=new qe(o.popFirst(5));return u.isEqual(i)||gn(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function mS(s,r,i){let o;return o=s?i&&(i.merge||i.mergeFields)?s.toFirestore(r,i):s.toFirestore(r):r,o}class cF extends gR{constructor(r){super(),this.firestore=r}convertBytes(r){return new Xl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new cn(this.firestore,null,i)}}class bk{constructor(r,i){this._firestore=r,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=um(r)}set(r,i,o){this._verifyNotCommitted();const u=Hh(r,this._firestore),h=mS(u.converter,i,o),m=fS(this._dataReader,"WriteBatch.set",u._key,h,null!==u.converter,o);return this._mutations.push(m.toMutation(u._key,er.none())),this}update(r,i,o,...u){this._verifyNotCommitted();const h=Hh(r,this._firestore);let m;return m="string"==typeof(i=(0,Qt.m9)(i))||i instanceof Dc?dR(this._dataReader,"WriteBatch.update",h._key,i,o,u):cR(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,er.exists(!0))),this}delete(r){this._verifyNotCommitted();const i=Hh(r,this._firestore);return this._mutations=this._mutations.concat(new gh(i._key,er.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ne(me.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hh(s,r){if((s=(0,Qt.m9)(s)).firestore!==r)throw new Ne(me.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return s}class hm extends gR{constructor(r){super(),this.firestore=r}convertBytes(r){return new Xl(r)}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return new cn(this.firestore,null,i)}}function wk(s,r,i){s=Ft(s,cn);const o=Ft(s.firestore,ir),u=mS(s.converter,r,i);return kv(o,[fS(um(o),"setDoc",s._key,u,null!==s.converter,i).toMutation(s._key,er.none())])}function Ek(s,r,i,...o){s=Ft(s,cn);const u=Ft(s.firestore,ir),h=um(u);let m;return m="string"==typeof(r=(0,Qt.m9)(r))||r instanceof Dc?dR(h,"updateDoc",s._key,r,i,o):cR(h,"updateDoc",s._key,r),kv(u,[m.toMutation(s._key,er.exists(!0))])}function Ck(s,...r){var i,o,u;s=(0,Qt.m9)(s);let h={includeMetadataChanges:!1},m=0;"object"!=typeof r[m]||lR(r[m])||(h=r[m],m++);const v={includeMetadataChanges:h.includeMetadataChanges};if(lR(r[m])){const x=r[m];r[m]=null===(i=x.next)||void 0===i?void 0:i.bind(x),r[m+1]=null===(o=x.error)||void 0===o?void 0:o.bind(x),r[m+2]=null===(u=x.complete)||void 0===u?void 0:u.bind(x)}let C,S,N;if(s instanceof cn)S=Ft(s.firestore,ir),N=Dg(s._key.path),C={next:x=>{r[m]&&r[m](mR(S,s,x))},error:r[m+1],complete:r[m+2]};else{const x=Ft(s,Tr);S=Ft(x.firestore,ir),N=x._query;const F=new hm(S);C={next:L=>{r[m]&&r[m](new Bh(S,F,x,L))},error:r[m+1],complete:r[m+2]},hk(s._query)}return function(x,F,L,q){const re=new Rv(q),be=new rm(F,re,L);return x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return bv(yield b(x),be)})),()=>{re.Xo(),x.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return wv(yield b(x),be)}))}}(Gr(S),N,v,C)}function kv(s,r){return function(i,o){const u=new Qn;return i.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,r,i){return sm.apply(this,arguments)}(yield _(i),o,u)})),u.promise}(Gr(s),r)}function mR(s,r,i){const o=i.docs.get(r._key),u=new hm(s);return new Ic(s,u,r._key,o,new dm(i.hasPendingWrites,i.fromCache),r.converter)}class bF extends class{constructor(r,i){this._firestore=r,this._transaction=i,this._dataReader=um(r)}get(r){const i=Hh(r,this._firestore),o=new cF(this._firestore);return this._transaction.lookup([i._key]).then(u=>{if(!u||1!==u.length)return Qe();const h=u[0];if(h.isFoundDocument())return new TE(this._firestore,o,h.key,h,i.converter);if(h.isNoDocument())return new TE(this._firestore,o,i._key,null,i.converter);throw Qe()})}set(r,i,o){const u=Hh(r,this._firestore),h=mS(u.converter,i,o),m=fS(this._dataReader,"Transaction.set",u._key,h,null!==u.converter,o);return this._transaction.set(u._key,m),this}update(r,i,o,...u){const h=Hh(r,this._firestore);let m;return m="string"==typeof(i=(0,Qt.m9)(i))||i instanceof Dc?dR(this._dataReader,"Transaction.update",h._key,i,o,u):cR(this._dataReader,"Transaction.update",h._key,i),this._transaction.update(h._key,m),this}delete(r){const i=Hh(r,this._firestore);return this._transaction.delete(i._key),this}}{constructor(r,i){super(r,i),this._firestore=r}get(r){const i=Hh(r,this._firestore),o=new hm(this._firestore);return super.get(r).then(u=>new Ic(this._firestore,o,i._key,u._document,new dm(!1,!1),i.converter))}}function _R(s,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new Ne("invalid-argument",`Invalid options passed to function ${s}(): You cannot specify both "merge" and "mergeFields".`);return r}function Tk(){if("undefined"==typeof Uint8Array)throw new Ne("unimplemented","Uint8Arrays are not available in this environment.")}function Dk(){if("undefined"==typeof atob)throw new Ne("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(s){tc=s})(ay.SDK_VERSION),(0,ay._registerComponent)(new QT.wA("firestore",(s,{options:r})=>{const i=s.getProvider("app").getImmediate(),o=new ir(i,new Sx(s.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:!0},r),o._setSettings(r),o},"PUBLIC")),(0,ay.registerVersion)("@firebase/firestore","3.0.0",void 0);class SE{constructor(r){this._delegate=r}static fromBase64String(r){return Dk(),new SE(Xl.fromBase64String(r))}static fromUint8Array(r){return Tk(),new SE(Xl.fromUint8Array(r))}toBase64(){return Dk(),this._delegate.toBase64()}toUint8Array(){return Tk(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function yR(s){return function(s,r){if("object"!=typeof s||null===s)return!1;const i=s;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(s)}class RF{enableIndexedDbPersistence(r,i){return function(s,r){rk(s=Ft(s,ir));const i=Gr(s),o=s._freezeSettings(),u=new oS;return nk(i,u,new rR(u,o.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:i})}enableMultiTabIndexedDbPersistence(r){return function(s){rk(s=Ft(s,ir));const r=Gr(s),i=s._freezeSettings(),o=new oS;return nk(r,o,new Wx(o,i.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(s){if(s._initialized&&!s._terminated)throw new Ne(me.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new Qn;return s._queue.enqueueAndForgetEvenWhileRestricted((0,Ce.Z)(function*(){try{yield(i=(0,Ce.Z)(function*(o){if(!Bo.Pt())return Promise.resolve();const u=o+"main";yield Bo.delete(u)}),function(o){return i.apply(this,arguments)})(kw(s._databaseId,s._persistenceKey)),r.resolve()}catch(i){r.reject(i)}var i})),r.promise}(r._delegate)}}class Ik{constructor(r,i,o){this._delegate=i,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},r instanceof ze||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const i=this._delegate._getSettings();!r.merge&&i.host!==r.host&&_g("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},i),r)).merge,this._delegate._setSettings(r)}useEmulator(r,i,o={}){!function(s,r,i,o={}){var u;const h=(s=Ft(s,Tc))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&_g("Host has been set in both settings() and useEmulator(), emulator host will be used"),s._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${i}`,ssl:!1})),o.mockUserToken){let m,v;if("string"==typeof o.mockUserToken)m=o.mockUserToken,v=Vr.MOCK_USER;else{m=(0,Qt.Sg)(o.mockUserToken,null===(u=s._app)||void 0===u?void 0:u.options.projectId);const C=o.mockUserToken.sub||o.mockUserToken.user_id;if(!C)throw new Ne(me.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new Vr(C)}s._credentials=new vt(new WN(m,v))}}(this._delegate,r,i,o)}enableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ce.Z)(function*(){const r=yield d(s),i=yield g(s);return r.setNetworkEnabled(!0),function(o){const u=Be(o);return u.Kr.delete(0),Kg(u)}(i)}))}(Gr(s=Ft(s,ir)))}(this._delegate)}disableNetwork(){return function(s){return function(s){return s.asyncQueue.enqueue((0,Ce.Z)(function*(){const r=yield d(s),i=yield g(s);return r.setNetworkEnabled(!1),(o=(0,Ce.Z)(function*(u){const h=Be(u);h.Kr.add(0),yield Jg(h),h.Wr.set("Offline")}),function(u){return o.apply(this,arguments)})(i);var o}))}(Gr(s=Ft(s,ir)))}(this._delegate)}enablePersistence(r){let i=!1,o=!1;return r&&(i=!!r.synchronizeTabs,o=!!r.experimentalForceOwningTab,rr("synchronizeTabs",i,"experimentalForceOwningTab",o)),i?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(s){return function(r){const i=new Qn;return r.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return function(s,r){return Ho.apply(this,arguments)}(yield _(r),i)})),i.promise}(Gr(s=Ft(s,ir)))}(this._delegate)}onSnapshotsInSync(r){return function(s,r){return function(s,r){const i=new Rv(r);return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return o=yield b(s),u=i,Be(o).Zr.add(u),void u.next();var o,u})),()=>{i.Xo(),s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return o=yield b(s),u=i,void Be(o).Zr.delete(u);var o,u}))}}(Gr(s=Ft(s,ir)),lR(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new Ne("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new Ov(this,Qx(this._delegate,r))}catch(i){throw ms(i,"collection()","Firestore.collection()")}}doc(r){try{return new Go(this,cS(this._delegate,r))}catch(i){throw ms(i,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new _s(this,function(s,r){if(s=Ft(s,Tc),kt("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new Ne(me.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Tr(s,null,(i=r,new Lo(Yt.emptyPath(),i)));var i}(this._delegate,r))}catch(i){throw ms(i,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(s,r){return function(s,r){const i=new Qn;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){const o=yield(u=s,a(u).then(h=>h.datastore));var u;new Kx(s.asyncQueue,o,r,i).run()})),i.promise}(Gr(s),i=>r(new bF(s,i)))}(this._delegate,i=>r(new Sk(this,i)))}batch(){return Gr(this._delegate),new Ak(new bk(this._delegate,r=>kv(this._delegate,r)))}loadBundle(r){return function(s,r){const i=Gr(s=Ft(s,ir)),o=new PP;return function(s,r,i,o){const u=function(h,m){let v;return v="string"==typeof h?(new TextEncoder).encode(h):h,C=function(C,S){if(C instanceof Uint8Array)return iR(C,S);if(C instanceof ArrayBuffer)return iR(new Uint8Array(C),S);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new sR(C,m);var C}(i,vc(r));s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){!function(s,r,i){const o=Be(s);var u;(u=(0,Ce.Z)(function*(h,m,v){try{const C=yield m.getMetadata();if(yield function(F,L){const q=Be(F),re=Hr(L.createTime);return q.persistence.runTransaction("hasNewerBundle","readonly",be=>q.Je.getBundleMetadata(be,L.id)).then(be=>!!be&&be.createTime.compareTo(re)>=0)}(h.localStore,C))return yield m.close(),void v._completeWith((F=C,{taskState:"Success",documentsLoaded:F.totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}));v._updateProgress(iE(C));const S=new XI(C,h.localStore,m.N);let N=yield m.Qo();for(;N;){const F=yield S.fo(N);F&&v._updateProgress(F),N=yield m.Qo()}const x=yield S.complete();yield $o(h,x.Tn,void 0),yield function(F,L){const q=Be(F);return q.persistence.runTransaction("Save bundle","readwrite",re=>q.Je.saveBundleMetadata(re,L))}(h.localStore,C),v._completeWith(x.progress)}catch(C){_g("SyncEngine",`Loading bundle failed with ${C}`),v._failWith(C)}var F}),function(h,m,v){return u.apply(this,arguments)})(o,r,i).then(()=>{o.sharedClientState.notifyBundleLoaded()})}(yield _(s),u,o)}))}(i,s._databaseId,r,o),o}(this._delegate,r)}namedQuery(r){return function(s,r){return function(s,r){return s.asyncQueue.enqueue((0,Ce.Z)(function*(){return function(i,o){const u=Be(i);return u.persistence.runTransaction("Get named query","readonly",h=>u.Je.getNamedQuery(h,o))}(yield f(s),r)}))}(Gr(s=Ft(s,ir)),r).then(i=>i?new Tr(s,null,i.query):null)}(this._delegate,r).then(i=>i?new _s(this,i):null)}}class _S extends gR{constructor(r){super(),this.firestore=r}convertBytes(r){return new SE(new Xl(r))}convertReference(r){const i=this.convertDocumentKey(r,this.firestore._databaseId);return Go.forKey(i,this.firestore,null)}}class Sk{constructor(r,i){this._firestore=r,this._delegate=i,this._userDataWriter=new _S(r)}get(r){const i=pm(r);return this._delegate.get(i).then(o=>new AE(this._firestore,new Ic(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,i.converter)))}set(r,i,o){const u=pm(r);return o?(_R("Transaction.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=pm(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=pm(r);return this._delegate.delete(i),this}}class Ak{constructor(r){this._delegate=r}set(r,i,o){const u=pm(r);return o?(_R("WriteBatch.set",o),this._delegate.set(u,i,o)):this._delegate.set(u,i),this}update(r,i,o,...u){const h=pm(r);return 2===arguments.length?this._delegate.update(h,i):this._delegate.update(h,i,o,...u),this}delete(r){const i=pm(r);return this._delegate.delete(i),this}commit(){return this._delegate.commit()}}class fm{constructor(r,i,o){this._firestore=r,this._userDataWriter=i,this._delegate=o}fromFirestore(r,i){const o=new DE(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new NE(this._firestore,o),null!=i?i:{})}toFirestore(r,i){return i?this._delegate.toFirestore(r,i):this._delegate.toFirestore(r)}static getInstance(r,i){const o=fm.INSTANCES;let u=o.get(r);u||(u=new WeakMap,o.set(r,u));let h=u.get(i);return h||(h=new fm(r,new _S(r),i),u.set(i,h)),h}}fm.INSTANCES=new WeakMap;class Go{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new _S(r)}static forPath(r,i,o){if(r.length%2!=0)throw new Ne("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new Go(i,new cn(i._delegate,o,new qe(r)))}static forKey(r,i,o){return new Go(i,new cn(i._delegate,o,r))}get id(){return this._delegate.id}get parent(){return new Ov(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new Ov(this.firestore,Qx(this._delegate,r))}catch(i){throw ms(i,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Qt.m9)(r))instanceof cn&&Xx(this._delegate,r)}set(r,i){i=_R("DocumentReference.set",i);try{return i?wk(this._delegate,r,i):wk(this._delegate,r)}catch(o){throw ms(o,"setDoc()","DocumentReference.set()")}}update(r,i,...o){try{return 1===arguments.length?Ek(this._delegate,r):Ek(this._delegate,r,i,...o)}catch(u){throw ms(u,"updateDoc()","DocumentReference.update()")}}delete(){return function(s){return kv(Ft(s.firestore,ir),[new gh(s._key,er.none())])}(this._delegate)}onSnapshot(...r){const i=Nk(r),o=Mk(r,u=>new AE(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return Ck(this._delegate,i,o)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Ft(s,cn);const r=Ft(s.firestore,ir),i=Gr(r),o=new hm(r);return function(s,r){const i=new Qn;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(o=(0,Ce.Z)(function*(u,h,m){try{const v=yield function(C,S){const N=Be(C);return N.persistence.runTransaction("read document","readonly",x=>N.Qn.An(x,S))}(u,h);v.isFoundDocument()?m.resolve(v):v.isNoDocument()?m.resolve(null):m.reject(new Ne(me.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const C=tm(v,`Failed to get document '${h} from cache`);m.reject(C)}}),function(u,h,m){return o.apply(this,arguments)})(yield f(s),r,i);var o})),i.promise}(i,s._key).then(u=>new Ic(r,o,s._key,u,new dm(null!==u&&u.hasLocalMutations,!0),s.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Ft(s,cn);const r=Ft(s.firestore,ir);return k(Gr(r),s._key,{source:"server"}).then(i=>mR(r,s,i))}(this._delegate):function(s){s=Ft(s,cn);const r=Ft(s.firestore,ir);return k(Gr(r),s._key).then(i=>mR(r,s,i))}(this._delegate),i.then(o=>new AE(this.firestore,new Ic(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(r){return new Go(this.firestore,this._delegate.withConverter(r?fm.getInstance(this.firestore,r):null))}}function ms(s,r,i){return s.message=s.message.replace(r,i),s}function Nk(s){for(const r of s)if("object"==typeof r&&!yR(r))return r;return{}}function Mk(s,r){var i,o;let u;return u=yR(s[0])?s[0]:yR(s[1])?s[1]:"function"==typeof s[0]?{next:s[0],error:s[1],complete:s[2]}:{next:s[1],error:s[2],complete:s[3]},{next:h=>{u.next&&u.next(r(h))},error:null===(i=u.error)||void 0===i?void 0:i.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class AE{constructor(r,i){this._firestore=r,this._delegate=i}get ref(){return new Go(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,i){return this._delegate.get(r,i)}isEqual(r){return dk(this._delegate,r._delegate)}}class NE extends AE{data(r){const i=this._delegate.data(r);return function(s,r){s||Qe()}(void 0!==i),i}}class _s{constructor(r,i){this.firestore=r,this._delegate=i,this._userDataWriter=new _S(r)}where(r,i,o){try{return new _s(this.firestore,jh(this._delegate,function(s,r,i){const o=r,u=gS("where",s);return new eF(u,o,i)}(r,i,o)))}catch(u){throw ms(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,i){try{return new _s(this.firestore,jh(this._delegate,function(s,r="asc"){const i=r,o=gS("orderBy",s);return new nF(o,i)}(r,i)))}catch(o){throw ms(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new _s(this.firestore,jh(this._delegate,function(s){return Cc("limit",s),new fk("limit",s,"F")}(r)))}catch(i){throw ms(i,"limit()","Query.limit()")}}limitToLast(r){try{return new _s(this.firestore,jh(this._delegate,function(s){return Cc("limitToLast",s),new fk("limitToLast",s,"L")}(r)))}catch(i){throw ms(i,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new _s(this.firestore,jh(this._delegate,function(...s){return new pk("startAt",s,!0)}(...r)))}catch(i){throw ms(i,"startAt()","Query.startAt()")}}startAfter(...r){try{return new _s(this.firestore,jh(this._delegate,function(...s){return new pk("startAfter",s,!1)}(...r)))}catch(i){throw ms(i,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new _s(this.firestore,jh(this._delegate,function(...s){return new gk("endBefore",s,!0)}(...r)))}catch(i){throw ms(i,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new _s(this.firestore,jh(this._delegate,function(...s){return new gk("endAt",s,!1)}(...r)))}catch(i){throw ms(i,"endAt()","Query.endAt()")}}isEqual(r){return ek(this._delegate,r._delegate)}get(r){let i;return i="cache"===(null==r?void 0:r.source)?function(s){s=Ft(s,Tr);const r=Ft(s.firestore,ir),i=Gr(r),o=new hm(r);return function(s,r){const i=new Qn;return s.asyncQueue.enqueueAndForget((0,Ce.Z)(function*(){return(o=(0,Ce.Z)(function*(u,h,m){try{const v=yield zg(u,h,!0),C=new sE(h,v.Gn),S=C.Io(v.documents),N=C.applyChanges(S,!1);m.resolve(N.snapshot)}catch(v){const C=tm(v,`Failed to execute query '${h} against cache`);m.reject(C)}}),function(u,h,m){return o.apply(this,arguments)})(yield f(s),r,i);var o})),i.promise}(i,s._query).then(u=>new Bh(r,o,s,u))}(this._delegate):"server"===(null==r?void 0:r.source)?function(s){s=Ft(s,Tr);const r=Ft(s.firestore,ir),i=Gr(r),o=new hm(r);return j(i,s._query,{source:"server"}).then(u=>new Bh(r,o,s,u))}(this._delegate):function(s){s=Ft(s,Tr);const r=Ft(s.firestore,ir),i=Gr(r),o=new hm(r);return hk(s._query),j(i,s._query).then(u=>new Bh(r,o,s,u))}(this._delegate),i.then(o=>new vR(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...r){const i=Nk(r),o=Mk(r,u=>new vR(this.firestore,new Bh(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return Ck(this._delegate,i,o)}withConverter(r){return new _s(this.firestore,this._delegate.withConverter(r?fm.getInstance(this.firestore,r):null))}}class kF{constructor(r,i){this._firestore=r,this._delegate=i}get type(){return this._delegate.type}get doc(){return new NE(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vR{constructor(r,i){this._firestore=r,this._delegate=i}get query(){return new _s(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new NE(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(i=>new kF(this._firestore,i))}forEach(r,i){this._delegate.forEach(o=>{r.call(i,new NE(this._firestore,o))})}isEqual(r){return dk(this._delegate,r._delegate)}}class Ov extends _s{constructor(r,i){super(r,i),this.firestore=r,this._delegate=i}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new Go(this.firestore,r):null}doc(r){try{return new Go(this.firestore,void 0===r?cS(this._delegate):cS(this._delegate,r))}catch(i){throw ms(i,"doc()","CollectionReference.doc()")}}add(r){return function(s,r){const i=Ft(s.firestore,ir),o=cS(s),u=mS(s.converter,r);return kv(i,[fS(um(s.firestore),"addDoc",o._key,u,null!==s.converter,{}).toMutation(o._key,er.exists(!1))]).then(()=>o)}(this._delegate,r).then(i=>new Go(this.firestore,i))}isEqual(r){return Xx(this._delegate,r._delegate)}withConverter(r){return new Ov(this.firestore,this._delegate.withConverter(r?fm.getInstance(this.firestore,r):null))}}function pm(s){return Ft(s,cn)}class bR{constructor(...r){this._delegate=new Dc(...r)}static documentId(){return new bR(Br.keyField().canonicalString())}isEqual(r){return(r=(0,Qt.m9)(r))instanceof Dc&&this._delegate._internalPath.isEqual(r._internalPath)}}class gm{constructor(r){this._delegate=r}static serverTimestamp(){const r=new uR("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new gm(r)}static delete(){const r=new CE("deleteField");return r._methodName="FieldValue.delete",new gm(r)}static arrayUnion(...r){const i=function(...s){return new WP("arrayUnion",s)}(...r);return i._methodName="FieldValue.arrayUnion",new gm(i)}static arrayRemove(...r){const i=function(...s){return new YP("arrayRemove",s)}(...r);return i._methodName="FieldValue.arrayRemove",new gm(i)}static increment(r){const i=function(s){return new KP("increment",s)}(r);return i._methodName="FieldValue.increment",new gm(i)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const OF={Firestore:Ik,GeoPoint:dS,Timestamp:br,Blob:SE,Transaction:Sk,WriteBatch:Ak,DocumentReference:Go,DocumentSnapshot:AE,Query:_s,QueryDocumentSnapshot:NE,QuerySnapshot:vR,CollectionReference:Ov,FieldPath:bR,FieldValue:gm,setLogLevel:function(s){!function(s){ko.setLogLevel(s)}(s)},CACHE_SIZE_UNLIMITED:-1};!function(s){(function(s,r){s.INTERNAL.registerComponent(new QT.wA("firestore-compat",i=>((r,i)=>new Ik(r,i,new RF))(i.getProvider("app-compat").getImmediate(),i.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},OF)))})(s),s.registerVersion("@firebase/firestore-compat","0.1.0")}(JT.Z);var wR=U(6682),LF=U(7771),VF=U(8858);class UF extends en.xQ{constructor(r=Number.POSITIVE_INFINITY,i=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=r<1?1:r,this._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(r){if(!this.isStopped){const i=this._events;i.push(r),i.length>this._bufferSize&&i.shift()}super.next(r)}nextTimeWindow(r){this.isStopped||(this._events.push(new BF(this._getNow(),r)),this._trimBufferThenGetEvents()),super.next(r)}_subscribe(r){const i=this._infiniteTimeWindow,o=i?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,h=o.length;let m;if(this.closed)throw new ep.N;if(this.isStopped||this.hasError?m=dC.w.EMPTY:(this.observers.push(r),m=new VF.W(this,r)),u&&r.add(r=new Gu.ht(r,u)),i)for(let v=0;v<h&&!r.closed;v++)r.next(o[v]);else for(let v=0;v<h&&!r.closed;v++)r.next(o[v].value);return this.hasError?r.error(this.thrownError):this.isStopped&&r.complete(),m}_getNow(){return(this.scheduler||LF.c).now()}_trimBufferThenGetEvents(){const r=this._getNow(),i=this._bufferSize,o=this._windowTime,u=this._events,h=u.length;let m=0;for(;m<h&&!(r-u[m].time<o);)m++;return h>i&&(m=Math.max(m,h-i)),m>0&&u.splice(0,m),u}}class BF{constructor(r,i){this.time=r,this.value=i}}function Rk(s,r,i){let o;return o=s&&"object"==typeof s?s:{bufferSize:s,windowTime:r,refCount:!1,scheduler:i},u=>u.lift(function({bufferSize:s=Number.POSITIVE_INFINITY,windowTime:r=Number.POSITIVE_INFINITY,refCount:i,scheduler:o}){let u,m,h=0,v=!1,C=!1;return function(N){let x;h++,!u||v?(v=!1,u=new UF(s,r,o),x=u.subscribe(this),m=N.subscribe({next(F){u.next(F)},error(F){v=!0,u.error(F)},complete(){C=!0,m=void 0,u.complete()}}),C&&(m=void 0)):x=u.subscribe(this),this.add(()=>{h--,x.unsubscribe(),x=void 0,m&&!C&&i&&0===h&&(m.unsubscribe(),m=void 0,u=void 0)})}}(o))}function xk(s,r){return r?jn(()=>s,r):jn(()=>s)}var ER=U(2639);const kk=new c.OlP("angularfire2.auth.use-emulator"),Ok=new c.OlP("angularfire2.auth.settings"),Pk=new c.OlP("angularfire2.auth.tenant-id"),Fk=new c.OlP("angularfire2.auth.langugage-code"),Lk=new c.OlP("angularfire2.auth.use-device-language"),Vk=new c.OlP("angularfire.auth.persistence");let Uk=(()=>{class s{constructor(i,o,u,h,m,v,C,S,N,x,F){const L=new en.xQ,q=(0,it.of)(void 0).pipe((0,Gu.QV)(m.outsideAngular),jn(()=>h.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,6300)))),(0,nt.U)(()=>(0,Mo.on)(i,h,o)),(0,nt.U)(re=>h.runOutsideAngular(()=>{const be=v,xe=C;return(0,Fr.cc)(`${re.name}.auth`,"AngularFireAuth",re.name,()=>{const Pe=h.runOutsideAngular(()=>re.auth());if(be&&Pe.useEmulator(...be),S&&(Pe.tenantId=S),Pe.languageCode=N,x&&Pe.useDeviceLanguage(),xe)for(const[Ye,st]of Object.entries(xe))Pe.settings[Ye]=st;return F&&Pe.setPersistence(F),Pe},[be,S,N,x,xe,F])})),Rk({bufferSize:1,refCount:!1}));if(Xh(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,it.of)(null);else{q.pipe(Js()).subscribe();const be=q.pipe(jn(Ye=>Ye.getRedirectResult().then(st=>st,()=>null)),Fr.iC,Rk({bufferSize:1,refCount:!1})),xe=q.pipe(jn(Ye=>new Wn.y(st=>({unsubscribe:h.runOutsideAngular(()=>Ye.onAuthStateChanged(qt=>st.next(qt),qt=>st.error(qt),()=>st.complete()))})))),Pe=q.pipe(jn(Ye=>new Wn.y(st=>({unsubscribe:h.runOutsideAngular(()=>Ye.onIdTokenChanged(qt=>st.next(qt),qt=>st.error(qt),()=>st.complete()))}))));this.authState=be.pipe(xk(xe),(0,ER.R)(m.outsideAngular),(0,Gu.QV)(m.insideAngular)),this.user=be.pipe(xk(Pe),(0,ER.R)(m.outsideAngular),(0,Gu.QV)(m.insideAngular)),this.idToken=this.user.pipe(jn(Ye=>Ye?(0,rn.D)(Ye.getIdToken()):(0,it.of)(null))),this.idTokenResult=this.user.pipe(jn(Ye=>Ye?(0,rn.D)(Ye.getIdTokenResult()):(0,it.of)(null))),this.credential=(0,wR.T)(be,L,this.authState.pipe(Dn(Ye=>!Ye))).pipe((0,nt.U)(Ye=>(null==Ye?void 0:Ye.user)?Ye:null),(0,ER.R)(m.outsideAngular),(0,Gu.QV)(m.insideAngular))}return(0,Mo.pX)(this,q,h,{spy:{apply:(re,be,xe)=>{(re.startsWith("signIn")||re.startsWith("createUser"))&&xe.then(Pe=>L.next(Pe))}}})}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Mo.Dh),c.LFG(Mo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(kk,8),c.LFG(Ok,8),c.LFG(Pk,8),c.LFG(Fk,8),c.LFG(Lk,8),c.LFG(Vk,8))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})();function Bk(s,r){return function(s,r=r1.z){return new Wn.y(i=>{let o;return null!=r?r.schedule(()=>{o=s.onSnapshot({includeMetadataChanges:!0},i)}):o=s.onSnapshot({includeMetadataChanges:!0},i),()=>{null!=o&&o()}})}(s,r)}function CR(s,r){return Bk(s,r).pipe((0,nt.U)(i=>({payload:i,type:"query"})))}function yS(s,r){return CR(s,r).pipe(wa(void 0),sy(),(0,nt.U)(([i,o])=>{const u=o.payload.docChanges(),h=u.map(m=>({type:m.type,payload:m}));return i&&JSON.stringify(i.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((m,v)=>{const C=u.find(N=>N.doc.ref.isEqual(m.ref)),S=null==i?void 0:i.payload.docs.find(N=>N.ref.isEqual(m.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(m.metadata)||!C&&S&&JSON.stringify(S.metadata)===JSON.stringify(m.metadata)||h.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:m}})}),h}))}function jk(s,r,i){return yS(s,i).pipe(Cd((o,u)=>function(s,r,i){return r.forEach(o=>{i.indexOf(o.type)>-1&&(s=function(s,r){switch(r.type){case"added":if(!s[r.newIndex]||!s[r.newIndex].doc.ref.isEqual(r.doc.ref))return TR(s,r.newIndex,0,r);break;case"modified":if(null==s[r.oldIndex]||s[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const i=s.slice();return i.splice(r.oldIndex,1),i.splice(r.newIndex,0,r),i}return TR(s,r.newIndex,1,r)}break;case"removed":if(s[r.oldIndex]&&s[r.oldIndex].doc.ref.isEqual(r.doc.ref))return TR(s,r.oldIndex,1)}return s}(s,o))}),s}(o,u.map(h=>h.payload),r),[]),function(s,r){return i=>i.lift(new YT(s,r))}(),(0,nt.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function TR(s,r,i,...o){const u=s.slice();return u.splice(r,i,...o),u}function Hk(s){return(!s||0===s.length)&&(s=["added","removed","modified"]),s}class $k{constructor(r,i,o){this.ref=r,this.query=i,this.afs=o}stateChanges(r){let i=yS(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(i=i.pipe((0,nt.U)(o=>o.filter(u=>r.indexOf(u.type)>-1)))),i.pipe(wa(void 0),sy(),Dn(([o,u])=>u.length>0||!o),(0,nt.U)(([o,u])=>u),Fr.iC)}auditTrail(r){return this.stateChanges(r).pipe(Cd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=Hk(r);return jk(this.query,i,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(r={}){return CR(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(o=>r.idField?Object.assign(Object.assign({},o.data()),{[r.idField]:o.id}):o.data())),Fr.iC)}get(r){return(0,rn.D)(this.query.get(r)).pipe(Fr.f6)}add(r){return this.ref.add(r)}doc(r){return new Gk(this.ref.doc(r),this.afs)}}class Gk{constructor(r,i){this.ref=r,this.afs=i}set(r,i){return this.ref.set(r,i)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,i){const o=this.ref.collection(r),{ref:u,query:h}=zk(o,i);return new $k(u,h,this.afs)}snapshotChanges(){return function(s,r){return Bk(s,r).pipe(wa(void 0),sy(),(0,nt.U)(([i,o])=>o.exists?(null==i?void 0:i.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:i})=>r.idField?Object.assign(Object.assign({},i.data()),{[r.idField]:i.id}):i.data()))}get(r){return(0,rn.D)(this.ref.get(r)).pipe((0,Gu.QV)(this.afs.schedulers.insideAngular))}}class zF{constructor(r,i){this.query=r,this.afs=i}stateChanges(r){return r&&0!==r.length?yS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.filter(o=>r.indexOf(o.type)>-1)),Dn(i=>i.length>0),Fr.iC):yS(this.query,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}auditTrail(r){return this.stateChanges(r).pipe(Cd((i,o)=>[...i,...o],[]))}snapshotChanges(r){const i=Hk(r);return jk(this.query,i,this.afs.schedulers.outsideAngular).pipe(Fr.iC)}valueChanges(r={}){return CR(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(o=>o.payload.docs.map(u=>r.idField?Object.assign({[r.idField]:u.id},u.data()):u.data())),Fr.iC)}get(r){return(0,rn.D)(this.query.get(r)).pipe(Fr.f6)}}const Zk=new c.OlP("angularfire2.enableFirestorePersistence"),qk=new c.OlP("angularfire2.firestore.persistenceSettings"),WF=new c.OlP("angularfire2.firestore.settings"),YF=new c.OlP("angularfire2.firestore.use-emulator");function zk(s,r=(i=>i)){return{query:r(s),ref:s}}let Wk=(()=>{class s{constructor(i,o,u,h,m,v,C,S,N,x,F,L,q,re,be,xe){this.schedulers=C;const Pe=(0,Mo.on)(i,v,o),Ye=N;if(x){const st=L;(0,Fr.cc)(`${Pe.name}.auth`,"AngularFireAuth",Pe.name,()=>{const qt=v.runOutsideAngular(()=>Pe.auth());if(F&&qt.useEmulator(...F),q&&(qt.tenantId=q),qt.languageCode=re,be&&qt.useDeviceLanguage(),st)for(const[Ir,Sr]of Object.entries(st))qt.settings[Ir]=Sr;return xe&&qt.setPersistence(xe),qt},[F,q,re,be,st,xe])}[this.firestore,this.persistenceEnabled$]=(0,Fr.cc)(`${Pe.name}.firestore`,"AngularFirestore",Pe.name,()=>{const st=v.runOutsideAngular(()=>Pe.firestore());if(h&&st.settings(h),Ye&&st.useEmulator(...Ye),u&&!Xh(m)){const qt=()=>{try{return(0,rn.D)(st.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Ir){return"undefined"!=typeof console&&console.warn(Ir),(0,it.of)(!1)}};return[st,v.runOutsideAngular(qt)]}return[st,(0,it.of)(!1)]},[h,Ye,u])}collection(i,o){let u;u="string"==typeof i?this.firestore.collection(i):i;const{ref:h,query:m}=zk(u,o),v=this.schedulers.ngZone.run(()=>h);return new $k(v,m,this)}collectionGroup(i,o){const u=o||(m=>m),h=this.firestore.collectionGroup(i);return new zF(u(h),this)}doc(i){let o;o="string"==typeof i?this.firestore.doc(i):i;const u=this.schedulers.ngZone.run(()=>o);return new Gk(u,this)}createId(){return this.firestore.collection("_").doc().id}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Mo.Dh),c.LFG(Mo.xv,8),c.LFG(Zk,8),c.LFG(WF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(Fr.HU),c.LFG(qk,8),c.LFG(YF,8),c.LFG(Uk,8),c.LFG(kk,8),c.LFG(Ok,8),c.LFG(Pk,8),c.LFG(Fk,8),c.LFG(Lk,8),c.LFG(Vk,8))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"any"}),s})(),KF=(()=>{class s{static enablePersistence(i){return{ngModule:s,providers:[{provide:Zk,useValue:!0},{provide:qk,useValue:i}]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[Wk]}),s})(),JF=(()=>{class s{constructor(i){this.firestore=i,this.consultasCollection=this.firestore.collection("consultas")}getConsultas(){return this.consultas=this.consultasCollection.snapshotChanges().pipe((0,nt.U)(i=>i.map(o=>{const u=o.payload.doc.data();return u.id=o.payload.doc.id,u}))),this.consultas}deleteConsulta(i){return this.unaConsulta=this.firestore.doc(`consultas/${i}`),this.unaConsulta.delete(),i}getConsultaId(i){var o=this;return(0,Ce.Z)(function*(){o.consultasCollection.doc(i).get().subscribe(m=>{if(m.exists)return console.log(m.data()),m.data();console.log("Elemento no encontrado")})})()}putConsulta(i){this.unaConsulta=this.firestore.doc(`consultas/${i.id}`),this.unaConsulta.update(i)}postConsulta(i){this.consultasCollection.add(i)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(Wk))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();var QF=U(9105);function Ii(s,r,i,o){return(0,QF.m)(i)&&(o=i,i=void 0),o?Ii(s,r,i).pipe((0,nt.U)(u=>(0,Fi.k)(u)?o(...u):o(u))):new Wn.y(u=>{Yk(s,r,function(m){u.next(arguments.length>1?Array.prototype.slice.call(arguments):m)},u,i)})}function Yk(s,r,i,o,u){let h;if(function(s){return s&&"function"==typeof s.addEventListener&&"function"==typeof s.removeEventListener}(s)){const m=s;s.addEventListener(r,i,u),h=()=>m.removeEventListener(r,i,u)}else if(function(s){return s&&"function"==typeof s.on&&"function"==typeof s.off}(s)){const m=s;s.on(r,i),h=()=>m.off(r,i)}else if(function(s){return s&&"function"==typeof s.addListener&&"function"==typeof s.removeListener}(s)){const m=s;s.addListener(r,i),h=()=>m.removeListener(r,i)}else{if(!s||!s.length)throw new TypeError("Invalid event target");for(let m=0,v=s.length;m<v;m++)Yk(s[m],r,i,o,u)}o.add(h)}var Kk=U(6561);function nL(s){const{index:r,period:i,subscriber:o}=s;if(o.next(r),!o.closed){if(-1===i)return o.complete();s.index=r+1,this.schedule(s,i)}}class rL{call(r,i){return i.subscribe(new iL(r))}}class iL extends wd{constructor(r){super(r),this.hasFirst=!1,this.observables=[],this.subscriptions=[]}_next(r){this.observables.push(r)}_complete(){const r=this.observables,i=r.length;if(0===i)this.destination.complete();else{for(let o=0;o<i&&!this.hasFirst;o++){const h=Li(this,r[o],void 0,o);this.subscriptions&&this.subscriptions.push(h),this.add(h)}this.observables=null}}notifyNext(r,i,o){if(!this.hasFirst){this.hasFirst=!0;for(let u=0;u<this.subscriptions.length;u++)if(u!==o){let h=this.subscriptions[u];h.unsubscribe(),this.remove(h)}this.subscriptions=null}this.destination.next(i)}}var sL=U(8640);new Wn.y(sL.Z);var vS=U(377);function bS(...s){const r=s[s.length-1];return"function"==typeof r&&s.pop(),(0,tp.n)(s,void 0).lift(new oL(r))}class oL{constructor(r){this.resultSelector=r}call(r,i){return i.subscribe(new aL(r,this.resultSelector))}}class aL extends fn.L{constructor(r,i,o=Object.create(null)){super(r),this.resultSelector=i,this.iterators=[],this.active=0,this.resultSelector="function"==typeof i?i:void 0}_next(r){const i=this.iterators;(0,Fi.k)(r)?i.push(new uL(r)):i.push("function"==typeof r[vS.hZ]?new lL(r[vS.hZ]()):new cL(this.destination,this,r))}_complete(){const r=this.iterators,i=r.length;if(this.unsubscribe(),0!==i){this.active=i;for(let o=0;o<i;o++){let u=r[o];u.stillUnsubscribed?this.destination.add(u.subscribe()):this.active--}}else this.destination.complete()}notifyInactive(){this.active--,0===this.active&&this.destination.complete()}checkIterators(){const r=this.iterators,i=r.length,o=this.destination;for(let m=0;m<i;m++){let v=r[m];if("function"==typeof v.hasValue&&!v.hasValue())return}let u=!1;const h=[];for(let m=0;m<i;m++){let v=r[m],C=v.next();if(v.hasCompleted()&&(u=!0),C.done)return void o.complete();h.push(C.value)}this.resultSelector?this._tryresultSelector(h):o.next(h),u&&o.complete()}_tryresultSelector(r){let i;try{i=this.resultSelector.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}class lL{constructor(r){this.iterator=r,this.nextResult=r.next()}hasValue(){return!0}next(){const r=this.nextResult;return this.nextResult=this.iterator.next(),r}hasCompleted(){const r=this.nextResult;return Boolean(r&&r.done)}}class uL{constructor(r){this.array=r,this.index=0,this.length=0,this.length=r.length}[vS.hZ](){return this}next(r){const i=this.index++;return i<this.length?{value:this.array[i],done:!1}:{value:null,done:!0}}hasValue(){return this.array.length>this.index}hasCompleted(){return this.array.length===this.index}}class cL extends Cs.Ds{constructor(r,i,o){super(r),this.parent=i,this.observable=o,this.stillUnsubscribed=!0,this.buffer=[],this.isComplete=!1}[vS.hZ](){return this}next(){const r=this.buffer;return 0===r.length&&this.isComplete?{value:null,done:!0}:{value:r.shift(),done:!1}}hasValue(){return this.buffer.length>0}hasCompleted(){return 0===this.buffer.length&&this.isComplete}notifyComplete(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()}notifyNext(r){this.buffer.push(r),this.parent.checkIterators()}subscribe(){return(0,Cs.ft)(this.observable,new Cs.IY(this))}}function sr(s){return r=>r.lift(new hL(s))}class hL{constructor(r){this.notifier=r}call(r,i){const o=new fL(r),u=(0,Cs.ft)(this.notifier,new Cs.IY(o));return u&&!o.seenValue?(o.add(u),i.subscribe(o)):o}}class fL extends Cs.Ds{constructor(r){super(r),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}function DR(...s){return r=>{let i;return"function"==typeof s[s.length-1]&&(i=s.pop()),r.lift(new pL(s,i))}}class pL{constructor(r,i){this.observables=r,this.project=i}call(r,i){return i.subscribe(new gL(r,this.observables,this.project))}}class gL extends wd{constructor(r,i,o){super(r),this.observables=i,this.project=o,this.toRespond=[];const u=i.length;this.values=new Array(u);for(let h=0;h<u;h++)this.toRespond.push(h);for(let h=0;h<u;h++)this.add(Li(this,i[h],void 0,h))}notifyNext(r,i,o){this.values[o]=i;const u=this.toRespond;if(u.length>0){const h=u.indexOf(o);-1!==h&&u.splice(h,1)}}notifyComplete(){}_next(r){if(0===this.toRespond.length){const i=[r,...this.values];this.project?this._tryProject(i):this.destination.next(i)}}_tryProject(r){let i;try{i=this.project.apply(this,r)}catch(o){return void this.destination.error(o)}this.destination.next(i)}}U(1593),U(8819);const Pv=["*"],c2=["dialog"];function $h(s){return null!=s}function Lv(s){return(s||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest=function(s){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(s))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const iO={animation:!0,transitionTimerDelayMs:5};let li=(()=>{class s{constructor(){this.animation=iO.animation}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=c.Yz7({factory:function(){return new s},token:s,providedIn:"root"}),s})();const EV=()=>{},{transitionTimerDelayMs:CV}=iO,RE=new Map,Zr=(s,r,i,o)=>{let u=o.context||{};const h=RE.get(r);if(h)switch(o.runningTransition){case"continue":return Tl.E;case"stop":s.run(()=>h.transition$.complete()),u=Object.assign(h.context,u),RE.delete(r)}const m=i(r,o.animation,u)||EV;if(!o.animation||"none"===window.getComputedStyle(r).transitionProperty)return s.run(()=>m()),(0,it.of)(void 0).pipe(function(s){return r=>new Wn.y(i=>r.subscribe(m=>s.run(()=>i.next(m)),m=>s.run(()=>i.error(m)),()=>s.run(()=>i.complete())))}(s));const v=new en.xQ,C=new en.xQ,S=v.pipe(function(...s){return r=>ip(r,(0,it.of)(...s))}(!0));RE.set(r,{transition$:v,complete:()=>{C.next(),C.complete()},context:u});const N=function(s){const{transitionDelay:r,transitionDuration:i}=window.getComputedStyle(s);return 1e3*(parseFloat(r)+parseFloat(i))}(r);return s.runOutsideAngular(()=>{const x=Ii(r,"transitionend").pipe(sr(S),Dn(({target:L})=>L===r));(function(...s){if(1===s.length){if(!(0,Fi.k)(s[0]))return s[0];s=s[0]}return(0,tp.n)(s,void 0).lift(new rL)})(function(s=0,r,i){let o=-1;return(0,Kk.k)(r)?o=Number(r)<1?1:Number(r):(0,Cl.K)(r)&&(i=r),(0,Cl.K)(i)||(i=r1.P),new Wn.y(u=>{const h=(0,Kk.k)(s)?s:+s-i.now();return i.schedule(nL,h,{index:0,period:o,subscriber:u})})}(N+CV).pipe(sr(S)),x,C).pipe(sr(S)).subscribe(()=>{RE.delete(r),s.run(()=>{m(),v.next(),v.complete()})})}),v.asObservable()};let uO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),cO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),hO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})(),gO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),mO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})();var jt=(()=>(function(s){s[s.Tab=9]="Tab",s[s.Enter=13]="Enter",s[s.Escape=27]="Escape",s[s.Space=32]="Space",s[s.PageUp=33]="PageUp",s[s.PageDown=34]="PageDown",s[s.End=35]="End",s[s.Home=36]="Home",s[s.ArrowLeft=37]="ArrowLeft",s[s.ArrowUp=38]="ArrowUp",s[s.ArrowRight=39]="ArrowRight",s[s.ArrowDown=40]="ArrowDown"}(jt||(jt={})),jt))();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const wO=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function EO(s){const r=Array.from(s.querySelectorAll(wO)).filter(i=>-1!==i.tabIndex);return[r[0],r[r.length-1]]}new class{getAllStyles(r){return window.getComputedStyle(r)}getStyle(r,i){return this.getAllStyles(r)[i]}isStaticPositioned(r){return"static"===(this.getStyle(r,"position")||"static")}offsetParent(r){let i=r.offsetParent||document.documentElement;for(;i&&i!==document.documentElement&&this.isStaticPositioned(i);)i=i.offsetParent;return i||document.documentElement}position(r,i=!0){let o,u={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(r,"position"))o=r.getBoundingClientRect(),o={top:o.top,bottom:o.bottom,left:o.left,right:o.right,height:o.height,width:o.width};else{const h=this.offsetParent(r);o=this.offset(r,!1),h!==document.documentElement&&(u=this.offset(h,!1)),u.top+=h.clientTop,u.left+=h.clientLeft}return o.top-=u.top,o.bottom-=u.top,o.left-=u.left,o.right-=u.left,i&&(o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o}offset(r,i=!0){const o=r.getBoundingClientRect(),u_top=window.pageYOffset-document.documentElement.clientTop,u_left=window.pageXOffset-document.documentElement.clientLeft;let h={height:o.height||r.offsetHeight,width:o.width||r.offsetWidth,top:o.top+u_top,bottom:o.bottom+u_top,left:o.left+u_left,right:o.right+u_left};return i&&(h.height=Math.round(h.height),h.width=Math.round(h.width),h.top=Math.round(h.top),h.bottom=Math.round(h.bottom),h.left=Math.round(h.left),h.right=Math.round(h.right)),h}positionElements(r,i,o,u){const[h="top",m="center"]=o.split("-"),v=u?this.offset(r,!1):this.position(r,!1),C=this.getAllStyles(i),S=parseFloat(C.marginTop),N=parseFloat(C.marginBottom),x=parseFloat(C.marginLeft),F=parseFloat(C.marginRight);let L=0,q=0;switch(h){case"top":L=v.top-(i.offsetHeight+S+N);break;case"bottom":L=v.top+v.height;break;case"left":q=v.left-(i.offsetWidth+x+F);break;case"right":q=v.left+v.width}switch(m){case"top":L=v.top;break;case"bottom":L=v.top+v.height-i.offsetHeight;break;case"left":q=v.left;break;case"right":q=v.left+v.width-i.offsetWidth;break;case"center":"top"===h||"bottom"===h?q=v.left+v.width/2-i.offsetWidth/2:L=v.top+v.height/2-i.offsetHeight/2}i.style.transform=`translate(${Math.round(q)}px, ${Math.round(L)}px)`;const re=i.getBoundingClientRect(),be=document.documentElement,xe=window.innerHeight||be.clientHeight,Pe=window.innerWidth||be.clientWidth;return re.left>=0&&re.top>=0&&re.right<=Pe&&re.bottom<=xe}},new Date(1882,10,12),new Date(2174,10,25);let xO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr,t1]]}),s})(),UR=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275dir=c.lG2({type:s,selectors:[["",8,"navbar"]]}),s})(),PO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})(),FO=(()=>{class s{constructor(i){this._ngbConfig=i,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(i){this._animation=i}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(li))},s.\u0275prov=c.Yz7({factory:function(){return new s(c.LFG(li))},token:s,providedIn:"root"}),s})();class bm{constructor(r,i,o){this.nodes=r,this.viewRef=i,this.componentRef=o}}const bU=()=>{};let LO=(()=>{class s{constructor(i){this._document=i}compensate(){const i=this._getWidth();return this._isPresent(i)?this._adjustBody(i):bU}_adjustBody(i){const o=this._document.body,u=o.style.paddingRight,h=parseFloat(window.getComputedStyle(o)["padding-right"]);return o.style["padding-right"]=`${h+i}px`,()=>o.style["padding-right"]=u}_isPresent(i){const o=this._document.body.getBoundingClientRect();return window.innerWidth-(o.left+o.right)>=i-.1*i}_getWidth(){const i=this._document.createElement("div");i.className="modal-scrollbar-measure";const o=this._document.body;o.appendChild(i);const u=i.getBoundingClientRect().width-i.clientWidth;return o.removeChild(i),u}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae))},s.\u0275prov=c.Yz7({factory:function(){return new s(c.LFG(ae))},token:s,providedIn:"root"}),s})(),wU=(()=>{class s{constructor(i,o){this._el=i,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe(vi(1)).subscribe(()=>{Zr(this._zone,this._el.nativeElement,(i,o)=>{o&&Lv(i),i.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Zr(this._zone,this._el.nativeElement,({classList:i})=>i.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(c.SBq),c.Y36(c.R0b))},s.\u0275cmp=c.Xpm({type:s,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1050"],hostVars:6,hostBindings:function(i,o){2&i&&(c.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),c.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(i,o){},encapsulation:2}),s})();class jR{close(r){}dismiss(r){}}class EU{constructor(r,i,o,u){this._windowCmptRef=r,this._contentRef=i,this._backdropCmptRef=o,this._beforeDismiss=u,this._closed=new en.xQ,this._dismissed=new en.xQ,this._hidden=new en.xQ,r.instance.dismissEvent.subscribe(h=>{this.dismiss(h)}),this.result=new Promise((h,m)=>{this._resolve=h,this._reject=m}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(sr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(sr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const i=this._beforeDismiss();i&&i.then?i.then(o=>{!1!==o&&this._dismiss(r)},()=>{}):!1!==i&&this._dismiss(r)}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),i=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,it.of)(void 0);r.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),i.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),bS(r,i).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var LE=(()=>(function(s){s[s.BACKDROP_CLICK=0]="BACKDROP_CLICK",s[s.ESC=1]="ESC"}(LE||(LE={})),LE))();let CU=(()=>{class s{constructor(i,o,u){this._document=i,this._elRef=o,this._zone=u,this._closed$=new en.xQ,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new c.vpe,this.shown=new en.xQ,this.hidden=new en.xQ}dismiss(i){this.dismissEvent.emit(i)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(vi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:i}=this._elRef,o={animation:this.animation,runningTransition:"stop"},m=bS(Zr(this._zone,i,()=>i.classList.remove("show"),o),Zr(this._zone,this._dialogEl.nativeElement,()=>{},o));return m.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),m}_show(){const i={animation:this.animation,runningTransition:"continue"};bS(Zr(this._zone,this._elRef.nativeElement,(h,m)=>{m&&Lv(h),h.classList.add("show")},i),Zr(this._zone,this._dialogEl.nativeElement,()=>{},i)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:i}=this._elRef;this._zone.runOutsideAngular(()=>{Ii(i,"keydown").pipe(sr(this._closed$),Dn(u=>u.which===jt.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(LE.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Ii(this._dialogEl.nativeElement,"mousedown").pipe(sr(this._closed$),(0,Pr.b)(()=>o=!1),jn(()=>Ii(i,"mouseup").pipe(sr(this._closed$),vi(1))),Dn(({target:u})=>i===u)).subscribe(()=>{o=!0}),Ii(i,"click").pipe(sr(this._closed$)).subscribe(({target:u})=>{i===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(LE.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:i}=this._elRef;if(!i.contains(document.activeElement)){const o=i.querySelector("[ngbAutofocus]"),u=EO(i)[0];(o||u||i).focus()}}_restoreFocus(){const i=this._document.body,o=this._elWithFocus;let u;u=o&&o.focus&&i.contains(o)?o:i,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Zr(this._zone,this._elRef.nativeElement,({classList:i})=>(i.add("modal-static"),()=>i.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(ae),c.Y36(c.SBq),c.Y36(c.R0b))},s.\u0275cmp=c.Xpm({type:s,selectors:[["ngb-modal-window"]],viewQuery:function(i,o){if(1&i&&c.Gf(c2,7),2&i){let u;c.iGM(u=c.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,o){2&i&&(c.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),c.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),c.ekj("fade",o.animation))},inputs:{backdrop:"backdrop",keyboard:"keyboard",animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",centered:"centered",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Pv,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(i,o){1&i&&(c.F$t(),c.TgZ(0,"div",0,1),c.TgZ(2,"div",2),c.Hsn(3),c.qZA(),c.qZA()),2&i&&c.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}"],encapsulation:2}),s})(),VO=(()=>{class s{constructor(i,o,u,h,m,v){this._applicationRef=i,this._injector=o,this._document=u,this._scrollBar=h,this._rendererFactory=m,this._ngZone=v,this._activeWindowCmptHasChanged=new en.xQ,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new c.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const C=this._windowCmpts[this._windowCmpts.length-1];((s,r,i,o=!1)=>{s.runOutsideAngular(()=>{const u=Ii(r,"focusin").pipe(sr(i),(0,nt.U)(h=>h.target));Ii(r,"keydown").pipe(sr(i),Dn(h=>h.which===jt.Tab),DR(u)).subscribe(([h,m])=>{const[v,C]=EO(r);(m===v||m===r)&&h.shiftKey&&(C.focus(),h.preventDefault()),m===C&&!h.shiftKey&&(v.focus(),h.preventDefault())}),o&&Ii(r,"click").pipe(sr(i),DR(u),(0,nt.U)(h=>h[1])).subscribe(h=>h.focus())})})(this._ngZone,C.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(C.location.nativeElement)}})}open(i,o,u,h){const m=h.container instanceof HTMLElement?h.container:$h(h.container)?this._document.querySelector(h.container):this._document.body,v=this._rendererFactory.createRenderer(null,null),C=this._scrollBar.compensate(),S=()=>{this._modalRefs.length||(v.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!m)throw new Error(`The specified modal container "${h.container||"body"}" was not found in the DOM.`);const N=new jR,x=this._getContentRef(i,h.injector||o,u,N,h);let F=!1!==h.backdrop?this._attachBackdrop(i,m):void 0,L=this._attachWindowComponent(i,m,x),q=new EU(L,x,F,h.beforeDismiss);return this._registerModalRef(q),this._registerWindowCmpt(L),q.result.then(C,C),q.result.then(S,S),N.close=re=>{q.close(re)},N.dismiss=re=>{q.dismiss(re)},this._applyWindowOptions(L.instance,h),1===this._modalRefs.length&&v.addClass(this._document.body,"modal-open"),F&&F.instance&&(this._applyBackdropOptions(F.instance,h),F.changeDetectorRef.detectChanges()),L.changeDetectorRef.detectChanges(),q}get activeInstances(){return this._activeInstances}dismissAll(i){this._modalRefs.forEach(o=>o.dismiss(i))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(i,o){let h=i.resolveComponentFactory(wU).create(this._injector);return this._applicationRef.attachView(h.hostView),o.appendChild(h.location.nativeElement),h}_attachWindowComponent(i,o,u){let m=i.resolveComponentFactory(CU).create(this._injector,u.nodes);return this._applicationRef.attachView(m.hostView),o.appendChild(m.location.nativeElement),m}_applyWindowOptions(i,o){this._windowAttributes.forEach(u=>{$h(o[u])&&(i[u]=o[u])})}_applyBackdropOptions(i,o){this._backdropAttributes.forEach(u=>{$h(o[u])&&(i[u]=o[u])})}_getContentRef(i,o,u,h,m){return u?u instanceof c.Rgc?this._createFromTemplateRef(u,h):function(s){return"string"==typeof s}(u)?this._createFromString(u):this._createFromComponent(i,o,u,h,m):new bm([])}_createFromTemplateRef(i,o){const h=i.createEmbeddedView({$implicit:o,close(m){o.close(m)},dismiss(m){o.dismiss(m)}});return this._applicationRef.attachView(h),new bm([h.rootNodes],h)}_createFromString(i){const o=this._document.createTextNode(`${i}`);return new bm([[o]])}_createFromComponent(i,o,u,h,m){const v=i.resolveComponentFactory(u),C=c.zs3.create({providers:[{provide:jR,useValue:h}],parent:o}),S=v.create(C),N=S.location.nativeElement;return m.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(S.hostView),new bm([[N]],S.hostView,S)}_setAriaHidden(i){const o=i.parentElement;o&&i!==this._document.body&&(Array.from(o.children).forEach(u=>{u!==i&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((i,o)=>{i?o.setAttribute("aria-hidden",i):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(i){const o=()=>{const u=this._modalRefs.indexOf(i);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(i),this._activeInstances.emit(this._modalRefs),i.result.then(o,o)}_registerWindowCmpt(i){this._windowCmpts.push(i),this._activeWindowCmptHasChanged.next(),i.onDestroy(()=>{const o=this._windowCmpts.indexOf(i);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c.z2F),c.LFG(c.zs3),c.LFG(ae),c.LFG(LO),c.LFG(c.FYo),c.LFG(c.R0b))},s.\u0275prov=c.Yz7({factory:function(){return new s(c.LFG(c.z2F),c.LFG(c.gxx),c.LFG(ae),c.LFG(LO),c.LFG(c.FYo),c.LFG(c.R0b))},token:s,providedIn:"root"}),s})(),UO=(()=>{class s{constructor(i,o,u,h){this._moduleCFR=i,this._injector=o,this._modalStack=u,this._config=h}open(i,o={}){const u=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,i,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(i){this._modalStack.dismissAll(i)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(c._Vd),c.LFG(c.zs3),c.LFG(VO),c.LFG(FO))},s.\u0275prov=c.Yz7({factory:function(){return new s(c.LFG(c._Vd),c.LFG(c.gxx),c.LFG(VO),c.LFG(FO))},token:s,providedIn:"root"}),s})(),BO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[UO]}),s})(),GO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),QO=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),tP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),nP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),rP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),aP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),lP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})(),uP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({}),s})();new c.OlP("live announcer delay",{providedIn:"root",factory:function(){return 100}});let hP=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[Mr]]}),s})();const oB=[uO,cO,hO,gO,mO,xO,PO,BO,GO,QO,tP,nP,rP,aP,lP,uP,hP];let aB=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[oB,uO,cO,hO,gO,mO,xO,PO,BO,GO,QO,tP,nP,rP,aP,lP,uP,hP]}),s})();function lB(s,r){if(1&s&&c._UZ(0,"i",11),2&s){const i=c.oxw();c.Q6J("ngClass",i.faIcon)}}function uB(s,r){1&s&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2," Ejemplos:"),c.qZA(),c.TgZ(3,"a",12),c._uU(4,"https://github.com/blosin/WindowsFormProject1"),c.qZA(),c._UZ(5,"br"),c.TgZ(6,"a",13),c._uU(7,"https://github.com/blosin/WindowsFormProject2"),c.qZA(),c.qZA())}function cB(s,r){1&s&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2,"Procedimientos almacenados, transacciones, lenguaje SQL."),c.qZA(),c.TgZ(3,"p"),c._uU(4,"Base de datos con documentos (firebase)"),c.qZA(),c.qZA())}function dB(s,r){1&s&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2," Ejemplos hosteados en github pages y otros:"),c.qZA(),c.TgZ(3,"a",14),c._uU(4,"* https://blosin.github.io/blosin-proyectBilletera/"),c.qZA(),c.TgZ(5,"a",15),c._UZ(6,"span",16),c._uU(7,"Ver codigo"),c.qZA(),c._UZ(8,"br"),c.TgZ(9,"a",17),c._uU(10,"* https://blosin.github.io/ModeloAngular"),c.qZA(),c._UZ(11,"br"),c.TgZ(12,"a",18),c._uU(13,"* https://blosin.github.io/ProyectoBackup/"),c.qZA(),c._UZ(14,"br"),c.TgZ(15,"a",19),c._uU(16,"* Aplicacion modelo con integracion a mercado pago, hosteada en heroku: https://nueva-app-33.herokuapp.com "),c.qZA(),c.qZA())}function hB(s,r){1&s&&(c.TgZ(0,"div"),c.TgZ(1,"p"),c._uU(2,"Ejemplos en nodejs: "),c._UZ(3,"br"),c.TgZ(4,"a",20),c._uU(5,"Ejemplo propio de un GET en la nube hosteado en heroku y base de datos en ElephantSQL "),c.qZA(),c.TgZ(6,"a",21),c._UZ(7,"span",16),c._uU(8,"Ver codigo"),c.qZA(),c.qZA(),c.TgZ(9,"p"),c._uU(10,"Ejemplos de c\xf3digo en C#: "),c._UZ(11,"br"),c.TgZ(12,"a",22),c._uU(13,"https://cutt.ly/LQ5438u"),c.qZA(),c.qZA(),c.TgZ(14,"p"),c._uU(15,"Ejemplos de c\xf3digo en Ruby: "),c._UZ(16,"br"),c.TgZ(17,"a",23),c._uU(18,"Ultimo proyecto: https://github.com/blosin/Ruby"),c.qZA(),c.qZA(),c.TgZ(19,"p"),c._uU(20,"Ejemplos de c\xf3digo en java: "),c._UZ(21,"br"),c.TgZ(22,"a",24),c._uU(23,"Modelos simples de java: https://github.com/blosin/Java"),c.qZA(),c.qZA(),c.qZA())}function fB(s,r){1&s&&(c.TgZ(0,"div"),c.TgZ(1,"h5",25),c._uU(2,"-Trabajos con front-end"),c.qZA(),c.TgZ(3,"p",26),c._uU(4," Ejemplos hosteados en github pages y otros:"),c.qZA(),c.TgZ(5,"a",14),c._uU(6,"* https://blosin.github.io/blosin-proyectBilletera/"),c.qZA(),c.TgZ(7,"a",15),c._UZ(8,"span",16),c._uU(9,"Ver codigo"),c.qZA(),c._UZ(10,"br"),c.TgZ(11,"a",17),c._uU(12,"* https://blosin.github.io/ModeloAngular"),c.qZA(),c._UZ(13,"br"),c.TgZ(14,"a",19),c._uU(15,"* Aplicacion modelo con integracion a mercado pago, hosteada en heroku: https://nueva-app-33.herokuapp.com "),c.qZA(),c.TgZ(16,"h5",27),c._uU(17,"-Trabajos con back-end"),c.qZA(),c.TgZ(18,"p"),c._uU(19,"Ejemplos en nodejs: "),c._UZ(20,"br"),c.TgZ(21,"a",20),c._uU(22,"Ejemplo propio de un GET en la nube hosteado en heroku y base de datos en ElephantSQL "),c.qZA(),c.TgZ(23,"a",21),c._UZ(24,"span",16),c._uU(25,"Ver codigo"),c.qZA(),c.qZA(),c.TgZ(26,"p"),c._uU(27,"Ejemplos de c\xf3digo en C#: "),c._UZ(28,"br"),c.TgZ(29,"a",22),c._uU(30,"https://cutt.ly/LQ5438u"),c.qZA(),c.qZA(),c.TgZ(31,"p"),c._uU(32,"Ejemplos de c\xf3digo en Ruby: "),c._UZ(33,"br"),c.TgZ(34,"a",23),c._uU(35,"Ultimo proyecto: https://github.com/blosin/Ruby"),c.qZA(),c.qZA(),c.TgZ(36,"p"),c._uU(37,"Ejemplos de c\xf3digo en java: "),c._UZ(38,"br"),c.TgZ(39,"a",24),c._uU(40,"Modelos simples de java: https://github.com/blosin/Java"),c.qZA(),c.qZA(),c.qZA())}function pB(s,r){1&s&&(c.TgZ(0,"div",28),c._UZ(1,"div",29),c.qZA())}function gB(s,r){if(1&s){const i=c.EpF();c.TgZ(0,"button",30),c.NdJ("click",function(){return c.CHM(i),c.oxw().activeModal.close(!0)}),c._uU(1),c.qZA()}if(2&s){const i=c.oxw();c.xp6(1),c.Oqu(i.textoBotonTrue)}}function mB(s,r){if(1&s){const i=c.EpF();c.TgZ(0,"button",31),c.NdJ("click",function(){return c.CHM(i),c.oxw().activeModal.close(!1)}),c._uU(1),c.qZA()}if(2&s){const i=c.oxw();c.xp6(1),c.Oqu(i.textoBotonFalse)}}let ZR=(()=>{class s{constructor(i){this.activeModal=i,this.titulo="",this.texto="",this.textoBotonTrue="",this.textoBotonFalse="",this.bloquearPantalla=!1,this.classHeader="bg-success",this.fuente="fuente",this.faIcon="far fa-check-circle",this.mensaje="",this.bloquearPantalla=!1}ngOnInit(){}cerrar(){this.activeModal.close()}setTipo(i="s"){switch(i=i.toLowerCase()){case"s":this.classHeader="bg-success",this.faIcon="far fa-check-circle";break;case"d":this.classHeader="bg-danger",this.faIcon="fas fa-exclamation-triangle";break;case"i":this.classHeader="bg-info",this.faIcon="fas fa-info-circle";break;case"w":this.classHeader="bg-warning",this.faIcon="fas fa-exclamation-triangle";break;case"id":this.classHeader="bg-dark",this.fuente="fuente",this.faIcon="fas fa-info-circle";break;default:this.classHeader="bg-success"}}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(jR))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-modal-dialog"]],decls:19,vars:12,consts:[[1,"modal-header",3,"ngClass"],[1,"modal-title","fuente"],["type","button","aria-label","Close",1,"btn","fuente","close",3,"click"],["aria-hidden","true"],[1,"modal-body"],[3,"ngClass",4,"ngIf"],[4,"ngIf"],["class","progress",4,"ngIf"],[1,"modal-footer"],["type","button","class","btn btn-sm btn-outline-primary","data-dismiss","modal",3,"click",4,"ngIf"],["type","button","class","btn btn-sm btn-outline-danger","data-dismiss","modal",3,"click",4,"ngIf"],[3,"ngClass"],["href","https://github.com/blosin/WindowsFormProject1",1,"row"],["href","https://github.com/blosin/WindowsFormProject2",1,"row","pt-1"],["href","https://blosin.github.io/blosin-proyectBilletera/",1,"row"],["href","https://github.com/blosin/proyecto-clip-money-d-g1d/tree/master/app",1,"row"],[1,"fas","fa-eye","fa-2x"],["href","https://blosin.github.io/ModeloAngular/",1,"row","pt-1"],["href","https://blosin.github.io/ProyectoBackup/",1,"row","pt-1"],["href","https://nueva-app-33.herokuapp.com/",1,"row","pt-1"],["href","https://nueva-app-33.herokuapp.com/getArticulos"],["href","  https://github.com/blosin/hEROKUfAIL",1,"row"],["href","https://github.com/blosin/proyecto-clip-money-d-g1d/tree/master/ProyectoClipMoney2020"],["href","https://github.com/blosin/Ruby"],["href","https://github.com/blosin/Java"],[1,"pt-2"],[1,""],[1,"pt-4"],[1,"progress"],["role","progressbar","aria-valuenow","100","aria-valuemin","0","aria-valuemax","100",1,"progress-bar","progress-bar-striped","progress-bar-animated",2,"width","100%"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-outline-primary",3,"click"],["type","button","data-dismiss","modal",1,"btn","btn-sm","btn-outline-danger",3,"click"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.TgZ(1,"h4",1),c._uU(2),c.qZA(),c.TgZ(3,"button",2),c.NdJ("click",function(){return o.activeModal.dismiss("Cross click")}),c.TgZ(4,"span",3),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"p"),c.YNc(8,lB,1,1,"i",5),c._uU(9),c.qZA(),c.YNc(10,uB,8,0,"div",6),c.YNc(11,cB,5,0,"div",6),c.YNc(12,dB,17,0,"div",6),c.YNc(13,hB,24,0,"div",6),c.YNc(14,fB,41,0,"div",6),c.YNc(15,pB,2,0,"div",7),c.qZA(),c.TgZ(16,"div",8),c.YNc(17,gB,2,1,"button",9),c.YNc(18,mB,2,1,"button",10),c.qZA()),2&i&&(c.Q6J("ngClass",o.classHeader),c.xp6(2),c.Oqu(o.titulo),c.xp6(6),c.Q6J("ngIf",!o.bloquearPantalla),c.xp6(1),c.hij(" ",o.mensaje," "),c.xp6(1),c.Q6J("ngIf","Sistemas de escritorio"==o.titulo),c.xp6(1),c.Q6J("ngIf","Bases de datos"==o.titulo),c.xp6(1),c.Q6J("ngIf","Front-end"==o.titulo),c.xp6(1),c.Q6J("ngIf","Back-end"==o.titulo),c.xp6(1),c.Q6J("ngIf","Trabajos web"==o.titulo),c.xp6(1),c.Q6J("ngIf",o.bloquearPantalla),c.xp6(2),c.Q6J("ngIf",""!==o.textoBotonTrue),c.xp6(1),c.Q6J("ngIf",""!==o.textoBotonFalse))},directives:[Yo,Rn],styles:[".fuente[_ngcontent-%COMP%]{font-size:1rem;color:#f5f5f5}"]}),s})(),fP=(()=>{class s{constructor(i){this.ngbModal=i,this.contadorBloqueo=0}Alert(i,o="Atencion",u="i"){const h=this.ngbModal.open(ZR);return h.componentInstance.titulo=o,h.componentInstance.mensaje=i,h.componentInstance.textoBotonTrue="",h.componentInstance.textoBotonFalse="",h.componentInstance.setTipo(u),h}Confirm(i,o="Confirmacion",u="Aceptar",h="Cancelar",m,v,C="w"){const S=this.ngbModal.open(ZR);return S.componentInstance.mensaje=i,S.componentInstance.titulo=o,S.componentInstance.textoBotonTrue=u,S.componentInstance.textoBotonFalse=h,S.componentInstance.setTipo(C),S.result.then(N=>N?m():v()),S}BloquearPantalla(){this.contadorBloqueo++,1===this.contadorBloqueo&&(this.modalBloqueoRef=this.ngbModal.open(ZR,{backdrop:"static",keyboard:!1}),this.modalBloqueoRef.componentInstance.titulo="Atencion",this.modalBloqueoRef.componentInstance.mensaje="Procesando, espere por favor!",this.modalBloqueoRef.componentInstance.textoBotonTrue="",this.modalBloqueoRef.componentInstance.textoBotonFalse="",this.modalBloqueoRef.componentInstance.bloquearPantalla=!0,this.modalBloqueoRef.componentInstance.setTipo("i"))}DesbloquearPantalla(){this.contadorBloqueo--,0===this.contadorBloqueo&&this.modalBloqueoRef.close()}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(UO))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function _B(s,r){1&s&&(c.TgZ(0,"span",25),c._uU(1," Error "),c.qZA())}function yB(s,r){1&s&&(c.TgZ(0,"span",25),c._uU(1," Error "),c.qZA())}function vB(s,r){1&s&&(c.TgZ(0,"span",25),c._uU(1," Error "),c.qZA())}function bB(s,r){1&s&&(c.TgZ(0,"span",25),c._uU(1," Ingrese la consulta. "),c.qZA())}function wB(s,r){1&s&&(c.TgZ(0,"span",25),c._uU(1," Error "),c.qZA())}function EB(s,r){1&s&&(c.TgZ(0,"div",32),c._UZ(1,"span",33),c._uU(2,"Verifique los datos proporcionados.... "),c.qZA())}const CB=function(s){return{"is-invalid":s}};let TB=(()=>{class s{constructor(i,o,u){this.formBuilder=i,this.consultasService=o,this.modalDialogService=u,this.submitted=!1,this.BoolSave=!1}ngOnInit(){this.FormConsulta=this.formBuilder.group({nombre:[""],email:[""],asunto:[""],consulta:["",[Ud.required]]})}enviarConsulta(){if(this.submitted=!0,1==this.BoolSave||this.FormConsulta.invalid)return;let i={};i.asunto=this.FormConsulta.controls.asunto.value,i.nombre=this.FormConsulta.controls.nombre.value,i.mail=this.FormConsulta.controls.email.value,i.consulta=this.FormConsulta.controls.consulta.value,this.consultasService.postConsulta(i),this.modalDialogService.Alert("Me pondr\xe9 en contacto a la brevedad","Enviado con \xe9xito","id"),this.FormConsulta.reset(),this.FormConsulta.markAsUntouched(),this.submitted=!1,this.BoolSave=!0,this.deshabilitar()}traerConsultas(){this.consultasService.getConsultas().subscribe(i=>{this.consultas=i})}guardarConsulta(){this.consultasService.postConsulta({})}borrarConsulta(i){this.consultasService.deleteConsulta(i)}actualizarConsulta(i){this.consultasService.putConsulta(i)}traerUnaconsulta(i){var o=this;return(0,Ce.Z)(function*(){console.log(yield o.consultasService.getConsultaId(i))})()}deshabilitar(){var i=this;return(0,Ce.Z)(function*(){yield new Promise(o=>setTimeout(o,15e3)),i.BoolSave=!1})()}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(WT),c.Y36(JF),c.Y36(fP))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-contacto"]],decls:72,vars:11,consts:[["id","contenedor",1,"containter","bg-dark"],[1,"ps-3","fuente","bg-dark"],["id","titulo",1,"text-decoration-underline"],[1,"text-star","pt-5","fuente","text-decoration-underline","fw-bold"],[1,""],[1,"fw-bolder"],[1,"fab","fa-whatsapp",2,"color","greenyellow"],["name","FormConsulta",1,"bg-dark",3,"formGroup"],[1,"fuente","ps-3","text-center","pt-3","text-decoration-underline","fw-bold"],[1,"form-group","row","pt-3"],[1,"col-sm-6"],[1,"row","justify-content-center"],["for","nombre",1,"fuente","col-form-label","col-md-2","col-md-offset-2"],[1,"col-md-8","justify-content-center"],["type","text","formControlName","nombre",1,"form-control","border","border-primary","border-3","rounded-3"],["class","text-danger",4,"ngIf"],[1,"row","justify-content-start"],["for","email",1,"fuente","col-form-label","col-sm-2","col-sm-offset-2","text-start","d-flex","justify-content-start"],[1,"col-md-9","justify-content-center"],["type","text","formControlName","email",1,"form-control","border","border-primary","border-3","rounded-3"],[1,"form-group","row","pt-3","justify-content-md-center"],["for","asunto",1,"col-form-label","col-sm-1","col-sm-offset-1"],[1,"col-md-10"],["type","text","formControlName","asunto",1,"form-control","border","border-primary","border-3","rounded-3"],["for","consulta",1,"col-form-label","col-sm-1","col-sm-offset-1"],[1,"text-danger"],["formControlName","consulta","rows","7",1,"form-control","border","border-primary","border-3","rounded-3",3,"ngClass"],[1,"col-3"],[1,"col-1"],["type","button",1,"btn","btn-primary","col-8","border","border-primary","border-3","rounded-3",3,"disabled","click"],[1,"far","fa-paper-plane"],["id","divMsjFormConsulta","class","row alert alert-danger",4,"ngIf"],["id","divMsjFormConsulta",1,"row","alert","alert-danger"],[1,"fas","fa-exclamation-sign"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"p",2),c._uU(3,"Contacto"),c.qZA(),c.TgZ(4,"h5",3),c._uU(5,"Datos"),c.qZA(),c.TgZ(6,"p",4),c.TgZ(7,"span",5),c._uU(8,"Apellido y Nombres:"),c.qZA(),c._uU(9," Ocampo, Joel Ezequiel "),c.qZA(),c.TgZ(10,"p",4),c.TgZ(11,"span",5),c._uU(12,"Lugar de residencia: "),c.qZA(),c._uU(13,"Argentina-Cordoba-Cordoba"),c.qZA(),c.TgZ(14,"p",4),c.TgZ(15,"span",5),c._uU(16,"Telefono Fijo: "),c.qZA(),c._uU(17," +54 - 351-7249297"),c.qZA(),c.TgZ(18,"p",4),c.TgZ(19,"span",5),c._uU(20,"Telefono Celular( "),c._UZ(21,"span",6),c._uU(22," whatsapp \xa0 ):"),c.qZA(),c._uU(23," +549 - 351 - 153709289"),c.qZA(),c.TgZ(24,"p",4),c.TgZ(25,"span",5),c._uU(26,"E-mail:"),c.qZA(),c._uU(27," ocampo_joel@outlook.com"),c.qZA(),c._UZ(28,"br"),c.qZA(),c.TgZ(29,"form",7),c.TgZ(30,"h5",8),c._uU(31,"Formulario de contacto "),c.qZA(),c.TgZ(32,"div",9),c.TgZ(33,"div",10),c.TgZ(34,"div",11),c.TgZ(35,"label",12),c._uU(36," Nombre: "),c.qZA(),c.TgZ(37,"div",13),c._UZ(38,"input",14),c.YNc(39,_B,2,0,"span",15),c.qZA(),c.qZA(),c.qZA(),c.TgZ(40,"div",10),c.TgZ(41,"div",16),c.TgZ(42,"label",17),c._uU(43," E-mail: "),c.qZA(),c.TgZ(44,"div",18),c._UZ(45,"input",19),c.YNc(46,yB,2,0,"span",15),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(47,"div",20),c.TgZ(48,"label",21),c._uU(49," Asunto: "),c.qZA(),c.TgZ(50,"div",22),c._UZ(51,"input",23),c.YNc(52,vB,2,0,"span",15),c.qZA(),c.qZA(),c.TgZ(53,"div",20),c.TgZ(54,"label",24),c._uU(55," Consulta:"),c.TgZ(56,"span",25),c._uU(57,"*"),c.qZA(),c.qZA(),c.TgZ(58,"div",22),c.TgZ(59,"textarea",26),c._uU(60,"                    "),c.qZA(),c.YNc(61,bB,2,0,"span",15),c.YNc(62,wB,2,0,"span",15),c.qZA(),c.qZA(),c.TgZ(63,"div",27),c._UZ(64,"p"),c.qZA(),c.TgZ(65,"div",11),c.TgZ(66,"div",28),c._UZ(67,"p"),c.qZA(),c.TgZ(68,"button",29),c.NdJ("click",function(){return o.enviarConsulta()}),c._UZ(69,"span",30),c._uU(70," Enviar consulta "),c.qZA(),c.qZA(),c.YNc(71,EB,3,0,"div",31),c.qZA(),c.qZA()),2&i&&(c.xp6(29),c.Q6J("formGroup",o.FormConsulta),c.xp6(10),c.Q6J("ngIf",(o.FormConsulta.controls.nombre.touched||o.submitted)&&((null==o.FormConsulta.controls.nombre.errors?null:o.FormConsulta.controls.nombre.errors.min)||(null==o.FormConsulta.controls.nombre.errors?null:o.FormConsulta.controls.nombre.errors.max))),c.xp6(7),c.Q6J("ngIf",(o.FormConsulta.controls.email.touched||o.submitted)&&((null==o.FormConsulta.controls.email.errors?null:o.FormConsulta.controls.email.errors.min)||(null==o.FormConsulta.controls.email.errors?null:o.FormConsulta.controls.email.errors.max))),c.xp6(6),c.Q6J("ngIf",(o.FormConsulta.controls.asunto.touched||o.submitted)&&((null==o.FormConsulta.controls.asunto.errors?null:o.FormConsulta.controls.asunto.errors.min)||(null==o.FormConsulta.controls.asunto.errors?null:o.FormConsulta.controls.asunto.errors.max))),c.xp6(7),c.Q6J("ngClass",c.VKq(9,CB,(o.FormConsulta.controls.consulta.touched||o.submitted)&&o.FormConsulta.controls.consulta.errors)),c.xp6(2),c.Q6J("ngIf",(o.FormConsulta.controls.consulta.touched||o.submitted)&&(null==o.FormConsulta.controls.consulta.errors?null:o.FormConsulta.controls.consulta.errors.required)),c.xp6(1),c.Q6J("ngIf",(o.FormConsulta.controls.consulta.touched||o.submitted)&&((null==o.FormConsulta.controls.consulta.errors?null:o.FormConsulta.controls.consulta.errors.min)||(null==o.FormConsulta.controls.consulta.errors?null:o.FormConsulta.controls.consulta.errors.max))),c.xp6(6),c.Q6J("disabled",o.BoolSave),c.xp6(3),c.Q6J("ngIf",o.submitted&&o.FormConsulta.invalid))},directives:[TT,z_,Up,Aa,q_,ny,Rn,Yo],styles:["#contenedor[_ngcontent-%COMP%]{padding-top:9rem;font-size:1rem;color:#f5f5f5;height:100vh}.fuente[_ngcontent-%COMP%]{font-size:1rem;color:#f5f5f5}#titulo[_ngcontent-%COMP%]{font-size:3rem}.fw-bolder[_ngcontent-%COMP%]{font-size:1.2rem}.subtitulo[_ngcontent-%COMP%]{font-size:1.5rem}#principal2[_ngcontent-%COMP%]{background-image:url(backgroudinicio.jpg);background-attachment:fixed;background-repeat:no-repeat;background-position:center;background-size:100% 100%;position:fixed;height:100%;width:100%}"]}),s})();Ut({height:"{{ height }}",opacity:"{{ opacity }}",backgroundColor:"{{ backgroundColor }}"}),dr("{{ time }}");const DB=ll("routeAnimations",[ki("AcercaDeMi <=> Contacto",[Ut({position:"relative"}),$t(":enter, :leave",[Ut({position:"absolute",top:0,left:0,width:"100%"})]),$t(":enter",[Ut({left:"-100%"})]),$t(":leave",Oi()),ul([$t(":leave",[dr("300ms ease-out",Ut({left:"100%"}))]),$t(":enter",[dr("300ms ease-out",Ut({left:"0%"}))])]),$t(":enter",Oi())]),ki("Trabajos => AcercaDeMi",[Ut({position:"relative"}),$t(":enter, :leave",[Ut({position:"absolute",top:0,left:0,width:"100%"})]),$t(":enter",[Ut({left:"-100%"})]),$t(":leave",Oi()),ul([$t(":leave",[dr("100ms ease-out",Ut({left:"100%"}))]),$t(":enter",[dr("100ms ease-out",Ut({left:"0%"}))])]),$t(":enter",Oi())]),ki("Trabajos => Contacto",[Ut({position:"relative"}),$t(":enter, :leave",[Ut({position:"absolute",top:0,left:0,width:"100%"})]),$t(":enter",[Ut({left:"-100%"})]),$t(":leave",Oi()),ul([$t(":leave",[dr("100ms ease-out",Ut({left:"100%"}))]),$t(":enter",[dr("100ms ease-out",Ut({left:"0%"}))])]),$t(":enter",Oi())]),ki("SinEfectos => Contacto",[Ut({position:"relative"}),$t(":enter, :leave",[Ut({position:"absolute",top:0,left:0,width:"100%"})]),$t(":enter",[Ut({left:"-100%"})]),$t(":leave",Oi()),ul([$t(":leave",[dr("300ms ease-out",Ut({left:"100%"}))]),$t(":enter",[dr("300ms ease-out",Ut({left:"0%"}))])]),$t(":enter",Oi())]),ki("SinEfectos => AcercaDeMi",[Ut({position:"relative"}),$t(":enter, :leave",[Ut({position:"absolute",top:0,left:0,width:"100%"})]),$t(":enter",[Ut({left:"-100%"})]),$t(":leave",Oi()),ul([$t(":leave",[dr("300ms ease-out",Ut({left:"100%"}))]),$t(":enter",[dr("300ms ease-out",Ut({left:"0%"}))])]),$t(":enter",Oi())])]);let IB=(()=>{class s{constructor(){}ngOnInit(){}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-navbar"]],decls:33,vars:0,consts:[[1,"navbar","navbar-default","navbar-fixed-top","navbar-expand-lg","navbar-dark","bg-primary","navbar-fixed-top"],[1,"container-fluid"],["routerLink","/",1,"navbar-brand"],["src","./assets/imagenes/logo.png","width","10%"],[1,""],[1,"d-flex","d-inline-flex","flex-row-reverse"],["type","button","data-bs-toggle","collapse","data-bs-target","#nabvarInicio","aria-controls","navbarColor01","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler","justify-content-end"],[1,"navbar-toggler-icon","justify-content-end"],["routerLink","/contacto",1,"p-2","d-lg-none","justify-content-end","btn","btn-primary"],[1,"far","fa-paper-plane","fa-2x"],["href","https://github.com/blosin","title","https://github.com/blosin",1,"p-2","d-lg-none","justify-content-end","btn","btn-primary"],[1,"fab","fa-github","fa-2x"],["id","nabvarInicio",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"nav-item"],["routerLink","/","data-bs-toggle","collapse","data-bs-target",".navbar-collapse.show",1,"nav-link","active","d-flex","justify-content-end","d-lg-none"],[1,"visually-hidden"],["routerLink","/trabajos","data-bs-toggle","collapse","data-bs-target",".navbar-collapse.show",1,"nav-link","d-flex","justify-content-end"],["routerLink","/acerca-demi","routerLinkActive","active","data-bs-toggle","collapse","data-bs-target",".navbar-collapse.show",1,"nav-link","d-flex","justify-content-end"],["routerLink","/contacto","data-bs-toggle","collapse","data-bs-target",".navbar-collapse.show",1,"nav-link","d-flex","justify-content-end"],["href","https://github.com/blosin","title","https://github.com/blosin",1,"d-none","d-lg-block","btn","btn-primary"],["routerLink","/contacto",1,"d-none","d-lg-block","btn","btn-primary"]],template:function(i,o){1&i&&(c.TgZ(0,"nav",0),c.TgZ(1,"div",1),c.TgZ(2,"a",2),c._UZ(3,"img",3),c._uU(4,"oel Ocampo"),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"button",6),c._UZ(8,"span",7),c.qZA(),c.TgZ(9,"a",8),c._UZ(10,"span",9),c.qZA(),c.TgZ(11,"a",10),c._UZ(12,"span",11),c.qZA(),c.qZA(),c.qZA(),c.TgZ(13,"div",12),c.TgZ(14,"ul",13),c.TgZ(15,"li",14),c.TgZ(16,"a",15),c._uU(17,"Inicio "),c.TgZ(18,"span",16),c._uU(19,"(current)"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(20,"li",14),c.TgZ(21,"a",17),c._uU(22,"Trabajos"),c.qZA(),c.qZA(),c.TgZ(23,"li",14),c.TgZ(24,"a",18),c._uU(25,"Acerca de mi"),c.qZA(),c.qZA(),c.TgZ(26,"li",14),c.TgZ(27,"a",19),c._uU(28,"Contacto"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(29,"a",20),c._UZ(30,"span",11),c.qZA(),c.TgZ(31,"a",21),c._UZ(32,"span",9),c.qZA(),c.qZA(),c.qZA(),c.qZA())},directives:[UR,H_,FA],styles:["#fixed[_ngcontent-%COMP%]{position:fixed}.navbar-fixed-top[_ngcontent-%COMP%]{position:fixed;right:0;left:0;top:0;z-index:1030}"]}),s})(),pP=!1,SB=(()=>{class s{constructor(i){this.router=i,this.subscription=i.events.subscribe(o=>{o instanceof P0&&(pP=!i.navigated)})}ngOnDestroy(){this.subscription.unsubscribe()}prepareRoute(i){return i&&i.activatedRouteData&&i.activatedRouteData.animation}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(si))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-root"]],decls:4,vars:1,consts:[["outlet","outlet"]],template:function(i,o){if(1&i&&(c._UZ(0,"app-navbar"),c.TgZ(1,"div"),c._UZ(2,"router-outlet",null,0),c.qZA()),2&i){const u=c.MAs(3);c.xp6(1),c.Q6J("@routeAnimations",o.prepareRoute(u))}},directives:[IB,hb],styles:["#body[_ngcontent-%COMP%]{height:100vh}"],data:{animation:[DB]}}),s})();function AB(s,r){1&s&&(c.TgZ(0,"legend",5),c._uU(1,"Bienvenido!"),c.qZA()),2&s&&c.Q6J("@myInsertRemoveTrigger",void 0)}function NB(s,r){1&s&&(c.TgZ(0,"div",6),c.TgZ(1,"p",7),c._uU(2," Portafolio de \xa0 "),c._UZ(3,"img",8),c._uU(4,"oel Ocampo "),c._UZ(5,"img",9),c.TgZ(6,"span",10),c._uU(7,"Developer"),c.qZA(),c.qZA(),c.qZA()),2&s&&c.Q6J("@myInsertRemoveTrigger2",void 0)}function MB(s,r){1&s&&(c.TgZ(0,"div",11),c.TgZ(1,"p",12),c._UZ(2,"img",13),c._uU(3,"oel Ocampo "),c.qZA(),c.qZA()),2&s&&c.Q6J("@myInsertRemoveTrigger2",void 0)}function RB(s,r){1&s&&(c.TgZ(0,"div",11),c._UZ(1,"p",14),c.qZA()),2&s&&c.Q6J("@myInsertRemoveTrigger2",void 0)}function xB(s,r){1&s&&(c.TgZ(0,"div",11),c.TgZ(1,"p",15),c._uU(2,"Developer "),c.qZA(),c.qZA()),2&s&&c.Q6J("@myInsertRemoveTrigger2",void 0)}const kB=[{path:"",component:(()=>{class s{constructor(){this.isShown=!1,this.isShown2=!1,this.browserRefresh=!1}ngOnInit(){var i=this;return(0,Ce.Z)(function*(){i.browserRefresh=pP,1==i.browserRefresh?localStorage.setItem("inicio",JSON.stringify({})):localStorage.setItem("inicio",JSON.stringify({OK:"OK"})),localStorage.getItem("inicio")==JSON.stringify({})&&(i.isShown=!0,yield new Promise(o=>setTimeout(o,1250)),i.isShown=!1,yield new Promise(o=>setTimeout(o,1250))),i.isShown2=!0})()}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-inicio"]],decls:7,vars:5,consts:[["name","principal2","id","principal2",1,"container-fluid"],["id","txt","class","principal2",4,"ngIf"],["class","  row d-none d-xl-block ",4,"ngIf"],[1,"principal3"],["class","row d-xl-none principal3",4,"ngIf"],["id","txt",1,"principal2"],[1,"row","d-none","d-xl-block"],[1,"fuente","d-flex","justify-content-center","verticalGlobal"],["src","./assets/imagenes/logo.png","width","5%","height","5%",1,"img"],["src","./assets/imagenes/barra.png","width","5%",1,"img"],[1,"vertical"],[1,"row","d-xl-none","principal3"],[1,"fuente2","d-flex","justify-content-center","verticalGlobal2"],["src","./assets/imagenes/logo.png","width","5%",1,"img"],[1,"linea2","verticalLinea"],[1,"fuente2","d-flex","justify-content-center","verticalGlobal3"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.YNc(1,AB,2,1,"legend",1),c.YNc(2,NB,8,1,"div",2),c.TgZ(3,"div",3),c.YNc(4,MB,4,1,"div",4),c.YNc(5,RB,2,1,"div",4),c.YNc(6,xB,3,1,"div",4),c.qZA(),c.qZA()),2&i&&(c.xp6(1),c.Q6J("ngIf",o.isShown),c.xp6(1),c.Q6J("ngIf",o.isShown2),c.xp6(2),c.Q6J("ngIf",o.isShown2),c.xp6(1),c.Q6J("ngIf",o.isShown2),c.xp6(1),c.Q6J("ngIf",o.isShown2))},directives:[Rn],styles:["#principal2[_ngcontent-%COMP%]{background-image:url(backgroudinicio.jpg);background-attachment:fixed;background-repeat:no-repeat;background-position:center;background-size:100% 100%;position:fixed;height:100%;width:100%}.principal2[_ngcontent-%COMP%]{padding-top:6rem;position:fixed;height:100%;width:100%}.principal3[_ngcontent-%COMP%]{padding-top:6rem;position:fixed;height:100%;width:100%}#txt[_ngcontent-%COMP%]{font-size:4rem;color:#f5f5f5;position:relative}.fuente[_ngcontent-%COMP%]{font-size:4rem;color:#f5f5f5}#d-flex[_ngcontent-%COMP%]{background-color:#f5f5f5}.verticalGlobal[_ngcontent-%COMP%]{margin:0;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);padding-top:2rem}.vertical[_ngcontent-%COMP%]{top:15rem;position:relative}.verticalGlobal2[_ngcontent-%COMP%]{margin:0;position:absolute;top:25%;left:50%;transform:translate(-50%,-50%)}.verticalGlobal3[_ngcontent-%COMP%]{margin:0;position:absolute;top:35%;left:50%;transform:translate(-50%,-50%)}.fuente2[_ngcontent-%COMP%]{font-size:2rem;color:#f5f5f5}.vertical2[_ngcontent-%COMP%]{top:15rem;position:relative}.linea2[_ngcontent-%COMP%]{border-top:5px solid white;height:5px;max-width:400px;padding:0;margin:0 auto}.verticalLinea[_ngcontent-%COMP%]{margin:0;position:absolute;top:33%;left:50%;transform:translate(-50%,-50%);padding-top:2rem}"],data:{animation:[ll("myInsertRemoveTrigger",[ki(":enter",[Ut({opacity:0}),dr("1000ms",Ut({opacity:1}))]),ki(":leave",[dr("1000ms",Ut({opacity:0}))])]),ll("myInsertRemoveTrigger2",[ki(":enter",[Ut({opacity:0}),dr("1000ms",Ut({opacity:1}))])])]}}),s})(),pathMatch:"full",data:{animation:"SinEfectos"}},{path:"trabajos",component:(()=>{class s{constructor(i){this.modalDialogService=i,this.animatePage=!0}ngOnInit(){}verWindowsForm(){this.modalDialogService.Alert("Sistemas con Windows Forms (C# y SQL utilizando ADO.NET) ","Sistemas de escritorio","id")}verAngular(){this.modalDialogService.Alert("Uso de Angular, esta web esta programada con el framework angular.","Front-end","id")}verApis(){this.modalDialogService.Alert("Servicios en JSON(GET, PUT, DELETE, POST...) en C#, ruby, nodejs y java","Back-end","id")}verTrabajosWeb(){this.modalDialogService.Alert("Modelo MVC, servicios (get put delete post) creados en C#, ruby, nodejs y java","Trabajos web","id")}verBaseDeDatos(){this.modalDialogService.Alert("Se trabajo con SQL server, postgreSQL y firebase","Bases de datos","id")}}return s.\u0275fac=function(i){return new(i||s)(c.Y36(fP))},s.\u0275cmp=c.Xpm({type:s,selectors:[["app-trabajos"]],hostVars:1,hostBindings:function(i,o){2&i&&c.d8E("@pageAnimations",o.animatePage)},decls:62,vars:0,consts:[["id","contenedor",1,"containter-fluid","bg-dark"],["id","titulo",1,"text-center","text-decoration-underline"],[1,"row","justify-content-center","bg-dark"],[1,"col-auto"],[1,"d-none","d-md-block","table","table-hover","table-striped","table-dark","table-bordered"],[1,"col-4","border","border-primary","border-5","negrita","col"],["colspan","4"],["type","button","title","Ver",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-link","fa-2x",2,"color","whitesmoke"],["scope","col-8",1,"border","border-primary","border-5","negrita","col"],["colspan","2"],["scope","col-6",1,"border","border-primary","border-5","negrita","col"],[1,"fas","fa-eye","fa-2x",2,"color","whitesmoke"],["href","./assets/archivos/curriculum-vitae3Extr.pdf ",1,"d-flex","negrita","justify-content-end","px-3"],[1,"text-decoration-underline","fw-bold"],[1,"col-auto","bg-dark"],[1,"d-md-none","table","table-hover","table-striped","table-dark","table-bordered"],[1,"col-6","border","border-primary","border-5","negrita2","col"],["scope","col-6",1,"border","border-primary","border-5","negrita2","col"]],template:function(i,o){1&i&&(c.TgZ(0,"div",0),c.TgZ(1,"p",1),c._uU(2,"Trabajos realizados"),c.qZA(),c.TgZ(3,"div",2),c.TgZ(4,"div",3),c.TgZ(5,"table",4),c._UZ(6,"thead"),c.TgZ(7,"tbody"),c.TgZ(8,"tr"),c.TgZ(9,"th",5),c._uU(10,"Trabajos de escritorio"),c.qZA(),c.TgZ(11,"td",6),c._uU(12,"Windows Forms .NET "),c.TgZ(13,"button",7),c.NdJ("click",function(){return o.verWindowsForm()}),c._UZ(14,"span",8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(15,"tr"),c.TgZ(16,"th",9),c._uU(17,"Trabajos web"),c.qZA(),c.TgZ(18,"td",10),c._uU(19,"Front (Angular) "),c.TgZ(20,"button",7),c.NdJ("click",function(){return o.verAngular()}),c._UZ(21,"span",8),c.qZA(),c.qZA(),c.TgZ(22,"td",10),c._uU(23,"Back (APIs) "),c.TgZ(24,"button",7),c.NdJ("click",function(){return o.verApis()}),c._UZ(25,"span",8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(26,"tr"),c.TgZ(27,"th",11),c._uU(28,"Base de datos "),c.TgZ(29,"button",7),c.NdJ("click",function(){return o.verBaseDeDatos()}),c._UZ(30,"span",12),c.qZA(),c.qZA(),c.TgZ(31,"td"),c._uU(32,"Sql server"),c.qZA(),c.TgZ(33,"td"),c._uU(34,"PostgreSQL"),c.qZA(),c.TgZ(35,"td"),c._uU(36,"Firebase"),c.qZA(),c.TgZ(37,"td"),c._uU(38,"SQL"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(39,"a",13),c.TgZ(40,"p",14),c._uU(41,"Ver / Descargar CV"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(42,"div",2),c.TgZ(43,"div",15),c.TgZ(44,"table",16),c._UZ(45,"thead"),c.TgZ(46,"tbody"),c.TgZ(47,"tr"),c.TgZ(48,"th",17),c._uU(49,"Trabajos de escritorio "),c.TgZ(50,"button",7),c.NdJ("click",function(){return o.verWindowsForm()}),c._UZ(51,"span",8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(52,"tr"),c.TgZ(53,"th",18),c._uU(54,"Trabajos web "),c.TgZ(55,"button",7),c.NdJ("click",function(){return o.verTrabajosWeb()}),c._UZ(56,"span",8),c.qZA(),c.qZA(),c.qZA(),c.TgZ(57,"tr"),c.TgZ(58,"th",18),c._uU(59,"Base de datos "),c.TgZ(60,"button",7),c.NdJ("click",function(){return o.verBaseDeDatos()}),c._UZ(61,"span",12),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA())},styles:["#contenedor[_ngcontent-%COMP%]{margin:0;padding-top:7rem;font-size:1rem;color:#f5f5f5;height:120vh;width:100vw}#titulo[_ngcontent-%COMP%]{font-size:3rem}.fuente[_ngcontent-%COMP%]{font-size:1rem;color:#f5f5f5}.negrita[_ngcontent-%COMP%]{font-weight:bold;color:#f5f5f5;font-size:1.2rem}.negrita2[_ngcontent-%COMP%]{font-weight:bold;color:#f5f5f5;font-size:1.2rem}#principal2[_ngcontent-%COMP%]{background-image:url(backgroudinicio.jpg);background-attachment:fixed;background-repeat:no-repeat;background-position:center;background-size:100% 100%;position:fixed;height:100%;width:100%}"],data:{animation:[ll("pageAnimations",[ki(":enter",[$t(".containter-fluid, form",[Ut({opacity:0,transform:"translateY(-100px)"}),oa(-30,[dr("1000ms cubic-bezier(0.35, 0, 0.25, 1)",Ut({opacity:1,transform:"none"}))])])])])]}}),s})(),pathMatch:"full",data:{animation:"Trabajos"}},{path:"contacto",component:TB,pathMatch:"full",data:{animation:"Contacto"}},{path:"acerca-demi",component:Ap,pathMatch:"full",data:{animation:"AcercaDeMi"}},{path:"**",redirectTo:"",pathMatch:"full"}];let OB=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({imports:[[gb.forRoot(kB,{useHash:!0})],gb]}),s})();class gP{}class mP{}class Sc{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(i=>{const o=i.indexOf(":");if(o>0){const u=i.slice(0,o),h=u.toLowerCase(),m=i.slice(o+1).trim();this.maybeSetNormalizedName(u,h),this.headers.has(h)?this.headers.get(h).push(m):this.headers.set(h,[m])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(i=>{let o=r[i];const u=i.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(i,u))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof Sc?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){const i=new Sc;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof Sc?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){const i=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,i);const u=("a"===r.op?this.headers.get(i):void 0)||[];u.push(...o),this.headers.set(i,u);break;case"d":const h=r.value;if(h){let m=this.headers.get(i);if(!m)return;m=m.filter(v=>-1===h.indexOf(v)),0===m.length?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,m)}else this.headers.delete(i),this.normalizedNames.delete(i)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}}class PB{encodeKey(r){return _P(r)}encodeValue(r){return _P(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const LB=/%(\d[a-f0-9])/gi,VB={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function _P(s){return encodeURIComponent(s).replace(LB,(r,i)=>{var o;return null!==(o=VB[i])&&void 0!==o?o:r})}function yP(s){return`${s}`}class Zh{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new PB,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(s,r){const i=new Map;return s.length>0&&s.replace(/^\?/,"").split("&").forEach(u=>{const h=u.indexOf("="),[m,v]=-1==h?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,h)),r.decodeValue(u.slice(h+1))],C=i.get(m)||[];C.push(v),i.set(m,C)}),i}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{const o=r.fromObject[i];this.map.set(i,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){const i=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(h=>{i.push({param:o,value:h,op:"a"})}):i.push({param:o,value:u,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const i=this.encoder.encodeKey(r);return this.map.get(r).map(o=>i+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const i=new Zh({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const i=("a"===r.op?this.map.get(r.param):void 0)||[];i.push(yP(r.value)),this.map.set(r.param,i);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(yP(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class UB{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}keys(){return this.map.keys()}}function vP(s){return"undefined"!=typeof ArrayBuffer&&s instanceof ArrayBuffer}function bP(s){return"undefined"!=typeof Blob&&s instanceof Blob}function wP(s){return"undefined"!=typeof FormData&&s instanceof FormData}class VE{constructor(r,i,o,u){let h;if(this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function(s){switch(s){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,h=u):h=o,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params)),this.headers||(this.headers=new Sc),this.context||(this.context=new UB),this.params){const m=this.params.toString();if(0===m.length)this.urlWithParams=i;else{const v=i.indexOf("?");this.urlWithParams=i+(-1===v?"?":v<i.length-1?"&":"")+m}}else this.params=new Zh,this.urlWithParams=i}serializeBody(){return null===this.body?null:vP(this.body)||bP(this.body)||wP(this.body)||function(s){return"undefined"!=typeof URLSearchParams&&s instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Zh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||wP(this.body)?null:bP(this.body)?this.body.type||null:vP(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Zh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var i;const o=r.method||this.method,u=r.url||this.url,h=r.responseType||this.responseType,m=void 0!==r.body?r.body:this.body,v=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,C=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let S=r.headers||this.headers,N=r.params||this.params;const x=null!==(i=r.context)&&void 0!==i?i:this.context;return void 0!==r.setHeaders&&(S=Object.keys(r.setHeaders).reduce((F,L)=>F.set(L,r.setHeaders[L]),S)),r.setParams&&(N=Object.keys(r.setParams).reduce((F,L)=>F.set(L,r.setParams[L]),N)),new VE(o,u,m,{params:N,headers:S,context:x,reportProgress:C,responseType:h,withCredentials:v})}}var Dr=(()=>((Dr=Dr||{})[Dr.Sent=0]="Sent",Dr[Dr.UploadProgress=1]="UploadProgress",Dr[Dr.ResponseHeader=2]="ResponseHeader",Dr[Dr.DownloadProgress=3]="DownloadProgress",Dr[Dr.Response=4]="Response",Dr[Dr.User=5]="User",Dr))();class qR{constructor(r,i=200,o="OK"){this.headers=r.headers||new Sc,this.status=void 0!==r.status?r.status:i,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class zR extends qR{constructor(r={}){super(r),this.type=Dr.ResponseHeader}clone(r={}){return new zR({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class kS extends qR{constructor(r={}){super(r),this.type=Dr.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new kS({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class EP extends qR{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function WR(s,r){return{body:r,headers:s.headers,context:s.context,observe:s.observe,params:s.params,reportProgress:s.reportProgress,responseType:s.responseType,withCredentials:s.withCredentials}}let HB=(()=>{class s{constructor(i){this.handler=i}request(i,o,u={}){let h;if(i instanceof VE)h=i;else{let C,S;C=u.headers instanceof Sc?u.headers:new Sc(u.headers),u.params&&(S=u.params instanceof Zh?u.params:new Zh({fromObject:u.params})),h=new VE(i,o,void 0!==u.body?u.body:null,{headers:C,context:u.context,params:S,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const m=(0,it.of)(h).pipe(Ea(C=>this.handler.handle(C)));if(i instanceof VE||"events"===u.observe)return m;const v=m.pipe(Dn(C=>C instanceof kS));switch(u.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return v.pipe((0,nt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return v.pipe((0,nt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return v.pipe((0,nt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return v.pipe((0,nt.U)(C=>C.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(i,o={}){return this.request("DELETE",i,o)}get(i,o={}){return this.request("GET",i,o)}head(i,o={}){return this.request("HEAD",i,o)}jsonp(i,o){return this.request("JSONP",i,{params:(new Zh).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,o={}){return this.request("OPTIONS",i,o)}patch(i,o,u={}){return this.request("PATCH",i,WR(u,o))}post(i,o,u={}){return this.request("POST",i,WR(u,o))}put(i,o,u={}){return this.request("PUT",i,WR(u,o))}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(gP))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();class CP{constructor(r,i){this.next=r,this.interceptor=i}handle(r){return this.interceptor.intercept(r,this.next)}}const TP=new c.OlP("HTTP_INTERCEPTORS");let $B=(()=>{class s{intercept(i,o){return o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const GB=/^\)\]\}',?\n/;let DP=(()=>{class s{constructor(i){this.xhrFactory=i}handle(i){if("JSONP"===i.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wn.y(o=>{const u=this.xhrFactory.build();if(u.open(i.method,i.urlWithParams),i.withCredentials&&(u.withCredentials=!0),i.headers.forEach((L,q)=>u.setRequestHeader(L,q.join(","))),i.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){const L=i.detectContentTypeHeader();null!==L&&u.setRequestHeader("Content-Type",L)}if(i.responseType){const L=i.responseType.toLowerCase();u.responseType="json"!==L?L:"text"}const h=i.serializeBody();let m=null;const v=()=>{if(null!==m)return m;const L=1223===u.status?204:u.status,q=u.statusText||"OK",re=new Sc(u.getAllResponseHeaders()),be=function(s){return"responseURL"in s&&s.responseURL?s.responseURL:/^X-Request-URL:/m.test(s.getAllResponseHeaders())?s.getResponseHeader("X-Request-URL"):null}(u)||i.url;return m=new zR({headers:re,status:L,statusText:q,url:be}),m},C=()=>{let{headers:L,status:q,statusText:re,url:be}=v(),xe=null;204!==q&&(xe=void 0===u.response?u.responseText:u.response),0===q&&(q=xe?200:0);let Pe=q>=200&&q<300;if("json"===i.responseType&&"string"==typeof xe){const Ye=xe;xe=xe.replace(GB,"");try{xe=""!==xe?JSON.parse(xe):null}catch(st){xe=Ye,Pe&&(Pe=!1,xe={error:st,text:xe})}}Pe?(o.next(new kS({body:xe,headers:L,status:q,statusText:re,url:be||void 0})),o.complete()):o.error(new EP({error:xe,headers:L,status:q,statusText:re,url:be||void 0}))},S=L=>{const{url:q}=v(),re=new EP({error:L,status:u.status||0,statusText:u.statusText||"Unknown Error",url:q||void 0});o.error(re)};let N=!1;const x=L=>{N||(o.next(v()),N=!0);let q={type:Dr.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(q.total=L.total),"text"===i.responseType&&!!u.responseText&&(q.partialText=u.responseText),o.next(q)},F=L=>{let q={type:Dr.UploadProgress,loaded:L.loaded};L.lengthComputable&&(q.total=L.total),o.next(q)};return u.addEventListener("load",C),u.addEventListener("error",S),u.addEventListener("timeout",S),u.addEventListener("abort",S),i.reportProgress&&(u.addEventListener("progress",x),null!==h&&u.upload&&u.upload.addEventListener("progress",F)),u.send(h),o.next({type:Dr.Sent}),()=>{u.removeEventListener("error",S),u.removeEventListener("abort",S),u.removeEventListener("load",C),u.removeEventListener("timeout",S),i.reportProgress&&(u.removeEventListener("progress",x),null!==h&&u.upload&&u.upload.removeEventListener("progress",F)),u.readyState!==u.DONE&&u.abort()}})}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(nf))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})();const YR=new c.OlP("XSRF_COOKIE_NAME"),KR=new c.OlP("XSRF_HEADER_NAME");class IP{}let qB=(()=>{class s{constructor(i,o,u){this.doc=i,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=cr(i,this.cookieName),this.lastCookieString=i),this.lastToken}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(ae),c.LFG(c.Lbi),c.LFG(YR))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),JR=(()=>{class s{constructor(i,o){this.tokenService=i,this.headerName=o}intercept(i,o){const u=i.url.toLowerCase();if("GET"===i.method||"HEAD"===i.method||u.startsWith("http://")||u.startsWith("https://"))return o.handle(i);const h=this.tokenService.getToken();return null!==h&&!i.headers.has(this.headerName)&&(i=i.clone({headers:i.headers.set(this.headerName,h)})),o.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(IP),c.LFG(KR))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),zB=(()=>{class s{constructor(i,o){this.backend=i,this.injector=o,this.chain=null}handle(i){if(null===this.chain){const o=this.injector.get(TP,[]);this.chain=o.reduceRight((u,h)=>new CP(u,h),this.backend)}return this.chain.handle(i)}}return s.\u0275fac=function(i){return new(i||s)(c.LFG(mP),c.LFG(c.zs3))},s.\u0275prov=c.Yz7({token:s,factory:s.\u0275fac}),s})(),WB=(()=>{class s{static disable(){return{ngModule:s,providers:[{provide:JR,useClass:$B}]}}static withOptions(i={}){return{ngModule:s,providers:[i.cookieName?{provide:YR,useValue:i.cookieName}:[],i.headerName?{provide:KR,useValue:i.headerName}:[]]}}}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[JR,{provide:TP,useExisting:JR,multi:!0},{provide:IP,useClass:qB},{provide:YR,useValue:"XSRF-TOKEN"},{provide:KR,useValue:"X-XSRF-TOKEN"}]}),s})(),YB=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s}),s.\u0275inj=c.cJS({providers:[HB,{provide:gP,useClass:zB},DP,{provide:mP,useExisting:DP}],imports:[[WB.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),s})();const SP_firebase={apiKey:"AIzaSyCAHkdcQ8sf4Zf5E0eyVo1ZiO4M9XcQJqY",authDomain:"proyectoportfolio-8a36d.firebaseapp.com",databaseURL:"https://proyectoportfolio-8a36d-default-rtdb.firebaseio.com",projectId:"proyectoportfolio-8a36d",storageBucket:"proyectoportfolio-8a36d.appspot.com",messagingSenderId:"1090994439120",appId:"1:1090994439120:web:9ef85fff89f95845f26fd5",measurementId:"G-ZJML2PM1TK"};let KB=(()=>{class s{}return s.\u0275fac=function(i){return new(i||s)},s.\u0275mod=c.oAB({type:s,bootstrap:[SB]}),s.\u0275inj=c.cJS({providers:[],imports:[[Bn,il,qT,YB,t1,OB,aB,Mo.hO.initializeApp(SP_firebase),KF]]}),s})();(0,c.G48)(),fu().bootstrapModule(KB).catch(s=>console.error(s))},4762:(Ze,De,U)=>{"use strict";U.d(De,{ZT:()=>le,pi:()=>Z,_T:()=>oe,mG:()=>J,Jh:()=>$,XA:()=>B,CR:()=>Y,ev:()=>_e});var c=function(he,se){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ve,pe){ve.__proto__=pe}||function(ve,pe){for(var fe in pe)Object.prototype.hasOwnProperty.call(pe,fe)&&(ve[fe]=pe[fe])})(he,se)};function le(he,se){if("function"!=typeof se&&null!==se)throw new TypeError("Class extends value "+String(se)+" is not a constructor or null");function ve(){this.constructor=he}c(he,se),he.prototype=null===se?Object.create(se):(ve.prototype=se.prototype,new ve)}var Z=function(){return(Z=Object.assign||function(se){for(var ve,pe=1,fe=arguments.length;pe<fe;pe++)for(var X in ve=arguments[pe])Object.prototype.hasOwnProperty.call(ve,X)&&(se[X]=ve[X]);return se}).apply(this,arguments)};function oe(he,se){var ve={};for(var pe in he)Object.prototype.hasOwnProperty.call(he,pe)&&se.indexOf(pe)<0&&(ve[pe]=he[pe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var fe=0;for(pe=Object.getOwnPropertySymbols(he);fe<pe.length;fe++)se.indexOf(pe[fe])<0&&Object.prototype.propertyIsEnumerable.call(he,pe[fe])&&(ve[pe[fe]]=he[pe[fe]])}return ve}function J(he,se,ve,pe){return new(ve||(ve=Promise))(function(X,Ue){function ot(dt){try{Xe(pe.next(dt))}catch(ut){Ue(ut)}}function Kt(dt){try{Xe(pe.throw(dt))}catch(ut){Ue(ut)}}function Xe(dt){dt.done?X(dt.value):function(X){return X instanceof ve?X:new ve(function(Ue){Ue(X)})}(dt.value).then(ot,Kt)}Xe((pe=pe.apply(he,se||[])).next())})}function $(he,se){var pe,fe,X,Ue,ve={label:0,sent:function(){if(1&X[0])throw X[1];return X[1]},trys:[],ops:[]};return Ue={next:ot(0),throw:ot(1),return:ot(2)},"function"==typeof Symbol&&(Ue[Symbol.iterator]=function(){return this}),Ue;function ot(Xe){return function(dt){return function(Xe){if(pe)throw new TypeError("Generator is already executing.");for(;ve;)try{if(pe=1,fe&&(X=2&Xe[0]?fe.return:Xe[0]?fe.throw||((X=fe.return)&&X.call(fe),0):fe.next)&&!(X=X.call(fe,Xe[1])).done)return X;switch(fe=0,X&&(Xe=[2&Xe[0],X.value]),Xe[0]){case 0:case 1:X=Xe;break;case 4:return ve.label++,{value:Xe[1],done:!1};case 5:ve.label++,fe=Xe[1],Xe=[0];continue;case 7:Xe=ve.ops.pop(),ve.trys.pop();continue;default:if(!(X=(X=ve.trys).length>0&&X[X.length-1])&&(6===Xe[0]||2===Xe[0])){ve=0;continue}if(3===Xe[0]&&(!X||Xe[1]>X[0]&&Xe[1]<X[3])){ve.label=Xe[1];break}if(6===Xe[0]&&ve.label<X[1]){ve.label=X[1],X=Xe;break}if(X&&ve.label<X[2]){ve.label=X[2],ve.ops.push(Xe);break}X[2]&&ve.ops.pop(),ve.trys.pop();continue}Xe=se.call(he,ve)}catch(dt){Xe=[6,dt],fe=0}finally{pe=X=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Xe,dt])}}}function B(he){var se="function"==typeof Symbol&&Symbol.iterator,ve=se&&he[se],pe=0;if(ve)return ve.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&pe>=he.length&&(he=void 0),{value:he&&he[pe++],done:!he}}};throw new TypeError(se?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(he,se){var ve="function"==typeof Symbol&&he[Symbol.iterator];if(!ve)return he;var fe,Ue,pe=ve.call(he),X=[];try{for(;(void 0===se||se-- >0)&&!(fe=pe.next()).done;)X.push(fe.value)}catch(ot){Ue={error:ot}}finally{try{fe&&!fe.done&&(ve=pe.return)&&ve.call(pe)}finally{if(Ue)throw Ue.error}}return X}function _e(he,se,ve){if(ve||2===arguments.length)for(var X,pe=0,fe=se.length;pe<fe;pe++)(X||!(pe in se))&&(X||(X=Array.prototype.slice.call(se,0,pe)),X[pe]=se[pe]);return he.concat(X||Array.prototype.slice.call(se))}},8239:(Ze,De,U)=>{"use strict";function c(Z,oe,ge,Q,ae,J,$){try{var V=Z[J]($),z=V.value}catch(B){return void ge(B)}V.done?oe(z):Promise.resolve(z).then(Q,ae)}function le(Z){return function(){var oe=this,ge=arguments;return new Promise(function(Q,ae){var J=Z.apply(oe,ge);function $(z){c(J,Q,ae,$,V,"next",z)}function V(z){c(J,Q,ae,$,V,"throw",z)}$(void 0)})}}U.d(De,{Z:()=>le})}},Ze=>{Ze(Ze.s=8181)}]);